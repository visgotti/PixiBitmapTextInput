(function(O,H){typeof exports=="object"&&typeof module<"u"?H(exports):typeof define=="function"&&define.amd?define(["exports"],H):(O=typeof globalThis<"u"?globalThis:O||self,H(O.PIXI_DOM={}))})(this,function(O){"use strict";Number.isNaN=Number.isNaN||function(m){return typeof m=="number"&&isNaN(m)};const H=function(m){let t;if(!isNaN(m)&&m!=null)return{valid:!0,type:"pixel",value:m};try{const e=m.toString().slice(-2);if(e.charAt(1)==="%"){if(t=parseInt(m.slice(0,-1)),Number.isNaN(t))throw new Error("Did not find a number in front of % sign");return{valid:!0,value:t,type:"percent"}}else if(e==="px"){if(t=parseInt(m.slice(0,-2)),Number.isNaN(t))throw new Error("Did not find a number in front of px");if(t<0)throw new Error("Can not have negative pixel length value");return{valid:!0,value:t,type:"pixel"}}else throw new Error("Length values must either be in % or px")}catch(e){return{valid:!1,error:e.message}}};function R(m,t,e){return m<=t?t:m>=e?e:m}function E(m){return typeof m=="string"&&m[0]==="#"&&(m=m.substr(1)),parseInt(m,16)}function k(m,t){if(!m.parent&&!(t!=null&&t.parent))throw new Error("No parent");const e=(t==null?void 0:t.parent)||m.parent,a=()=>m.x=e.width/2-m.width/2,i=()=>m.y=e.height/2-m.height/2;t!=null&&t.axis?t.axis==="x"?a():t.axis==="y"&&i():(a(),i())}function et(m){return class extends m{constructor(...e){super(...e),this.copiedText="",this.textStates=[],this.currentStateIndex=-1,this.registerHandlers=this.registerHandlers.bind(this),this.unregisterHandlers=this.unregisterHandlers.bind(this),this.onCopy=this.onCopy.bind(this),this.onPaste=this.onPaste.bind(this),this.onCut=this.onCut.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onKeyDown=this.onKeyDown.bind(this),super.on("focus",this.registerHandlers),super.on("blur",this.unregisterHandlers)}changeStateIndex(e){const a=this.currentStateIndex=e;this.textStates[a]&&(super.change(this.textStates[a]),this.currentStateIndex=e)}registerHandlers(){document.addEventListener("copy",this.onCopy),document.addEventListener("cut",this.onCut),document.addEventListener("paste",this.onPaste),document.addEventListener("keypress",this.onKeyPress),document.addEventListener("keydown",this.onKeyDown)}unregisterHandlers(){document.removeEventListener("copy",this.onCopy),document.removeEventListener("cut",this.onCut),document.removeEventListener("paste",this.onPaste),document.removeEventListener("keypress",this.onKeyPress),document.removeEventListener("keydown",this.onKeyDown)}onPaste(e){const a=e.clipboardData?e.clipboardData.getData("text/plain"):this.copiedText,i=super.replaceSelectedWith(a);i!==null&&this.addState(i)}onCopy(e){e.preventDefault();const a=super.getSelectedChars();e.clipboardData&&e.clipboardData.setData("text/plain",a),this.copiedText=a}onCut(e){e.preventDefault();const a=super.getSelectedChars();e.clipboardData&&e.clipboardData.setData("text/plain",a),this.copiedText=a;const i=super.replaceSelectedWith("");i!==null&&this.addState(i)}onBackspace(){}onDelete(){}onKeyDown(e){const a=e.keyCode?e.keyCode:e.code;if(this.submitKeyCodes.includes(a))super.submit();else if(a==37)super.moveCursor(-1);else if(a==39)super.moveCursor(1);else if(a==8)super.getSelectedRange()?super.replaceSelectedWith(""):super.removeLeftOfCursor();else if(a==46)super.getSelectedRange()?super.replaceSelectedWith(""):super.removeRightOfCursor();else if(e.ctrlKey)if(a==90){const i=e.shiftKey?1:-1;this.changeStateIndex(i)}else a==65&&(e.preventDefault(),super.selectAll())}onKeyPress(e){const a=e.keyCode?e.keyCode:e.which;if(this.submitKeyCodes.includes(a)||this.ignoreKeys.includes(a))return;const i=String.fromCharCode(a);i&&(e.ctrlKey||(e.preventDefault(),super.replaceSelectedWith(i)))}addState(e){this.textStates.push(e),this.currentStateIndex=this.textStates.length-1}}}const it=function(){return{width:"500px",height:"16px",fontColor:0,highlightedFontColor:16777215,borderColor:0,borderWidth:1,cursorColor:0,cursorHeight:"90%",cursorWidth:1,backgroundColor:16250871,highlightedBackgroundColor:128,borderOpacity:1,xPadding:0,yPadding:0}},rt=["width","height","cursorHeight"];class st extends PIXI.Container{constructor(t,e,a,i){super(),this.styleOptions={},this.cursorSprite=new PIXI.Graphics,this.textbox=new PIXI.Graphics,this.textboxMask=new PIXI.Graphics,this.inFocus=!1,this.cursorIndex=-1,this.lastCursorTs=Date.now(),this.accCursorTime=0,this.toggleCursorTime=500,this.cursorIsVisible=!0,this._text="",this._visible=!0,this.overflowOffsetX=0,this.overflowOffsetY=0,this.dragIndexStart=0,this.dragIndexEnd=0,this.inDrag=!1,this.submitKeyCodes=[13],this.ignoreKeys=[],this._maxCharacterLength=null,this.onFocusHandler=()=>{},this.onBlurHandler=()=>{},this.onChangeHandler=()=>{},this.onSubmitHandler=()=>{},this.onCharLimitHandler=()=>{},this.checkForOutsideClick=this.checkForOutsideClick.bind(this);const r=this.destroy.bind(this);this.destroy=b=>{this.blur(),r(b)},i&&(this.ignoreKeys=i);const p={...it()};if(e)for(let b in e)p[b]=e[b];this.maxCharacterLength=a,this.buttonMode=!0,this.interactive=!0,this.textSprite=new PIXI.extras.BitmapText("",{font:t,align:"left"}),this.cursor="text",this.on("pointerdown",this.handleMouseDown.bind(this)),this.on("pointerup",this.handleMouseUp.bind(this)),this.on("pointermove",this.handleMouseMove.bind(this)),this.on("pointerupoutside",this.handleMouseUp.bind(this)),this.addChild(this.textboxMask),this.addChild(this.textbox),this.addChild(this.textSprite),this.addChild(this.cursorSprite),this.textSprite.mask=this.textboxMask,this.updateStyle(p),this.show()}updateStyle(t){for(const e in t)if(rt.includes(e)){const a=H(t[e]);if(a.error)throw new Error(`Error for passed in style: ${e}, ${a.error}`);this.styleOptions[e]=a}else this.styleOptions[e]=t[e];this.redraw()}redraw(){this.redrawText(),this.redrawTextbox(),this.redrawCursor()}redrawCursor(){if(!this.inFocus){this.cursorIsVisible=!1,this.cursorSprite.visible=!1;return}const t=this.getCursorXFromIndex(this.cursorIndex)-this.overflowOffsetX;this.cursorSprite.clear(),this.cursorSprite.lineStyle(this.styleOptions.cursorWidth,this.styleOptions.cursorColor);const{value:e,type:a}=this.styleOptions.cursorHeight,i=a==="pixel"?e:Math.round(this.textbox.height*(e/100)),r=Math.min(this.textbox.height,i),b=(Math.max(this.textbox.height,i)-r)/2,f=Math.floor(b),x=Math.ceil(b);this.cursorSprite.moveTo(t,f).lineTo(t,i-x),this.getSelectedRange()?(this.cursorIsVisible=!1,this.cursorSprite.visible=!1):(this.cursorIsVisible=!0,this.cursorSprite.visible=!0)}redrawText(){const t=this.getSelectedRange();this.textSprite.y=this.styleOptions.yPadding,this.textSprite.x=this.styleOptions.xPadding;const e=this.getCursorXFromIndex(this.dragIndexEnd),{value:a,type:i}=this.styleOptions.width,r=window.innerWidth,p=i==="pixel"?a:r*(a/100);e>p+this.overflowOffsetX?(this.overflowOffsetX=e-p,this.textSprite.x-=this.overflowOffsetX):e>p?e<p+this.overflowOffsetX?(e<this.overflowOffsetX&&(this.overflowOffsetX-=this.overflowOffsetX-e),this.textSprite.x-=this.overflowOffsetX):this.textSprite.x-=this.overflowOffsetX:this.overflowOffsetX=0;for(let b=0;b<this.textSprite.children.length;b++){const f=this.textSprite.children[b];if(t){const{indexes:x}=t,{start:y,end:w}=x;if(b>=y&&b<w){f.tint=this.styleOptions.highlightedFontColor;continue}}"fontColor"in this.styleOptions?f.tint=this.styleOptions.fontColor:f.tint=16777215}}redrawTextbox(){this.textbox.clear(),this.textbox.beginFill(this.styleOptions.backgroundColor,1),this.styleOptions.borderWidth>0&&!Number.isNaN(this.styleOptions.borderWidth)&&this.textbox.lineStyle(this.styleOptions.borderWidth,this.styleOptions.borderColor,this.styleOptions.borderOpacity);let{value:t,type:e}=this.styleOptions.height;const a=window.innerWidth,i=window.innerHeight,r=e==="pixel"?t:i*(t/100);({value:t,type:e}=this.styleOptions.width);const p=e==="pixel"?t:a*(t/100),b=this.getSelectedRange();if(this.textbox.drawRect(0,0,p,r),this.textbox.endFill(),b){let f=b.x.start-this.overflowOffsetX;const x=b.x.end-this.overflowOffsetX;this.textbox.beginFill(this.styleOptions.highlightedBackgroundColor,1);let y=x-f;f+y>=p?y=p-f:y=x-f,f+y===p&&y>p&&(f=0,y=p),this.textbox.drawRect(f,0,y,r),this.textbox.endFill()}this.textboxMask.clear(),this.textboxMask.drawRect(0,0,p,r)}handleMouseUp(t){const{x:e}=t.data.getLocalPosition(this);this.inDrag&&(this.cursorIndex=this.getCursorIndexFromX(e),this.handleRangeFinish())}handleMouseDown(t){this.clickedTimestamp=t.data.originalEvent.timeStamp;const{x:e}=t.data.getLocalPosition(this);this.inFocus||this.focus(),this.clearRange(),this.cursorIndex=this.getCursorIndexFromX(e),this.handleRangeStart(this.cursorIndex),this.redraw()}handleMouseMove(t){if(this.inDrag){const{x:e}=t.data.getLocalPosition(this);this.handleRangeChange(this.getCursorIndexFromX(e))}}clearRange(){this.dragIndexEnd=this.cursorIndex,this.dragIndexStart=this.cursorIndex}handleRangeStart(t){this.inDrag=!0,this.dragIndexStart=t,this.dragIndexEnd=t}handleRangeChange(t){t!==this.dragIndexEnd&&(this.dragIndexEnd=t,this.redraw())}handleRangeFinish(){this.inDrag=!1}getCursorXFromIndex(t){let e;return!this.textSprite.children||!this.textSprite.children.length||t<=0?this.styleOptions.xPadding?this.styleOptions.xPadding:0:(t>=this.textSprite.children.length?e=this.textSprite.children[this.textSprite.children.length-1]:e=this.textSprite.children[t-1],e.x+e.width+1+this.styleOptions.xPadding)}moveCursor(t){const e=this.cursorIndex+t;e>-1&&e<=this.text.length&&(this.cursorIndex=e,this.clearRange(),this.redraw())}getCursorIndexFromX(t){if(t+=this.overflowOffsetX,t<=0)return 0;for(let e=0;e<this.textSprite.children.length;e++){const a=this.textSprite.children[e];if(a.x+a.width>t)return a.x+a.width/2<t?e+1:e}return this.textSprite.children.length}getSelectedChars(){const t=this.getSelectedRange();if(!t)return"";const{indexes:e}=t,{start:a,end:i}=e;return this.text.substr(a,i-a)}replaceSelectedWith(t){const e=t.split(""),a=e.length;this.text;const i=this.text.split("");let r,p;const b=this.getSelectedRangeIndexes();b?{start:r,end:p}=b:r=p=this.cursorIndex;const f=p-r;return i.splice(r,f,...e),this.change(i.join(""))?(this.cursorIndex=r+a,this.clearRange(),this.redraw(),this.text):this.text}getSelectedRangeIndexes(){const t=this.getSelectedRange();return t?{start:t.indexes.start,end:t.indexes.end}:null}getSelectedRange(){const t=Math.min(this.dragIndexStart,this.dragIndexEnd),e=Math.max(this.dragIndexStart,this.dragIndexEnd);if(t===e)return null;const a=this.getCursorXFromIndex(t),i=this.getCursorXFromIndex(e);return{indexes:{start:t,end:e},x:{start:a,end:i}}}selectAll(){this.setSelectedRange(0,this.text.length)}setSelectedRange(t,e){this.dragIndexStart=t,this.dragIndexEnd=e,this.cursorIndex=e,this.redraw()}charFromPosition(t){return{left:null,right:null}}removeLeftOfCursor(){if(this.cursorIndex>0){const t=this.text.split("");t.splice(this.cursorIndex-1,1),this.cursorIndex--,this.change(t.join("")),this.redraw()}}removeRightOfCursor(){const t=this.text.split("");t.length&&this.cursorIndex<t.length&&(t.splice(this.cursorIndex,1),this.change(t.join("")),this.redraw())}onCharLimit(t){this.onCharLimitHandler=t}onChange(t){this.onChangeHandler=t}onFocus(t){this.onFocusHandler=t}onBlur(t){this.onBlurHandler=t}onSubmit(t){this.onSubmitHandler=t}clear(){this.text="",this.cursorIndex=0,this.clearRange(),this.redraw()}submit(){this.onSubmitHandler(this.text)}focus(){this.inFocus||(document.addEventListener("mousedown",this.checkForOutsideClick),this.inFocus=!0,this.startCursorAnimation(),this.emit("focus"),this.onFocusHandler())}blur(){this.inFocus&&(document.removeEventListener("mousedown",this.checkForOutsideClick),this.inFocus=!1,this.stopCursorAnimation(),this.clearRange(),this.redraw(),this.emit("blur"),this.onBlurHandler())}set maxCharacterLength(t){isNaN(t)?this._maxCharacterLength=null:t===null||t<0?this._maxCharacterLength=null:this._maxCharacterLength=t}change(t){return t!==this.text?this._maxCharacterLength!==null&&t.length>this._maxCharacterLength?(this.onCharLimitHandler(t),!1):(this._text=t,this.textSprite.text=t,this._text===""&&this.textSprite.children&&this.textSprite.children.forEach(e=>{this.textSprite.removeChild(e)}),this.textSprite.updateTransform(),this.emit("change",t),this.onChangeHandler(t),!0):!1}startCursorAnimation(){this.cursorAnimationFrame&&this.stopCursorAnimation(),this.blinkCursor()}stopCursorAnimation(){this.cursorSprite.visible=!1,this.cursorAnimationFrame&&(clearTimeout(this.cursorAnimationFrame),this.cursorAnimationFrame=null,this.accCursorTime=0)}blinkCursor(){this.cursorIsVisible&&(this.cursorSprite.visible=!this.cursorSprite.visible),this.cursorAnimationFrame=setTimeout(this.blinkCursor.bind(this),this.toggleCursorTime)}checkForOutsideClick(t){t.timeStamp!==this.clickedTimestamp&&this.blur()}get text(){return this.textSprite.text===" "&&this._text!==" "?"":this.textSprite.text}set text(t){this.change(t)}set visible(t){super.visible=t,this._visible=t,t?this.startCursorAnimation():this.stopCursorAnimation()}get visible(){return this._visible}show(){this.visible=!0}hide(){this.visible=!1}}const L=et(st);class _ extends PIXI.Container{constructor(){super(),this.isMouseOver=!1,this.elements=[],this.dragPosition=null,this.inDrag=!1,this.pointerIsDown=!1,this._pointerdownHandler=null,this._pointermoveHandler=null,this._pointerupHandler=null,this._pointerupoutsideHandler=null,this._pointeroverHandler=null,this._pointeroutHandler=null,this._pointertapHandler=null,this._doubleclickHandler=null,this._dragmoveHandler=null,this._dragendHandler=null,this._dragstartHandler=null,this._swipeupHandler=null,this._swipedownHandler=null,this._swipeHandler=null,this.doubleClickTimeout=null,this.completedTriggerTimeout=null,this.holdDragTriggerTime=30,this.holdDragTriggerTimeout=null,this.helddownCountHandlers={},this.helddownTimeouts=[],this.ifDragEndEmitSwipeDistance=0,this.curDragSwipePowerIterationQueue=[],this.lastDragDistance=0,this.lastDragY=0,this.maxSwipeTimeout=300,this.minSwipeDistance=200,this.hasSwipeHandler=!1,this.missedDiffs=0,this._addChild=super.addChild,this.on("pointerover",()=>{this.isMouseOver=!0}),this.on("pointerout",()=>{this.isMouseOver=!1})}set pointerdownHandler(t){this._setEventNameHandler("pointerdown",t)}set pointerupHandler(t){this._setEventNameHandler("pointerup",t)}set pointerupoutsideHandler(t){this._setEventNameHandler("pointerupoutside",t)}set pointeroverHandler(t){this._setEventNameHandler("pointerover",t)}set pointermoveHandler(t){this._setEventNameHandler("pointermove",t)}set pointeroutHandler(t){this._setEventNameHandler("pointerout",t)}set pointertapHandler(t){this._setEventNameHandler("pointertap",t)}set doubleclickHandler(t){this._setEventNameHandler("doubleclick",t)}set dragstartHandler(t){this._setEventNameHandler("dragstart",t)}set dragendHandler(t){this._setEventNameHandler("dragend",t)}set dragmoveHandler(t){this._setEventNameHandler("dragmove",t)}_setHeldDownHandler(t,e){this.helddownCountHandlers[e]&&console.warn("already had held down timeout for duration at",e,"this will override it."),this.helddownCountHandlers[e]=t}_setEventNameHandler(t,e){this[`_${t}Handler`]||this.on(t,this[`__${t}`]),this[`_${t}Handler`]=e,this.buttonMode||(this.buttonMode=!0,this.interactive=!0)}centerX(){this.parent&&(this.x=this.parent.width/2-this.width/2)}centerY(){this.parent&&(this.y=this.parent.height/2-this.height/2)}center(){this.centerX(),this.centerY()}addElement(t){if(!(t instanceof Element))throw new Error("addElement called with a non element object");this.elements.push(t)}removeElement(t){this.elements=this.elements.filter(e=>e!==t)}onMouseDown(t){this.pointerdownHandler=t}onMouseUp(t){this.pointerupHandler=t}onMouseUpOutside(t){this.pointerupoutsideHandler=t}onMouseOver(t){this.pointeroverHandler=t}onMouseOut(t){this.pointeroutHandler=t}onMouseMove(t){this.pointermoveHandler=t}onClick(t){this.pointertapHandler=t}onHeldDown(t,e){!this._pointerdownHandler&&this.onMouseDown(()=>{}),this._setHeldDownHandler(t,e)}onDragStart(t,e){(e||e==0&&!isNaN(e))&&(this.holdDragTriggerTime=e),this.registerDefaultIfNeeded("pointerdown"),this.registerDefaultIfNeeded("pointerup"),this.registerDefaultIfNeeded("pointerupoutside"),this.registerDefaultIfNeeded("pointerout"),this.dragstartHandler=t}onDragEnd(t){this.registerDefaultIfNeeded("pointerup"),this.registerDefaultIfNeeded("pointerupoutside"),this.dragendHandler=t}onDragMove(t){this._dragstartHandler||this.onDragStart(e=>{},this.holdDragTriggerTime),this._dragendHandler||this.onDragEnd(e=>{}),this.registerDefaultIfNeeded("pointermove"),this.dragmoveHandler=t}onDoubleClick(t){this.registerDefaultIfNeeded("pointerdown"),this.doubleclickHandler=t}onSwipe(t){this.hasSwipeHandler=!0,this.registerDefaultIfNeeded("pointerdown"),this.registerDefaultIfNeeded("pointerup"),this.registerDefaultIfNeeded("pointerupoutside"),this._dragmoveHandler||this.onDragMove(()=>{}),this._swipeHandler=t}onSwipeUp(t){this.hasSwipeHandler=!0,this.registerDefaultIfNeeded("pointerdown"),this.registerDefaultIfNeeded("pointerup"),this.registerDefaultIfNeeded("pointerupoutside"),this._swipeupHandler=t}onSwipeDown(t){this.hasSwipeHandler=!0,this.registerDefaultIfNeeded("pointerdown"),this.registerDefaultIfNeeded("pointerup"),this.registerDefaultIfNeeded("pointerupoutside"),this._swipedownHandler=t}__doubleclick(t){clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null,this._doubleclickHandler&&this._doubleclickHandler(t)}clearHelddownTimeouts(){this.helddownTimeouts.forEach(t=>{clearTimeout(t)}),this.helddownTimeouts.length=0}registerDefaultIfNeeded(t){this[`_${t}Handler`]||(this[`${t}Handler`]=()=>{})}__pointerdown(t){Object.keys(this.helddownCountHandlers).forEach(e=>{this.helddownTimeouts.push(setTimeout(()=>{this.helddownCountHandlers[e](t)},parseInt(e)))}),this.pointerIsDown=!0,this._pointerdownHandler(t),this.swipeStartTs=Date.now(),this.swipeStartY=t.data.global.y,this._dragstartHandler&&!this.inDrag&&(this.holdDragTriggerTimeout=setTimeout(()=>{this.completedTriggerTimeout=!0,this.holdDragTriggerTimeout=null},this.holdDragTriggerTime)),this.doubleClickTimeout?this.emit("doubleclick",t):this.doubleClickTimeout=setTimeout(()=>{this.doubleClickTimeout=null},300)}__pointertap(t){this._pointertapHandler(t)}__dragstart(t){this.inDrag=!0,this.startDragY=t.data.global.y,this.lastDragY=t.data.global.y,this.lastDragCheckTs=Date.now(),this._dragstartHandler(t)}__dragmove(t){if(this._dragmoveHandler(t),this.hasSwipeHandler){const e=Date.now(),a=e-this.lastDragCheckTs;this.lastDragCheckTs=e,this.curDragSwiperCheckIterationDuration+=a;const i=t.data.global.y,r=this.lastDragY-i;this.lastDragY=i,Math.abs(r)<7?this.missedDiffs++:this.missedDiffs=0,this.missedDiffs<2?(Math.sign(this.ifDragEndEmitSwipeDistance)!=Math.sign(r)&&(this.swipeStartY=i,this.resetDragSwipeVars()),this.curDragSwiperCheckIterationDuration>=this.maxSwipeTimeout?(this.curDragSwipePowerIterationQueue.length&&(this.ifDragEndEmitSwipeDistance-=this.curDragSwipePowerIterationQueue.shift()),this.curDragSwipePowerIterationQueue.push(r),this.ifDragEndEmitSwipeDistance+=r):(this.ifDragEndEmitSwipeDistance+=r,this.curDragSwipePowerIterationQueue.push(r))):this.resetDragSwipeVars()}}resetDragSwipeVars(){this.curDragSwipePowerIterationQueue.length=0,this.ifDragEndEmitSwipeDistance=0,this.curDragSwiperCheckIterationDuration=0}__dragend(t){if(this.inDrag=!1,this._dragendHandler(t),this.hasSwipeHandler){const e=Math.sign(this.ifDragEndEmitSwipeDistance);if(e){const a=Math.max(10,this.curDragSwiperCheckIterationDuration),i=Math.min(this.maxSwipeTimeout,a),r=this.ifDragEndEmitSwipeDistance/(i+100/15)*10;e>0&&this._swipedownHandler?this._swipedownHandler(this.ifDragEndEmitSwipeDistance):this._swipeupHandler&&this._swipeupHandler(this.ifDragEndEmitSwipeDistance),this._swipeHandler&&this._swipeHandler(r)}this.resetDragSwipeVars()}this.ifDragEndEmitSwipeDistance=0}__pointermove(t){this.pointerIsDown&&!this.inDrag&&this.completedTriggerTimeout?this.emit("dragstart",t):this.inDrag&&this._dragmoveHandler&&this.emit("dragmove",t),this._pointermoveHandler(t)}__pointerover(t){this._pointeroverHandler(t)}__pointerout(t){this.clearHelddownTimeouts(),this.clearDragTimeouts(),this._pointeroutHandler(t)}handleSwipeFinish(t){if(this.hasSwipeHandler){const e=this.swipeStartY-t,a=Math.max(Date.now()-this.swipeStartTs,1);if(a<this.maxSwipeTimeout&&Math.abs(e)>this.minSwipeDistance){const i=e/(a+6.666666666666667)*10;if(Math.abs(i)>10){const r=e>0?this._swipeupHandler:this._swipedownHandler;r&&r(i),this._swipeHandler&&this._swipeHandler(i)}}}}__pointerupoutside(t){this.clearHelddownTimeouts(),this.clearDragTimeouts(),this.handleSwipeFinish(t.data.global.y),this.pointerIsDown=!1,this._pointerupoutsideHandler(t),this.inDrag&&this.emit("dragend",t)}__pointerup(t){this.clearHelddownTimeouts(),this.clearDragTimeouts(),this.handleSwipeFinish(t.data.global.y),this.pointerIsDown=!1,this._pointerupHandler(t),this.inDrag&&this.emit("dragend",t)}clearDragTimeouts(){this.completedTriggerTimeout=!1,this.holdDragTriggerTimeout&&(clearTimeout(this.holdDragTriggerTimeout),this.holdDragTriggerTimeout=null)}repositionSelf(){this.parent}repositionChildren(){this.repositionSelf();for(let t=0;t<this.elements.length;t++)this.elements[t];this.children.forEach(t=>{})}}function A(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var G,N;function nt(){if(N)return G;N=1;var m={linear:function(t,e,a,i){var r=a-e;return r*t/i+e},easeInQuad:function(t,e,a,i){var r=a-e;return r*(t/=i)*t+e},easeOutQuad:function(t,e,a,i){var r=a-e;return-r*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,a,i){var r=a-e;return(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,a,i){var r=a-e;return r*(t/=i)*t*t+e},easeOutCubic:function(t,e,a,i){var r=a-e;return r*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,a,i){var r=a-e;return(t/=i/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,a,i){var r=a-e;return r*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,a,i){var r=a-e;return-r*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,a,i){var r=a-e;return(t/=i/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,a,i){var r=a-e;return r*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,a,i){var r=a-e;return r*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,a,i){var r=a-e;return(t/=i/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,a,i){var r=a-e;return-r*Math.cos(t/i*(Math.PI/2))+r+e},easeOutSine:function(t,e,a,i){var r=a-e;return r*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,a,i){var r=a-e;return-r/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,a,i){var r=a-e;return t==0?e:r*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,a,i){var r=a-e;return t==i?e+r:r*(-Math.pow(2,-10*t/i)+1)+e},easeInOutExpo:function(t,e,a,i){var r=a-e;return t===0?e:t===i?e+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,a,i){var r=a-e;return-r*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,a,i){var r=a-e;return r*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,a,i){var r=a-e;return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,a,i){var r=a-e,p,b,f;return f=1.70158,b=0,p=r,t===0?e:(t/=i)===1?e+r:(b||(b=i*.3),p<Math.abs(r)?(p=r,f=b/4):f=b/(2*Math.PI)*Math.asin(r/p),-(p*Math.pow(2,10*(t-=1))*Math.sin((t*i-f)*(2*Math.PI)/b))+e)},easeOutElastic:function(t,e,a,i){var r=a-e,p,b,f;return f=1.70158,b=0,p=r,t===0?e:(t/=i)===1?e+r:(b||(b=i*.3),p<Math.abs(r)?(p=r,f=b/4):f=b/(2*Math.PI)*Math.asin(r/p),p*Math.pow(2,-10*t)*Math.sin((t*i-f)*(2*Math.PI)/b)+r+e)},easeInOutElastic:function(t,e,a,i){var r=a-e,p,b,f;return f=1.70158,b=0,p=r,t===0?e:(t/=i/2)===2?e+r:(b||(b=i*(.3*1.5)),p<Math.abs(r)?(p=r,f=b/4):f=b/(2*Math.PI)*Math.asin(r/p),t<1?-.5*(p*Math.pow(2,10*(t-=1))*Math.sin((t*i-f)*(2*Math.PI)/b))+e:p*Math.pow(2,-10*(t-=1))*Math.sin((t*i-f)*(2*Math.PI)/b)*.5+r+e)},easeInBack:function(t,e,a,i,r){var p=a-e;return r===void 0&&(r=1.70158),p*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,a,i,r){var p=a-e;return r===void 0&&(r=1.70158),p*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,a,i,r){var p=a-e;return r===void 0&&(r=1.70158),(t/=i/2)<1?p/2*(t*t*(((r*=1.525)+1)*t-r))+e:p/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e},easeInBounce:function(t,e,a,i){var r=a-e,p;return p=m.easeOutBounce(i-t,0,r,i),r-p+e},easeOutBounce:function(t,e,a,i){var r=a-e;return(t/=i)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,a,i){var r=a-e,p;return t<i/2?(p=m.easeInBounce(t*2,0,r,i),p*.5+e):(p=m.easeOutBounce(t*2-i,0,r,i),p*.5+r*.5+e)}};return G=m,G}var at=nt();const V=A(at);class B extends _{constructor(t,e){super(),this.scrolling=!1,this.scrollList=t,this.options=e||{},this.bg=new PIXI.Graphics,this.addChild(this.bg),this.scroller=new ot(this,e.scrollerOptions),this.addChild(this.scroller),this.scroller.y=0,this.redraw(),this.registerScrollerEvents()}resizeScrollBar(t,e){}get visibleLength(){return this.scrollList.height}get maxLength(){return this.scrollList.maxHeight}redraw(){this.bg.clear(),this.bg.beginFill(this.options.backgroundColor||16250871),this.bg.drawRect(0,0,this.options.width,this.visibleLength),this.scroller.redraw()}setScrollPercent(t){console.error("set",t);const a=(this.visibleLength-this.scroller.height)*t;this.scroller.y=a}registerScrollerEvents(){this.onHeldDown(t=>{const e=t.data.global.y-this.getGlobalPosition().y;let a=-1;e<this.scroller.y?a=e:e>this.scroller.y+this.scroller.height&&(a=e-this.scroller.height),a>=0&&!this.scrolling&&(this.scroller.y=R(a,0,this.visibleLength-this.scroller.height),this.emitScroll())},50),this.scroller.onDragStart(t=>{this.scrolling=!0},0),this.scroller.onDragEnd(t=>{this.scrolling=!1}),this.scroller.onDragMove(t=>{t.stopPropagation();const e=t.data.originalEvent.movementY,a=t.data.global.y,i=this.getGlobalPosition(),r=this.scroller.y+i.y;let p=0;a>r+this.scroller.height?p=a-(r+this.scroller.height):a<r&&(p=a-r),this.scroller.y=R(this.scroller.y+e+p,0,this.visibleLength-this.scroller.height),this.emitScroll()})}emitScroll(){const t=this.visibleLength-this.scroller.height,e=this.scroller.y/t;this.emit("scrolled",e)}}class ot extends _{constructor(t,e){super(),this.scrollBar=t,this.styleObj=e||{},this.rect=new PIXI.Graphics,this.addChild(this.rect)}setStyle(t){this.redraw()}redraw(){if(this.rect.clear(),this.scrollBar.visibleLength>=this.scrollBar.maxLength)return;const t=Math.ceil(this.scrollBar.visibleLength/(this.scrollBar.maxLength/this.scrollBar.visibleLength));this.rect.beginFill("color"in this.styleObj?this.styleObj.color:0),this.rect.drawRect(0,0,this.scrollBar.width,t),this.rect.endFill()}}const X={disableTouchScroll:!1,disableScrollWheelScroll:!1,visibilityBuffer:200,adjustVisibilityTime:130};class z extends PIXI.Container{constructor(t,e,a){if(super(),this.scrollItemsById={},this.options=[],this.po=new _,this.scrollRect=new _,this.scrollDuration=0,this._currentScroll=0,this.lastScroll=0,this.pointerdownStart=0,this.startingVisibleChildIndex=0,this.endingVisibleChildIndex=0,this.scrollCurrentDur=0,this.currentAdjustVisibilityDelta=0,this.animationFrame=null,this.nextItemY=0,this.scrollToDest=0,this.listContainer=new _,this.listRect=new PIXI.Graphics,this.scrollLength=0,this.adjustedIndex=0,this.maxHeight=0,this.lastOverOption=null,this.lastDownOption=null,this.freezeScroll=!1,this._needsUpdateScoller=!0,this._registeredScrollEvent=!1,this.handleScrollWheelScroll=this.handleScrollWheelScroll.bind(this),this.interactive=!0,this.interactiveChildren=!0,this.__width=H(t.width).value,this.__height=H(t.height).value,this.performanceOptions=a||{...X},a)for(let r in X)a.hasOwnProperty(r)||(this.performanceOptions[r]=X[r]);this.scrollbarScroll=new PIXI.Graphics,this.scrollStyleOptions=t,this.scrollLength=0,this.scrollMask=new PIXI.Graphics,this.scrollMask.beginFill(16777215),this.scrollMask.drawRect(0,0,this.__width,this.__height),this.scrollMask.endFill(),this.listRect.beginFill(16777215,0),this.listRect.drawRect(0,0,this.__width,this.__height),this.listRect.endFill(),this.scrollRect.addChild(this.listRect),this.addChild(this.scrollMask),this.addChild(this.po),this.po.interactive=!0,this.po.mask=this.scrollMask;let i;this.performanceOptions.disableScrollWheelScroll||this.registerScrollEvents(),this.performanceOptions.disableTouchScroll||(this.scrollRect.onSwipe(this.applySwipe.bind(this)),this.on("pointerdown",r=>{this.scrollBar&&this.scrollBar.scrolling||this.performanceOptions.disableTouchScroll||this.animationFrame!==null&&(cancelAnimationFrame(this.animationFrame),this.po.inDrag||this.po.emit("dragstart",r),this.animationFrame=null)}),this.on("pointerup",()=>{this.scrollBar&&this.scrollBar.scrolling||this.performanceOptions.disableTouchScroll}),this.po.onSwipe(this.applySwipe.bind(this)),this.po.onDragStart(r=>{this.scrollBar&&this.scrollBar.scrolling||this.freezeScroll||(this.tweenFunc=V.easeOutElastic,this.scrollLength=0,this.scrollCurrentDur=0,this.scrollDuration=0,this.currentAdjustVisibilityDelta=0,i=r.data.global.y)}),this.po.onDragMove(r=>{if(this.scrollBar&&this.scrollBar.scrolling||this.freezeScroll)return;const p=r.data.global.y-i;i=r.data.global.y,this.applyDrag(p)}),this.po.onDragEnd(r=>{this.scrollBar&&this.scrollBar.scrolling||this.adjustVisibility(null,!0)})),t.scrollBarOptions&&(this.scrollBar=new B(this,t.scrollBarOptions),this.addChild(this.scrollBar),this.scrollBar.on("scrolled",r=>{this._needsUpdateScoller=!1,this.setScrollPercent(r),this._needsUpdateScoller=!0})),this.redraw()}handleScrollWheelScroll(t){this.currentScroll+=t.deltaY,this.adjustVisibility(null,!0)}destroy(t){this._registeredScrollEvent&&(document.removeEventListener("wheel",this.handleScrollWheelScroll),this._registeredScrollEvent=!1),super.destroy(t)}get utilizedLength(){return this.maxHeight-this.__height}get scrollPercent(){return this.currentScroll/this.utilizedLength}registerScrollEvents(){this.once("pointerover",()=>{this._registeredScrollEvent=!0,document.addEventListener("wheel",this.handleScrollWheelScroll),this.once("pointerout",()=>{document.removeEventListener("wheel",this.handleScrollWheelScroll),this._registeredScrollEvent=!1,this.registerScrollEvents()})})}setScrollPercent(t){t=R(t,0,1);const e=this.currentScroll;this.currentScroll=this.utilizedLength*t,e!==this.currentScroll&&this.adjustVisibility(null,!0)}findVisible(){}freeze(){this.toggleFreezeScroll(!0)}unfreeze(){this.toggleFreezeScroll(!1)}toggleFreezeScroll(t){this.freezeScroll=t}_containsPoint(t,e){e=this.toLocal(e);const a=0,i=this.__width,r=t.y-this.currentScroll,p=r+t.height;return a<=e.x&&e.x<=i&&r<=e.y&&e.y<=p}resize(t,e){this.__width=t,this.__height=e,this.scrollMask.clear(),this.scrollMask.beginFill(16777215).drawRect(0,0,this.__width,this.__height).endFill(),this.listRect.clear(),this.listRect.beginFill(this.scrollStyleOptions.backgroundColor).drawRect(0,0,this.__width,this.__height).endFill(),this.adjustVisibility(null,!0),this.scrollBar&&this.scrollBar.redraw()}redraw(){this.adjustOptions(),this.scrollBar&&(this.scrollBar.redraw(),this.scrollBar.x=this.po.width)}repositionOptions(){let t=0;for(let e=0;e<this.options.length;e++)this.options[e].y=t,t+=this.options[e].height}adjustVisibility(t,e=!1){if(e)this.currentAdjustVisibilityDelta=0;else if(this.currentAdjustVisibilityDelta+=t,!e&&this.currentAdjustVisibilityDelta>=this.performanceOptions.adjustVisibilityTime){this.currentAdjustVisibilityDelta=0;return}let a=!1;for(let i=0;i<this.options.length;i++){const r=this.options[i],p=r.y+r.height+this.performanceOptions.visibilityBuffer>=this.currentScroll,b=this.__height+this.currentScroll>=r.y-this.performanceOptions.visibilityBuffer,f=r.visible;if(r.visible=b&&p,r.visible&&!a&&(this.startingVisibleChildIndex=i,a=!0),!r.visible&&a&&(this.endingVisibleChildIndex=Math.min(i+1,this.options.length-1)),f!==r.visible?(f?r.emit("hide"):r.emit("show"),r.just_added&&delete r.just_added):r.just_added&&(r.visible?r.emit("show"):r.emit("hide"),delete r.just_added),!r.visible&&!f&&a)return}this.endingVisibleChildIndex=this.options.length-1}adjustOptions(){this.po&&this.po.parent===this&&(this.po.y=-this.currentScroll,this.adjustedIndex++)}animateScroll(t){const e=Date.now(),a=e-t;return this.currentAdjustVisibilityDelta+=a,this.scrollCurrentDur+=a,this.scrollCurrentDur>=this.scrollDuration?(this.animationFrame=null,this.currentScroll=this.scrollToDest,this.currentAdjustVisibilityDelta=0,this.adjustVisibility(null,!0),null):(this.currentScroll=this.tweenFunc(this.scrollCurrentDur,this.lastScroll,this.scrollToDest,this.scrollDuration),this.adjustVisibility(a),requestAnimationFrame(()=>{this.animationFrame!==null&&(this.animationFrame=this.animateScroll(e))}))}applyDrag(t){if(this.animationFrame||this.maxHeight<=this.__height)return;if(t>0&&this._currentScroll===0){this.adjustVisibility(null,!0);return}else if(t<0&&this._currentScroll===this.maxHeight-this.__height){this.adjustVisibility(null,!0);return}this.lastScroll=this._currentScroll,this.scrollLength+=t,this.scrollToDest=this.scrollLength>=0?Math.min(this.maxHeight-this.__height,this._currentScroll-t):Math.max(0,this._currentScroll-t),this.scrollDuration+=Math.abs(t);const e=Math.abs(this._currentScroll-this.scrollToDest),a=e>1e3?4e3:e>700?3e3:e>500?2e3:e>200?1e3:400;this.scrollDuration=Math.min(this.scrollDuration,a),this.animationFrame=this.animateScroll(Date.now())}applySwipe(t){if(Math.abs(t)<1)return;this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.tweenFunc=V.easeOutCubic,this.lastScroll=this._currentScroll,this.scrollCurrentDur=0;const e=Math.abs(t),a=e<10?25:e<25?30:e<30?35:e<35?55:e<40?60:e<60?65:80,i=t*a;if(this.maxHeight<=this.__height)return;this.scrollToDest=t>=0?Math.min(this.maxHeight-this.__height,this._currentScroll+i):Math.max(0,this._currentScroll+i);const r=Math.abs(this._currentScroll-this.scrollToDest);let p;this.scrollToDest===0||this.scrollToDest===this.maxHeight-this.__height+0?p=r>1e3?1e3:r>500?500:200:p=r>2700?4e3:r>2300?3500:r>1500?3e3:r>1e3?2700:r>700?2300:r>500?2e3:r>300?1500:r>100?1e3:700,this.scrollDuration=Math.min(p),this.animationFrame=this.animateScroll(Date.now())}set currentScroll(t){t<0?t=0:t>this.maxHeight-this.__height&&(t=this.maxHeight-this.__height),this._currentScroll=t,this.scrollBar&&this._needsUpdateScoller&&this.scrollBar.setScrollPercent(this.scrollPercent),this.adjustOptions()}get currentScroll(){return this._currentScroll}addScrollItems(t){t.forEach(e=>{e.just_added=!0,e.visible=!0,this.po.addChild(e),e.interactive&&(e.hitArea=new PIXI.Rectangle(0,0,e.width,e.height)),this.options.push(e)}),this.recalculateHeight(),this.repositionOptions(),this.adjustVisibility(null,!0),this.redraw()}addScrollItem(t){this.addScrollItems([t])}recalculateHeight(){let t=0;this.options.forEach(e=>{t+=e.height}),this.maxHeight=t}spliceScrollItems(t,e,a=!0){e=e>=0?e:this.options.length;const i=[];for(let r=t;r<e;r++)i.push(r);this.removeScrollItems(i,a)}removeScrollItems(t,e=!0){Array.isArray(t)||(t=[t]);const a=[];return t.forEach(i=>{let r;isNaN(i)?r=t:r=this.options[i];const p=this.options.find(b=>b===r);p&&(a.push(this.options.indexOf(p)),p&&p.parent===this.po&&this.po.removeChild(p),e&&p.destroy({children:!0}))}),a.length?(this.options=this.options.filter((i,r)=>!a.includes(r)),this._currentScroll>this.maxHeight-this.__height&&(this.currentScroll=this.maxHeight-this.__height),this.recalculateHeight(),this.repositionOptions(),this.adjustVisibility(null,!0),this.redraw(),!0):!1}findOptionAtPoint(t){for(let e=this.startingVisibleChildIndex;e<=this.endingVisibleChildIndex;e++){const a=this.options[e];if(a.visible&&this._containsPoint(a,t))return a}return null}recurseChildren(t,e,a){return(t.interactive||t.interactiveChildren)&&this._containsPoint(t,e)&&(t.interactive&&a.push(t),t.interactiveChildren&&t.children&&t.children.forEach(i=>{this.recurseChildren(i,e,a)})),a}}var P={exports:{}},ht=P.exports,U;function lt(){return U||(U=1,function(m,t){(function(a,i){m.exports=i()})(ht,function(){return function(e){var a={};function i(r){if(a[r])return a[r].exports;var p=a[r]={exports:{},id:r,loaded:!1};return e[r].call(p.exports,p,p.exports,i),p.loaded=!0,p.exports}return i.m=e,i.c=a,i.p="",i(0)}([function(e,a,i){e.exports=i(1)},function(e,a,i){var r=i(2),p=i(4),b=Date.now;e.exports=function(f,x){var y=f.map(function(u){return p(u).rgb().array()}),w=x.map(function(u){return p(u).rgb().array()}),g=this;return params={updater:function(){},ender:function(){},length:1e3,startTime:void 0,easing:r("linear")},g.onUpdate=n("updater"),g.onEnd=n("ender"),g.start=h,g.duration=n("length"),g.stop=s,g.update=l,g.easing=o,g;function o(u){return params.easing=r(u)||r("linear"),g}function h(u){return params.startTime=b(),typeof u=="function"&&setTimeout(u),g}function l(){if(params.startTime){var u=c();return u.progress>1?d():params.updater(u.frames,u.progress),u.frames}return null}function c(){var u=b()-params.startTime,v=u/params.length;return{frames:w.map(function(C,I){return p.rgb(C.map(function(D,T){return y[I][T]+(D-y[I][T])*params.easing(v)}))}),progress:v}}function d(){return params.updater(w.map(function(u){return p.rgb(u)}),1),s(),g}function s(){return params.startTime=void 0,params.ender(w.map(function(u){p.rgb(u)}),1),g}function n(u){return function(v){return params[u]=v,g}}}},function(e,a,i){var r=i(3);r=Object.keys(r).reduce(function(f,x,y){return f[x]=b(r[x]),f},{}),e.exports=function(f){var x=p(f);return x.length===1?r[x[0]]:r[x[0]][x[1]]};function p(f){var x=[/InOut$/,/In$/,/Out$/],y=x.reduce(function(w,g,o){var h=g.exec(f);return h&&!w&&(w=h),w},void 0);return y?[f.substr(0,y.index),y[0]]:[f]}function b(f){var x=f.InOut;return x.In=f.In,x.Out=f.Out,x.InOut=f.InOut,x}},function(e,a){e.exports={linear:{In:function(i){return i},Out:function(i){return i},InOut:function(i){return i}},quadratic:{In:function(i){return i*i},Out:function(i){return i*(2-i)},InOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}},cubic:{In:function(i){return i*i*i},Out:function(i){return--i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}},quartic:{In:function(i){return i*i*i*i},Out:function(i){return 1- --i*i*i*i},InOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}},quintic:{In:function(i){return i*i*i*i*i},Out:function(i){return--i*i*i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}},sinusoidal:{In:function(i){return 1-Math.cos(i*Math.PI/2)},Out:function(i){return Math.sin(i*Math.PI/2)},InOut:function(i){return .5*(1-Math.cos(Math.PI*i))}},exponential:{In:function(i){return i===0?0:Math.pow(1024,i-1)},Out:function(i){return i===1?1:1-Math.pow(2,-10*i)},InOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)}},circular:{In:function(i){return 1-Math.sqrt(1-i*i)},Out:function(i){return Math.sqrt(1- --i*i)},InOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}},elastic:{In:function(i){return i===0?0:i===1?1:-Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI)},Out:function(i){return i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i-.1)*5*Math.PI)+1},InOut:function(i){return i===0?0:i===1?1:(i*=2,i<1?-.5*Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin((i-1.1)*5*Math.PI)+1)}},back:{In:function(i){var r=1.70158;return i*i*((r+1)*i-r)},Out:function(i){var r=1.70158;return--i*i*((r+1)*i+r)+1},InOut:function(i){var r=2.5949095;return(i*=2)<1?.5*(i*i*((r+1)*i-r)):.5*((i-=2)*i*((r+1)*i+r)+2)}},bounce:{In:function(i){return 1-Easing.Bounce.Out(1-i)},Out:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},InOut:function(i){return i<.5?Easing.Bounce.In(i*2)*.5:Easing.Bounce.Out(i*2-1)*.5+.5}}}},function(e,a,i){var r=i(5),p=i(9),b=[].slice,f=["keyword","gray","hex"],x={};Object.keys(p).forEach(function(s){x[b.call(p[s].labels).sort().join("")]=s});var y={};function w(s,n){if(!(this instanceof w))return new w(s,n);if(n&&n in f&&(n=null),n&&!(n in p))throw new Error("Unknown model: "+n);var u,v;if(!s)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(s instanceof w)this.model=s.model,this.color=s.color.slice(),this.valpha=s.valpha;else if(typeof s=="string"){var S=r.get(s);if(S===null)throw new Error("Unable to parse color from string: "+s);this.model=S.model,v=p[this.model].channels,this.color=S.value.slice(0,v),this.valpha=typeof S.value[v]=="number"?S.value[v]:1}else if(s.length){this.model=n||"rgb",v=p[this.model].channels;var C=b.call(s,0,v);this.color=d(C,v),this.valpha=typeof s[v]=="number"?s[v]:1}else if(typeof s=="number")s&=16777215,this.model="rgb",this.color=[s>>16&255,s>>8&255,s&255],this.valpha=1;else{this.valpha=1;var I=Object.keys(s);"alpha"in s&&(I.splice(I.indexOf("alpha"),1),this.valpha=typeof s.alpha=="number"?s.alpha:0);var D=I.sort().join("");if(!(D in x))throw new Error("Unable to parse color from object: "+JSON.stringify(s));this.model=x[D];var T=p[this.model].labels,J=[];for(u=0;u<T.length;u++)J.push(s[T[u]]);this.color=d(J)}if(y[this.model])for(v=p[this.model].channels,u=0;u<v;u++){var tt=y[this.model][u];tt&&(this.color[u]=tt(this.color[u]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}w.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(s){var n=this.model in r.to?this:this.rgb();n=n.round(typeof s=="number"?s:1);var u=n.valpha===1?n.color:n.color.concat(this.valpha);return r.to[n.model](u)},percentString:function(s){var n=this.rgb().round(typeof s=="number"?s:1),u=n.valpha===1?n.color:n.color.concat(this.valpha);return r.to.rgb.percent(u)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var s={},n=p[this.model].channels,u=p[this.model].labels,v=0;v<n;v++)s[u[v]]=this.color[v];return this.valpha!==1&&(s.alpha=this.valpha),s},unitArray:function(){var s=this.rgb().color;return s[0]/=255,s[1]/=255,s[2]/=255,this.valpha!==1&&s.push(this.valpha),s},unitObject:function(){var s=this.rgb().object();return s.r/=255,s.g/=255,s.b/=255,this.valpha!==1&&(s.alpha=this.valpha),s},round:function(s){return s=Math.max(s||0,0),new w(this.color.map(o(s)).concat(this.valpha),this.model)},alpha:function(s){return arguments.length?new w(this.color.concat(Math.max(0,Math.min(1,s))),this.model):this.valpha},red:h("rgb",0,l(255)),green:h("rgb",1,l(255)),blue:h("rgb",2,l(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,function(s){return(s%360+360)%360}),saturationl:h("hsl",1,l(100)),lightness:h("hsl",2,l(100)),saturationv:h("hsv",1,l(100)),value:h("hsv",2,l(100)),chroma:h("hcg",1,l(100)),gray:h("hcg",2,l(100)),white:h("hwb",1,l(100)),wblack:h("hwb",2,l(100)),cyan:h("cmyk",0,l(100)),magenta:h("cmyk",1,l(100)),yellow:h("cmyk",2,l(100)),black:h("cmyk",3,l(100)),x:h("xyz",0,l(100)),y:h("xyz",1,l(100)),z:h("xyz",2,l(100)),l:h("lab",0,l(100)),a:h("lab",1),b:h("lab",2),keyword:function(s){return arguments.length?new w(s):p[this.model].keyword(this.color)},hex:function(s){return arguments.length?new w(s):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var s=this.rgb().color;return(s[0]&255)<<16|(s[1]&255)<<8|s[2]&255},luminosity:function(){for(var s=this.rgb().color,n=[],u=0;u<s.length;u++){var v=s[u]/255;n[u]=v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4)}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(s){var n=this.luminosity(),u=s.luminosity();return n>u?(n+.05)/(u+.05):(u+.05)/(n+.05)},level:function(s){var n=this.contrast(s);return n>=7.1?"AAA":n>=4.5?"AA":""},dark:function(){var s=this.rgb().color,n=(s[0]*299+s[1]*587+s[2]*114)/1e3;return n<128},light:function(){return!this.dark()},negate:function(){for(var s=this.rgb(),n=0;n<3;n++)s.color[n]=255-s.color[n];return s},lighten:function(s){var n=this.hsl();return n.color[2]+=n.color[2]*s,n},darken:function(s){var n=this.hsl();return n.color[2]-=n.color[2]*s,n},saturate:function(s){var n=this.hsl();return n.color[1]+=n.color[1]*s,n},desaturate:function(s){var n=this.hsl();return n.color[1]-=n.color[1]*s,n},whiten:function(s){var n=this.hwb();return n.color[1]+=n.color[1]*s,n},blacken:function(s){var n=this.hwb();return n.color[2]+=n.color[2]*s,n},grayscale:function(){var s=this.rgb().color,n=s[0]*.3+s[1]*.59+s[2]*.11;return w.rgb(n,n,n)},fade:function(s){return this.alpha(this.valpha-this.valpha*s)},opaquer:function(s){return this.alpha(this.valpha+this.valpha*s)},rotate:function(s){var n=this.hsl(),u=n.color[0];return u=(u+s)%360,u=u<0?360+u:u,n.color[0]=u,n},mix:function(s,n){var u=this.rgb(),v=s.rgb(),S=n===void 0?.5:n,C=2*S-1,I=u.alpha()-v.alpha(),D=((C*I===-1?C:(C+I)/(1+C*I))+1)/2,T=1-D;return w.rgb(D*u.red()+T*v.red(),D*u.green()+T*v.green(),D*u.blue()+T*v.blue(),u.alpha()*S+v.alpha()*(1-S))}},Object.keys(p).forEach(function(s){if(f.indexOf(s)===-1){var n=p[s].channels;w.prototype[s]=function(){if(this.model===s)return new w(this);if(arguments.length)return new w(arguments,s);var u=typeof arguments[n]=="number"?n:this.valpha;return new w(c(p[this.model][s].raw(this.color)).concat(u),s)},w[s]=function(u){return typeof u=="number"&&(u=d(b.call(arguments),n)),new w(u,s)}}});function g(s,n){return Number(s.toFixed(n))}function o(s){return function(n){return g(n,s)}}function h(s,n,u){return s=Array.isArray(s)?s:[s],s.forEach(function(v){(y[v]||(y[v]=[]))[n]=u}),s=s[0],function(v){var S;return arguments.length?(u&&(v=u(v)),S=this[s](),S.color[n]=v,S):(S=this[s]().color[n],u&&(S=u(S)),S)}}function l(s){return function(n){return Math.max(0,Math.min(s,n))}}function c(s){return Array.isArray(s)?s:[s]}function d(s,n){for(var u=0;u<n;u++)typeof s[u]!="number"&&(s[u]=0);return s}e.exports=w},function(e,a,i){var r=i(6),p=i(7),b={};for(var f in r)r.hasOwnProperty(f)&&(b[r[f]]=f);var x=e.exports={to:{},get:{}};x.get=function(g){var o=g.substring(0,3).toLowerCase(),h,l;switch(o){case"hsl":h=x.get.hsl(g),l="hsl";break;case"hwb":h=x.get.hwb(g),l="hwb";break;default:h=x.get.rgb(g),l="rgb";break}return h?{model:l,value:h}:null},x.get.rgb=function(g){if(!g)return null;var o=/^#([a-f0-9]{3,4})$/i,h=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,c=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,d=/(\D+)/,s=[0,0,0,1],n,u,v;if(n=g.match(h)){for(v=n[2],n=n[1],u=0;u<3;u++){var S=u*2;s[u]=parseInt(n.slice(S,S+2),16)}v&&(s[3]=Math.round(parseInt(v,16)/255*100)/100)}else if(n=g.match(o)){for(n=n[1],v=n[3],u=0;u<3;u++)s[u]=parseInt(n[u]+n[u],16);v&&(s[3]=Math.round(parseInt(v+v,16)/255*100)/100)}else if(n=g.match(l)){for(u=0;u<3;u++)s[u]=parseInt(n[u+1],0);n[4]&&(s[3]=parseFloat(n[4]))}else if(n=g.match(c)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(n[u+1])*2.55);n[4]&&(s[3]=parseFloat(n[4]))}else return(n=g.match(d))?n[1]==="transparent"?[0,0,0,0]:(s=r[n[1]],s?(s[3]=1,s):null):null;for(u=0;u<3;u++)s[u]=y(s[u],0,255);return s[3]=y(s[3],0,1),s},x.get.hsl=function(g){if(!g)return null;var o=/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,h=g.match(o);if(h){var l=parseFloat(h[4]),c=(parseFloat(h[1])+360)%360,d=y(parseFloat(h[2]),0,100),s=y(parseFloat(h[3]),0,100),n=y(isNaN(l)?1:l,0,1);return[c,d,s,n]}return null},x.get.hwb=function(g){if(!g)return null;var o=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,h=g.match(o);if(h){var l=parseFloat(h[4]),c=(parseFloat(h[1])%360+360)%360,d=y(parseFloat(h[2]),0,100),s=y(parseFloat(h[3]),0,100),n=y(isNaN(l)?1:l,0,1);return[c,d,s,n]}return null},x.to.hex=function(){var g=p(arguments);return"#"+w(g[0])+w(g[1])+w(g[2])+(g[3]<1?w(Math.round(g[3]*255)):"")},x.to.rgb=function(){var g=p(arguments);return g.length<4||g[3]===1?"rgb("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+")":"rgba("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+", "+g[3]+")"},x.to.rgb.percent=function(){var g=p(arguments),o=Math.round(g[0]/255*100),h=Math.round(g[1]/255*100),l=Math.round(g[2]/255*100);return g.length<4||g[3]===1?"rgb("+o+"%, "+h+"%, "+l+"%)":"rgba("+o+"%, "+h+"%, "+l+"%, "+g[3]+")"},x.to.hsl=function(){var g=p(arguments);return g.length<4||g[3]===1?"hsl("+g[0]+", "+g[1]+"%, "+g[2]+"%)":"hsla("+g[0]+", "+g[1]+"%, "+g[2]+"%, "+g[3]+")"},x.to.hwb=function(){var g=p(arguments),o="";return g.length>=4&&g[3]!==1&&(o=", "+g[3]),"hwb("+g[0]+", "+g[1]+"%, "+g[2]+"%"+o+")"},x.to.keyword=function(g){return b[g.slice(0,3)]};function y(g,o,h){return Math.min(Math.max(o,g),h)}function w(g){var o=g.toString(16).toUpperCase();return o.length<2?"0"+o:o}},function(e,a){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,a,i){var r=i(8),p=Array.prototype.concat,b=Array.prototype.slice,f=e.exports=function(y){for(var w=[],g=0,o=y.length;g<o;g++){var h=y[g];r(h)?w=p.call(w,b.call(h)):w.push(h)}return w};f.wrap=function(x){return function(){return x(f(arguments))}}},function(e,a){e.exports=function(r){return!r||typeof r=="string"?!1:r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&r.constructor.name!=="String")}},function(e,a,i){var r=i(10),p=i(11),b={},f=Object.keys(r);function x(w){var g=function(o){return o==null?o:(arguments.length>1&&(o=Array.prototype.slice.call(arguments)),w(o))};return"conversion"in w&&(g.conversion=w.conversion),g}function y(w){var g=function(o){if(o==null)return o;arguments.length>1&&(o=Array.prototype.slice.call(arguments));var h=w(o);if(typeof h=="object")for(var l=h.length,c=0;c<l;c++)h[c]=Math.round(h[c]);return h};return"conversion"in w&&(g.conversion=w.conversion),g}f.forEach(function(w){b[w]={},Object.defineProperty(b[w],"channels",{value:r[w].channels}),Object.defineProperty(b[w],"labels",{value:r[w].labels});var g=p(w),o=Object.keys(g);o.forEach(function(h){var l=g[h];b[w][h]=y(l),b[w][h].raw=x(l)})}),e.exports=b},function(e,a,i){var r=i(6),p={};for(var b in r)r.hasOwnProperty(b)&&(p[r[b]]=b);var f=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var x in f)if(f.hasOwnProperty(x)){if(!("channels"in f[x]))throw new Error("missing channels property: "+x);if(!("labels"in f[x]))throw new Error("missing channel labels property: "+x);if(f[x].labels.length!==f[x].channels)throw new Error("channel and label counts mismatch: "+x);var y=f[x].channels,w=f[x].labels;delete f[x].channels,delete f[x].labels,Object.defineProperty(f[x],"channels",{value:y}),Object.defineProperty(f[x],"labels",{value:w})}f.rgb.hsl=function(o){var h=o[0]/255,l=o[1]/255,c=o[2]/255,d=Math.min(h,l,c),s=Math.max(h,l,c),n=s-d,u,v,S;return s===d?u=0:h===s?u=(l-c)/n:l===s?u=2+(c-h)/n:c===s&&(u=4+(h-l)/n),u=Math.min(u*60,360),u<0&&(u+=360),S=(d+s)/2,s===d?v=0:S<=.5?v=n/(s+d):v=n/(2-s-d),[u,v*100,S*100]},f.rgb.hsv=function(o){var h,l,c,d,s,n=o[0]/255,u=o[1]/255,v=o[2]/255,S=Math.max(n,u,v),C=S-Math.min(n,u,v),I=function(D){return(S-D)/6/C+1/2};return C===0?d=s=0:(s=C/S,h=I(n),l=I(u),c=I(v),n===S?d=c-l:u===S?d=1/3+h-c:v===S&&(d=2/3+l-h),d<0?d+=1:d>1&&(d-=1)),[d*360,s*100,S*100]},f.rgb.hwb=function(o){var h=o[0],l=o[1],c=o[2],d=f.rgb.hsl(o)[0],s=1/255*Math.min(h,Math.min(l,c));return c=1-1/255*Math.max(h,Math.max(l,c)),[d,s*100,c*100]},f.rgb.cmyk=function(o){var h=o[0]/255,l=o[1]/255,c=o[2]/255,d,s,n,u;return u=Math.min(1-h,1-l,1-c),d=(1-h-u)/(1-u)||0,s=(1-l-u)/(1-u)||0,n=(1-c-u)/(1-u)||0,[d*100,s*100,n*100,u*100]};function g(o,h){return Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2)+Math.pow(o[2]-h[2],2)}f.rgb.keyword=function(o){var h=p[o];if(h)return h;var l=1/0,c;for(var d in r)if(r.hasOwnProperty(d)){var s=r[d],n=g(o,s);n<l&&(l=n,c=d)}return c},f.keyword.rgb=function(o){return r[o]},f.rgb.xyz=function(o){var h=o[0]/255,l=o[1]/255,c=o[2]/255;h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92,l=l>.04045?Math.pow((l+.055)/1.055,2.4):l/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92;var d=h*.4124+l*.3576+c*.1805,s=h*.2126+l*.7152+c*.0722,n=h*.0193+l*.1192+c*.9505;return[d*100,s*100,n*100]},f.rgb.lab=function(o){var h=f.rgb.xyz(o),l=h[0],c=h[1],d=h[2],s,n,u;return l/=95.047,c/=100,d/=108.883,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,s=116*c-16,n=500*(l-c),u=200*(c-d),[s,n,u]},f.hsl.rgb=function(o){var h=o[0]/360,l=o[1]/100,c=o[2]/100,d,s,n,u,v;if(l===0)return v=c*255,[v,v,v];c<.5?s=c*(1+l):s=c+l-c*l,d=2*c-s,u=[0,0,0];for(var S=0;S<3;S++)n=h+1/3*-(S-1),n<0&&n++,n>1&&n--,6*n<1?v=d+(s-d)*6*n:2*n<1?v=s:3*n<2?v=d+(s-d)*(2/3-n)*6:v=d,u[S]=v*255;return u},f.hsl.hsv=function(o){var h=o[0],l=o[1]/100,c=o[2]/100,d=l,s=Math.max(c,.01),n,u;return c*=2,l*=c<=1?c:2-c,d*=s<=1?s:2-s,u=(c+l)/2,n=c===0?2*d/(s+d):2*l/(c+l),[h,n*100,u*100]},f.hsv.rgb=function(o){var h=o[0]/60,l=o[1]/100,c=o[2]/100,d=Math.floor(h)%6,s=h-Math.floor(h),n=255*c*(1-l),u=255*c*(1-l*s),v=255*c*(1-l*(1-s));switch(c*=255,d){case 0:return[c,v,n];case 1:return[u,c,n];case 2:return[n,c,v];case 3:return[n,u,c];case 4:return[v,n,c];case 5:return[c,n,u]}},f.hsv.hsl=function(o){var h=o[0],l=o[1]/100,c=o[2]/100,d=Math.max(c,.01),s,n,u;return u=(2-l)*c,s=(2-l)*d,n=l*d,n/=s<=1?s:2-s,n=n||0,u/=2,[h,n*100,u*100]},f.hwb.rgb=function(o){var h=o[0]/360,l=o[1]/100,c=o[2]/100,d=l+c,s,n,u,v;d>1&&(l/=d,c/=d),s=Math.floor(6*h),n=1-c,u=6*h-s,s&1&&(u=1-u),v=l+u*(n-l);var S,C,I;switch(s){default:case 6:case 0:S=n,C=v,I=l;break;case 1:S=v,C=n,I=l;break;case 2:S=l,C=n,I=v;break;case 3:S=l,C=v,I=n;break;case 4:S=v,C=l,I=n;break;case 5:S=n,C=l,I=v;break}return[S*255,C*255,I*255]},f.cmyk.rgb=function(o){var h=o[0]/100,l=o[1]/100,c=o[2]/100,d=o[3]/100,s,n,u;return s=1-Math.min(1,h*(1-d)+d),n=1-Math.min(1,l*(1-d)+d),u=1-Math.min(1,c*(1-d)+d),[s*255,n*255,u*255]},f.xyz.rgb=function(o){var h=o[0]/100,l=o[1]/100,c=o[2]/100,d,s,n;return d=h*3.2406+l*-1.5372+c*-.4986,s=h*-.9689+l*1.8758+c*.0415,n=h*.0557+l*-.204+c*1.057,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92,d=Math.min(Math.max(0,d),1),s=Math.min(Math.max(0,s),1),n=Math.min(Math.max(0,n),1),[d*255,s*255,n*255]},f.xyz.lab=function(o){var h=o[0],l=o[1],c=o[2],d,s,n;return h/=95.047,l/=100,c/=108.883,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,d=116*l-16,s=500*(h-l),n=200*(l-c),[d,s,n]},f.lab.xyz=function(o){var h=o[0],l=o[1],c=o[2],d,s,n;s=(h+16)/116,d=l/500+s,n=s-c/200;var u=Math.pow(s,3),v=Math.pow(d,3),S=Math.pow(n,3);return s=u>.008856?u:(s-16/116)/7.787,d=v>.008856?v:(d-16/116)/7.787,n=S>.008856?S:(n-16/116)/7.787,d*=95.047,s*=100,n*=108.883,[d,s,n]},f.lab.lch=function(o){var h=o[0],l=o[1],c=o[2],d,s,n;return d=Math.atan2(c,l),s=d*360/2/Math.PI,s<0&&(s+=360),n=Math.sqrt(l*l+c*c),[h,n,s]},f.lch.lab=function(o){var h=o[0],l=o[1],c=o[2],d,s,n;return n=c/360*2*Math.PI,d=l*Math.cos(n),s=l*Math.sin(n),[h,d,s]},f.rgb.ansi16=function(o){var h=o[0],l=o[1],c=o[2],d=1 in arguments?arguments[1]:f.rgb.hsv(o)[2];if(d=Math.round(d/50),d===0)return 30;var s=30+(Math.round(c/255)<<2|Math.round(l/255)<<1|Math.round(h/255));return d===2&&(s+=60),s},f.hsv.ansi16=function(o){return f.rgb.ansi16(f.hsv.rgb(o),o[2])},f.rgb.ansi256=function(o){var h=o[0],l=o[1],c=o[2];if(h===l&&l===c)return h<8?16:h>248?231:Math.round((h-8)/247*24)+232;var d=16+36*Math.round(h/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5);return d},f.ansi16.rgb=function(o){var h=o%10;if(h===0||h===7)return o>50&&(h+=3.5),h=h/10.5*255,[h,h,h];var l=(~~(o>50)+1)*.5,c=(h&1)*l*255,d=(h>>1&1)*l*255,s=(h>>2&1)*l*255;return[c,d,s]},f.ansi256.rgb=function(o){if(o>=232){var h=(o-232)*10+8;return[h,h,h]}o-=16;var l,c=Math.floor(o/36)/5*255,d=Math.floor((l=o%36)/6)/5*255,s=l%6/5*255;return[c,d,s]},f.rgb.hex=function(o){var h=((Math.round(o[0])&255)<<16)+((Math.round(o[1])&255)<<8)+(Math.round(o[2])&255),l=h.toString(16).toUpperCase();return"000000".substring(l.length)+l},f.hex.rgb=function(o){var h=o.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!h)return[0,0,0];var l=h[0];h[0].length===3&&(l=l.split("").map(function(u){return u+u}).join(""));var c=parseInt(l,16),d=c>>16&255,s=c>>8&255,n=c&255;return[d,s,n]},f.rgb.hcg=function(o){var h=o[0]/255,l=o[1]/255,c=o[2]/255,d=Math.max(Math.max(h,l),c),s=Math.min(Math.min(h,l),c),n=d-s,u,v;return n<1?u=s/(1-n):u=0,n<=0?v=0:d===h?v=(l-c)/n%6:d===l?v=2+(c-h)/n:v=4+(h-l)/n+4,v/=6,v%=1,[v*360,n*100,u*100]},f.hsl.hcg=function(o){var h=o[1]/100,l=o[2]/100,c=1,d=0;return l<.5?c=2*h*l:c=2*h*(1-l),c<1&&(d=(l-.5*c)/(1-c)),[o[0],c*100,d*100]},f.hsv.hcg=function(o){var h=o[1]/100,l=o[2]/100,c=h*l,d=0;return c<1&&(d=(l-c)/(1-c)),[o[0],c*100,d*100]},f.hcg.rgb=function(o){var h=o[0]/360,l=o[1]/100,c=o[2]/100;if(l===0)return[c*255,c*255,c*255];var d=[0,0,0],s=h%1*6,n=s%1,u=1-n,v=0;switch(Math.floor(s)){case 0:d[0]=1,d[1]=n,d[2]=0;break;case 1:d[0]=u,d[1]=1,d[2]=0;break;case 2:d[0]=0,d[1]=1,d[2]=n;break;case 3:d[0]=0,d[1]=u,d[2]=1;break;case 4:d[0]=n,d[1]=0,d[2]=1;break;default:d[0]=1,d[1]=0,d[2]=u}return v=(1-l)*c,[(l*d[0]+v)*255,(l*d[1]+v)*255,(l*d[2]+v)*255]},f.hcg.hsv=function(o){var h=o[1]/100,l=o[2]/100,c=h+l*(1-h),d=0;return c>0&&(d=h/c),[o[0],d*100,c*100]},f.hcg.hsl=function(o){var h=o[1]/100,l=o[2]/100,c=l*(1-h)+.5*h,d=0;return c>0&&c<.5?d=h/(2*c):c>=.5&&c<1&&(d=h/(2*(1-c))),[o[0],d*100,c*100]},f.hcg.hwb=function(o){var h=o[1]/100,l=o[2]/100,c=h+l*(1-h);return[o[0],(c-h)*100,(1-c)*100]},f.hwb.hcg=function(o){var h=o[1]/100,l=o[2]/100,c=1-l,d=c-h,s=0;return d<1&&(s=(c-d)/(1-d)),[o[0],d*100,s*100]},f.apple.rgb=function(o){return[o[0]/65535*255,o[1]/65535*255,o[2]/65535*255]},f.rgb.apple=function(o){return[o[0]/255*65535,o[1]/255*65535,o[2]/255*65535]},f.gray.rgb=function(o){return[o[0]/100*255,o[0]/100*255,o[0]/100*255]},f.gray.hsl=f.gray.hsv=function(o){return[0,0,o[0]]},f.gray.hwb=function(o){return[0,100,o[0]]},f.gray.cmyk=function(o){return[0,0,0,o[0]]},f.gray.lab=function(o){return[o[0],0,0]},f.gray.hex=function(o){var h=Math.round(o[0]/100*255)&255,l=(h<<16)+(h<<8)+h,c=l.toString(16).toUpperCase();return"000000".substring(c.length)+c},f.rgb.gray=function(o){var h=(o[0]+o[1]+o[2])/3;return[h/255*100]}},function(e,a,i){var r=i(10);function p(){for(var y={},w=Object.keys(r),g=w.length,o=0;o<g;o++)y[w[o]]={distance:-1,parent:null};return y}function b(y){var w=p(),g=[y];for(w[y].distance=0;g.length;)for(var o=g.pop(),h=Object.keys(r[o]),l=h.length,c=0;c<l;c++){var d=h[c],s=w[d];s.distance===-1&&(s.distance=w[o].distance+1,s.parent=o,g.unshift(d))}return w}function f(y,w){return function(g){return w(y(g))}}function x(y,w){for(var g=[w[y].parent,y],o=r[w[y].parent][y],h=w[y].parent;w[h].parent;)g.unshift(w[h].parent),o=f(r[w[h].parent][h],o),h=w[h].parent;return o.conversion=g,o}e.exports=function(y){for(var w=b(y),g={},o=Object.keys(w),h=o.length,l=0;l<h;l++){var c=o[l],d=w[c];d.parent!==null&&(g[c]=x(c,w))}return g}}])})}(P)),P.exports}var ct=lt();const W=A(ct),ut="__pixi-dom-dynamic-texture-atlas";var j=(m=>(m.flexStart="flex-start",m.flexEnd="flex-end",m.center="center",m.spaceBetween="spaceBetween",m.spaceAround="spaceAround",m.spaceEvenly="spaceEvenly",m))(j||{}),q=(m=>(m.row="row",m.row_reverse="row-reverse",m.column="column",m.column_reverse="column-reverse",m))(q||{}),Y=(m=>(m.nowrap="nowrap",m.wrap="wrap",m.wrap_reverse="wrap-reverse",m))(Y||{}),K=(m=>(m.LINEAR="linear",m.QUADRATIC="quadtratic",m.CUBIC="cubic",m.QUARTIC="quartic",m.QUINTIC="quintic",m.SINUSOIDAL="sinusoidal",m.EXPONENTIAL="exponential",m.CIRCULAR="circular",m.ELASTIC="elastic",m.BACK="back",m))(K||{}),F=(m=>(m.background="background",m.circle_color="circle_color",m.circle_position="circle_position",m.label="label",m))(F||{});console.log("color tween: ",W);const M=2;class Q extends PIXI.Container{constructor(t,e){super(),this._toggled=!0,this.usingLabels=!1,this.backgroundColorsArrayIndex=null,this.circleColorsArrayIndex=null,this.toggleCircleTravelDistance=0,this.options=t,this.backgroundGraphic=new PIXI.Graphics;const a=t.borderRadius?t.borderRadius:50;if(t.borderRadius=a,this.computedBorderRadius=t.borderRadius/100*t.height,this.backgroundGraphic.drawRoundedRect(0,0,t.width,t.height,this.computedBorderRadius),this.addChild(this.backgroundGraphic),t.labelOptions){const{fontName:i,onLabel:r,offLabel:p,onColor:b,offColor:f}=t.labelOptions;this.onText=new PIXI.extras.BitmapText(r,{font:i,align:"left"}),this.offText=new PIXI.extras.BitmapText(p,{font:i,align:"left"}),this.addChild(this.onText),this.addChild(this.offText),this.onText.visible=!1,this.offText.visible=!1;const x=t.width/2-this.offText.width;if(x<0)throw new Error("Label for off text was too long");this.offText.x=t.width/2+x/2-M,this.offText.tint=f;const y=t.height-this.offText.height;if(y<0)throw new Error("Label font is too large to fit within height of toggle, either increase height or use smaller font");this.offText.y=y/2;const w=t.width/2-this.onText.width;if(w<0)throw new Error("Label for on text was too long");if(this.onText.x=M+w/2,this.onText.tint=b,t.height-this.onText.height<0)throw new Error("Label font is too large to fit within height of toggle, either increase height or use smaller font");this.onText.y=y/2,this.usingLabels=!0}this.circleRadius=this.options.height/2-M,this.circleGraphic=new PIXI.Graphics,this.circleGraphic.drawCircle(0,0,this.circleRadius),this.circleGraphic.y=M,this.addChild(this.circleGraphic),this.toggleCircleTravelDistance=Math.abs(M-(this.options.width-this.circleGraphic.width-M)),this.interactive=!0,this.buttonMode=!0,this.on("pointerdown",()=>{this.toggled=!this.toggled}),this.updateToggle=this.staticToggleUpdate.bind(this),this.toggled=!!e,this.updateToggle=t.animationOptions?this.animatedToggleUpdate.bind(this):this.staticToggleUpdate.bind(this)}get activeBackgroundColor(){return this.toggled?this.options.onBackgroundColor:this.options.offBackgroundColor}get inactiveBackgroundColor(){return this.toggled?this.options.offBackgroundColor:this.options.onBackgroundColor}get activeCircleColor(){return this.toggled?this.options.onCircleColor:this.options.offCircleColor}get inactiveCircleColor(){return this.toggled?this.options.offCircleColor:this.options.onCircleColor}get activeTextLabel(){return this.toggled?this.onText:this.offText}get inactiveTextLabel(){return this.toggled?this.offText:this.onText}get travelToX(){return this.toggled?M:this.options.width-this.circleGraphic.width-M}set toggled(t){this.emit("toggle-change",t),this._toggled=t,this.updateToggle()}get toggled(){return this._toggled}onToggle(t){this.on("toggle-change",t)}animateToggle(t){this.tween.update()&&requestAnimationFrame(this.animateToggle.bind(this))}midAnimationToggleUpdate(t,e){const a=this.toggleCircleTravelDistance*e,{exclude:i}=this.options.animationOptions;if(this.usingLabels&&(!i||!i.includes(F.label))&&(this.activeTextLabel.visible=!0,this.inactiveTextLabel.visible=!0,this.inactiveTextLabel.alpha=1-e,this.activeTextLabel.alpha=e),this.backgroundColorsArrayIndex!==null){if(this.backgroundGraphic.clear(),this.options.hasOwnProperty("backgroundOutline")){const{width:r,color:p}=this.options.backgroundOutline;this.backgroundGraphic.lineStyle(r,p)}this.backgroundGraphic.beginFill(E(t[this.backgroundColorsArrayIndex].hex())),this.backgroundGraphic.drawRoundedRect(0,0,this.options.width,this.options.height,this.computedBorderRadius),this.backgroundGraphic.endFill()}(!i||!i.includes(F.circle_position))&&(this.toggled?this.circleGraphic.x=this.travelToX+a:this.circleGraphic.x=this.travelToX-a),this.circleColorsArrayIndex!==null&&(this.circleGraphic.clear(),this.circleGraphic.beginFill(E(t[this.circleColorsArrayIndex].hex())),this.circleGraphic.drawCircle(this.circleRadius,this.circleRadius,this.circleRadius),this.circleGraphic.endFill())}animatedToggleUpdate(){const t=[],e=[],{exclude:a}=this.options.animationOptions;(!a||!a.includes(F.background))&&(t.push(PIXI.utils.hex2string(this.activeBackgroundColor)),e.push(PIXI.utils.hex2string(this.inactiveBackgroundColor)),this.backgroundColorsArrayIndex=0),(!a||!a.includes(F.circle_color))&&(t.push(PIXI.utils.hex2string(this.activeCircleColor)),e.push(PIXI.utils.hex2string(this.inactiveCircleColor)),this.circleColorsArrayIndex=t.length-1),this.tween=new W(e,t).duration(this.options.animationOptions.duration).easing(this.options.animationOptions.type).onUpdate(this.midAnimationToggleUpdate.bind(this)).onEnd(this.staticToggleUpdate.bind(this)).start(this.animateToggle.bind(this))}staticToggleUpdate(){if(this.backgroundGraphic.clear(),this.options.hasOwnProperty("backgroundOutline")){const{width:i,color:r}=this.options.backgroundOutline;this.backgroundGraphic.lineStyle(i,r)}let t,e,a;this._toggled?(a=this.options.onBackgroundColor,t=this.options.width-this.circleGraphic.width-M,e=this.options.onCircleColor,this._showOnText()):(a=this.options.offBackgroundColor,t=0+M,e=this.options.offCircleColor,this._showOffText()),this.backgroundGraphic.beginFill(a),this.backgroundGraphic.drawRoundedRect(0,0,this.options.width,this.options.height,this.computedBorderRadius),this.backgroundGraphic.endFill(),this.circleGraphic.clear(),this.circleGraphic.beginFill(e),this.circleGraphic.drawCircle(this.circleRadius,this.circleRadius,this.circleRadius),this.circleGraphic.endFill(),this.circleGraphic.x=t}_showOnText(){this.usingLabels&&(this.onText.visible=!0,this.offText.visible=!1)}_showOffText(){this.usingLabels&&(this.onText.visible=!1,this.offText.visible=!0)}}class $ extends _{constructor(t,e){super(),this.styleOptions={defaultStyle:{},font:"",useBitmapText:!0},this._btnState=0,this._text=t,this.interactive=!0,this.buttonMode=!0,this.on("pointerdown",()=>this.btnState=2),this.on("pointerup",()=>this.btnState=0),this.on("pointerupoutside",()=>this.btnState=0),this.on("pointerover",()=>this.btnState=1),this.on("pointerout",()=>this.btnState=0),this.updateStyle(e)}set btnState(t){t!==this._btnState&&(this._btnState=t,this.redraw())}set text(t){this._text=t,this.redrawText()}updateStyle(t){Object.keys(t).forEach(e=>{this.styleOptions[e]=t[e]}),this.styleOptions.useBitmapText=this.styleOptions.useBitmapText??!1,this.redraw()}redraw(){this.clear(),this.redrawBg(),this.redrawText()}redrawText(){let t;this.styleOptions.useBitmapText?(this.bitmapTxtSprite||(this.bitmapTxtSprite=new PIXI.extras.BitmapText("",{font:this.styleOptions.font,align:"center"})),this.txtSprite&&(this.txtSprite.destroy(),this.txtSprite=null),this.bitmapTxtSprite.maxWidth=this.width,t=this.bitmapTxtSprite):(this.txtSprite||(this.txtSprite=new PIXI.Text("",{fontFamily:this.styleOptions.font,align:"center"})),this.styleOptions.fontSize&&(this.txtSprite.style.fontSize=this.styleOptions.fontSize),this.bitmapTxtSprite&&(this.bitmapTxtSprite.destroy({children:!0}),this.bitmapTxtSprite=null),t=this.txtSprite),(this.currentStyleState.textColor||this.currentStyleState.textColor==0)&&(this.styleOptions.useBitmapText?this.bitmapTxtSprite.tint=this.currentStyleState.textColor:this.txtSprite.style.fill=this.currentStyleState.textColor),t.parent||this.addChild(t),t.text=this._text,t.x=this.currentStyleState.width/2-t.width/2,t.y=this.currentStyleState.height/2-t.height/2}get textSpriteUtilized(){return this.styleOptions.useBitmapText?this.bitmapTxtSprite:this.txtSprite}redrawBg(){let{backgroundColor:t,borderRadius:e,borderColor:a,borderWidth:i,width:r,height:p,backgroundTexture:b,backgroundOpacity:f,borderOpacity:x}=this.currentStyleState;if(t||t==0){if(this.bgGraphic?this.bgGraphic.clear():this.bgGraphic=new PIXI.Graphics,this.bgGraphic.parent||this.addChild(this.bgGraphic),f=f||f==0?f:1,this.bgGraphic.beginFill(t,f),i&&(x=x||x==0?x:1,this.bgGraphic.lineStyle(i,a,x)),e){const y=e/100*p;this.bgGraphic.drawRoundedRect(0,0,r,p,y)}else this.bgGraphic.drawRect(0,0,r,p);this.bgGraphic.endFill()}b&&(this.bgSprite||(this.bgSprite=new PIXI.Sprite),this.bgSprite.parent||this.addChild(this.bgGraphic),this.bgSprite.texture=b,this.bgSprite.x=r/2-this.bgSprite.x/2,this.bgSprite.y=p/2-this.bgSprite.y/2),this.hitArea=new PIXI.Rectangle(0,0,r,p)}clear(){this.textSpriteUtilized&&(this.removeChild(this.textSpriteUtilized),this.textSpriteUtilized.destroy({children:!0}),this.bitmapTxtSprite=null,this.txtSprite=null),this.bgGraphic&&(this.removeChild(this.bgGraphic),this.bgGraphic.destroy(),this.bgGraphic=null),this.bgSprite&&(this.removeChild(this.bgSprite),this.bgSprite.destroy(),this.bgSprite=null)}get currentStyleState(){switch(this._btnState){case 0:return this.styleOptions.defaultStyle;case 1:return this.styleOptions.hoverStyle?this.styleOptions.hoverStyle:this.styleOptions.defaultStyle;case 2:return this.styleOptions.pressedStyle?this.styleOptions.pressedStyle:this.styleOptions.hoverStyle?this.styleOptions.hoverStyle:this.styleOptions.defaultStyle}}}class Z extends PIXI.Container{constructor(t){super(),this.isDragging=!1,this.isHovered=!1,this.curOutlineWidth=0,this.lastX=0,this.resolvedScale=null,this.options=t,this.currentValue=this.options.startingValue,this.backgroundGraphic=new PIXI.Graphics,super.addChild(this.backgroundGraphic),this.circleRadius=this.options.circleRadius,this.circleGraphic=new PIXI.Graphics,this.circleGraphic.drawCircle(0,this.circleRadius,this.circleRadius),this.circleGraphic.y=0,this.circleGraphic.buttonMode=!0,super.addChild(this.circleGraphic),this.circleGraphic.interactive=!0,console.log(this.options.maxValue-this.options.minValue);const e=(this.currentValue-this.options.minValue)/(this.options.maxValue-this.options.minValue);this.circleGraphic.x=e*this.options.width,this.redrawCircle(),this.redrawBar(),this.circleGraphic.on("pointerover",a=>{this.isHovered=!0,this.redrawCircle()}),this.circleGraphic.on("pointerout",()=>{this.isHovered&&(this.isHovered=!1,this.isDragging||this.redrawCircle())}),this.circleGraphic.on("pointerdown",a=>{this.resolvedScale=null,this.resolveScale(),this.isDragging=!0,this.lastX=a.data.global.x,this.redrawCircle()}),this.circleGraphic.on("pointercancel",()=>{this.isDragging&&(this.resolvedScale=null,this.isDragging=!1,this.redrawCircle())}),this.circleGraphic.on("pointerup",()=>{this.isDragging&&(this.resolvedScale=null,this.isDragging=!1,this.redrawCircle())}),this.circleGraphic.on("pointerupoutside",()=>{this.isDragging&&(this.resolvedScale=null,this.isDragging=!1,this.redrawCircle())}),this.circleGraphic.on("pointermove",a=>{if(!this.isDragging)return;let i=a.data.global.x-this.lastX;const r=this.options.preventScaleAdjustment?1:this.resolveScale().x;if(i*=r,i<0&&a.data.global.x*r<this.x&&this.circleGraphic.x===0||i>0&&a.data.global.x*r>this.options.width&&this.circleGraphic.x===this.options.width)return;this.lastX=a.data.global.x;const p=this.circleGraphic.x;this.circleGraphic.x+=i,this.circleGraphic.x=Math.max(0,Math.min(this.circleGraphic.x,this.options.width)),this.circleGraphic.x-p&&(this.currentValue=this.calculateValue(),this.redrawBar(),super.emit("slider-change",this.currentValue))})}resolveScale(){if(this.resolvedScale)return this.resolvedScale;let t=1/this.scale.x,e=1/this.scale.y,a=this.parent;for(;a;)t/=a.scale.x,e/=a.scale.y,a=a.parent;return this.resolvedScale={x:t,y:e}}calculateValue(){const{maxValue:t,minValue:e,width:a}=this.options,i=this.circleGraphic.x/a;return dt(e,t,i)}redrawCircle(){var b,f,x,y,w,g,o,h,l,c,d,s;this.circleGraphic.clear();let t=this.options.circleOpacity||1;this.isDragging&&((b=this.options.down)!=null&&b.circleOpacity)?t=this.options.down.circleOpacity:this.isHovered&&((f=this.options.hover)!=null&&f.circleOpacity)&&(t=this.options.hover.circleOpacity);let e=this.options.circleRadius;this.isDragging&&((x=this.options.down)!=null&&x.circleRadius)?e=this.options.down.circleRadius:this.isHovered&&((y=this.options.hover)!=null&&y.circleRadius)&&(e=this.options.hover.circleRadius);let a=this.options.circleColor;this.isDragging&&((w=this.options.down)!=null&&w.circleColor)?a=this.options.down.circleColor:this.isHovered&&((g=this.options.hover)!=null&&g.circleColor)&&(a=this.options.hover.circleColor);let i=0;this.isDragging&&((o=this.options.down)!=null&&o.circleOutlineWidth)?i=this.options.down.circleOutlineWidth:this.isHovered&&((h=this.options.hover)!=null&&h.circleOutlineWidth)?i=this.options.hover.circleOutlineWidth:this.options.circleOutlineWidth&&(i=this.options.circleOutlineWidth);let r=this.options.circleOutlineColor||0;this.isDragging&&((l=this.options.down)!=null&&l.circleOutlineColor)?r=this.options.down.circleOutlineColor:this.isHovered&&((c=this.options.hover)!=null&&c.circleOutlineColor)&&(r=this.options.hover.circleOutlineColor);let p=this.options.circleOutlineOpacity||1;this.isDragging&&((d=this.options.down)!=null&&d.circleOutlineOpacity)?p=this.options.down.circleOutlineOpacity:this.isHovered&&((s=this.options.hover)!=null&&s.circleOutlineOpacity)&&(p=this.options.hover.circleOutlineOpacity),this.circleGraphic.lineStyle(i,r,p),this.circleGraphic.beginFill(a,t),this.circleGraphic.drawCircle(0,e,e),this.circleGraphic.endFill(),k(this.circleGraphic,{axis:"y",parent:{height:this.options.height}})}redrawBar(){const t=this.circleGraphic.x,e=this.options.width-t;this.backgroundGraphic.clear();const a=this.options.opacity||1;this.backgroundGraphic.beginFill(this.options.activeColor,a),this.backgroundGraphic.drawRect(0,0,t,this.options.height),this.backgroundGraphic.endFill(),this.backgroundGraphic.beginFill(this.options.inactiveColor,a),this.backgroundGraphic.drawRect(t,0,e,this.options.height),this.backgroundGraphic.endFill()}offChange(t){super.off("slider-change",t)}onChange(t){super.on("slider-change",t)}}function dt(m,t,e){return(1-e)*m+e*t}const ft={centerPixiObject:k,string2hex:E};PIXI!==void 0&&(PIXI.Slider=PIXI.Slider||Z,PIXI.Toggle=PIXI.Toggle||Q,PIXI.TextField=PIXI.TextField||L,PIXI.Element=PIXI.Element||_,PIXI.ScrollBar=PIXI.ScrollBar||B,PIXI.ScrollList=PIXI.ScrollList||z,PIXI.Button=PIXI.Button||$,PIXI.utils&&!PIXI.utils.string2hex&&(PIXI.utils.string2hex=E),PIXI.utils.centerObject=k),O.AnimationType=K,O.Button=$,O.FlexDirection=q,O.FlexWrap=Y,O.GLOBAL_PIXI_DTA_PROPERTY_KEY=ut,O.JustifyContent=j,O.PixiElement=_,O.ScrollBar=B,O.ScrollList=z,O.Slider=Z,O.TextField=L,O.Toggle=Q,O.ToggleAnimationExclusions=F,O.utils=ft,Object.defineProperty(O,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=pixidom.js.map
