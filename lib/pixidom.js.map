{"version":3,"sources":["webpack://PIXI_DOM/webpack/universalModuleDefinition","webpack://PIXI_DOM/webpack/bootstrap","webpack://PIXI_DOM/./src/utils.ts","webpack://PIXI_DOM/./src/Element.ts","webpack://PIXI_DOM/./src/Components/ScrollList/ScrollBar.ts","webpack://PIXI_DOM/./src/index.ts","webpack://PIXI_DOM/./src/Components/TextInput/TextField.ts","webpack://PIXI_DOM/./src/mixins/KeyboardHandlers.ts","webpack://PIXI_DOM/./src/Components/ScrollList/ScrollList.ts","webpack://PIXI_DOM/./node_modules/tween-functions/index.js","webpack://PIXI_DOM/./src/Components/Toggle.ts","webpack://PIXI_DOM/./node_modules/gotti-color-tween/dist/color-tween.js","webpack://PIXI_DOM/./src/types.ts","webpack://PIXI_DOM/./src/Components/Button.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Number","isNaN","parseLengthMeasurements","measurement","valid","type","last2","toString","slice","charAt","parseInt","Error","err","error","message","num","min","max","string","substr","PIXI","Container","super","isMouseOver","elements","dragPosition","inDrag","pointerIsDown","_pointerdownHandler","_pointermoveHandler","_pointerupHandler","_pointerupoutsideHandler","_pointeroverHandler","_pointeroutHandler","_pointertapHandler","_doubleclickHandler","_dragmoveHandler","_dragendHandler","_dragstartHandler","_swipeupHandler","_swipedownHandler","_swipeHandler","doubleClickTimeout","completedTriggerTimeout","holdDragTriggerTime","holdDragTriggerTimeout","helddownCountHandlers","helddownTimeouts","ifDragEndEmitSwipeDistance","curDragSwipePowerIterationQueue","lastDragDistance","lastDragY","maxSwipeTimeout","minSwipeDistance","hasSwipeHandler","missedDiffs","this","_addChild","addChild","on","handler","_setEventNameHandler","timeout","console","warn","eventName","buttonMode","interactive","parent","x","width","y","height","centerX","centerY","element","Element","push","filter","e","pointerdownHandler","pointerupHandler","pointerupoutsideHandler","pointeroverHandler","pointeroutHandler","pointermoveHandler","pointertapHandler","onMouseDown","_setHeldDownHandler","hold","registerDefaultIfNeeded","dragstartHandler","dragendHandler","onDragStart","event","onDragEnd","dragmoveHandler","doubleclickHandler","onDragMove","clearTimeout","forEach","length","keys","time","setTimeout","swipeStartTs","Date","now","swipeStartY","data","global","emit","startDragY","lastDragCheckTs","delta","curDragSwiperCheckIterationDuration","currentDragY","diff","Math","abs","sign","resetDragSwipeVars","shift","dur","timeDiff","power","clearHelddownTimeouts","clearDragTimeouts","finishY","yDiff","handleSwipeFinish","repositionSelf","children","PixiElement","scrollList","options","scrolling","bg","Graphics","scroller","Scroller","scrollerOptions","redraw","registerScrollerEvents","parentTotalHeight","parentMaxHeight","maxHeight","clear","beginFill","backgroundColor","drawRect","visibleLength","onHeldDown","mouseY","getGlobalPosition","toY","clamp","emitScroll","stopPropagation","movementY","originalEvent","globalP","globalScrollY","extra","utilizedSpaceForPercent","percent","scrollBar","styleObj","rect","maxLength","ceil","color","endFill","TextField","ScrollList","ScrollBar","Toggle","Button","undefined","utils","string2hex","defaultStyleOptions","fontColor","highlightedFontColor","borderColor","borderWidth","cursorColor","cursorHeight","cursorWidth","highlightedBackgroundColor","borderOpacity","xPadding","yPadding","lengthFieldsToValidate","font","styleOptions","maxCharacterLength","ignoreKeys","cursorSprite","textbox","textboxMask","inFocus","cursorIndex","lastCursorTs","accCursorTime","toggleCursorTime","cursorIsVisible","_text","_visible","overflowOffsetX","overflowOffsetY","dragIndexStart","dragIndexEnd","submitKeyCodes","_maxCharacterLength","onFocusHandler","onBlurHandler","onChangeHandler","onSubmitHandler","onCharLimitHandler","checkForOutsideClick","oldDestroy","destroy","blur","_defaultStyleOptions","textSprite","extras","BitmapText","align","cursor","handleMouseDown","handleMouseUp","handleMouseMove","mask","updateStyle","show","includes","parsed","redrawText","redrawTextbox","redrawCursor","visible","cursorX","getCursorXFromIndex","lineStyle","round","yOffset","bottomOffset","floor","topOffset","moveTo","lineTo","getSelectedRange","range","currentCursorX","totalWidth","innerWidth","maxWidth","child","indexes","start","end","tint","totalHeight","innerHeight","_width","getLocalPosition","getCursorIndexFromX","handleRangeFinish","clickedTimestamp","timeStamp","focus","clearRange","handleRangeStart","handleRangeChange","startIndex","endIndex","index","leftChar","indexChange","newCursorIndex","text","charChild","replaceWith","replaceWithArray","split","replacedLength","textArray","getSelectedRangeIndexes","deleteCount","splice","change","join","setSelectedRange","position","left","right","array","document","addEventListener","startCursorAnimation","removeEventListener","stopCursorAnimation","removeChild","updateTransform","cursorAnimationFrame","blinkCursor","Base","args","copiedText","textStates","currentStateIndex","registerHandlers","unregisterHandlers","onCopy","onPaste","onCut","onKeyPress","onKeyDown","stateInterval","newIndex","pastedText","clipboardData","getData","newText","replaceSelectedWith","addState","preventDefault","selected","getSelectedChars","setData","code","keyCode","submit","moveCursor","removeLeftOfCursor","removeRightOfCursor","ctrlKey","shiftKey","changeStateIndex","selectAll","which","char","String","fromCharCode","tweenFunctions","defaultPerformanceOptions","disableTouchScroll","disableScrollWheelScroll","visibilityBuffer","adjustVisibilityTime","scrollStyleOptions","scrollItemOptions","scrollPerformanceOptions","scrollItemsById","po","scrollRect","scrollDuration","_currentScroll","lastScroll","pointerdownStart","startingVisibleChildIndex","endingVisibleChildIndex","scrollCurrentDur","currentAdjustVisibilityDelta","animationFrame","nextItemY","scrollToDest","listContainer","listRect","scrollLength","adjustedIndex","lastOverOption","lastDownOption","freezeScroll","_needsUpdateScoller","_registeredScrollEvent","handleScrollWheelScroll","interactiveChildren","__width","__height","performanceOptions","lastScrollY","scrollbarScroll","scrollMask","heldTimeout","registerScrollEvents","onSwipe","applySwipe","cancelAnimationFrame","tweenFunc","easeOutElastic","applyDrag","adjustVisibility","scrollBarOptions","setScrollPercent","currentScroll","deltaY","utilizedLength","once","prev","toggleFreezeScroll","freeze","container","toLocal","ax","iy","ay","w","h","adjustOptions","force","setFirstVisible","option","canSeeFromTop","canSeeFromBottom","wasVisible","ts","requestAnimationFrame","animateScroll","difference","distanceToTraverse","maxTime","easeOutCubic","absPower","scrollPercent","containers","hitArea","Rectangle","recalculateHeight","repositionOptions","addScrollItems","fromIndex","toIndex","destroyItem","indexArray","removeScrollItems","indexOrContainer","Array","isArray","indexesToRemove","foundOption","find","indexOf","opt","_containsPoint","el","point","foundChildren","recurseChildren","linear","b","_c","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","a","asin","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","ColorTween","circlePadding","isToggled","_toggled","usingLabels","backgroundColorsArrayIndex","circleColorsArrayIndex","toggleCircleTravelDistance","backgroundGraphic","borderRadius","computedBorderRadius","drawRoundedRect","labelOptions","fontName","onLabel","offLabel","onColor","offColor","onText","offText","offXDiff","offYDiff","onXDiff","circleRadius","circleGraphic","drawCircle","toggled","updateToggle","staticToggleUpdate","animationOptions","animatedToggleUpdate","onBackgroundColor","offBackgroundColor","onCircleColor","offCircleColor","val","callback","tween","update","animateToggle","colors","progress","traveledDistance","exclude","ToggleAnimationExclusions","label","activeTextLabel","inactiveTextLabel","alpha","backgroundOutline","hex","circle_position","travelToX","activeColorsArray","inactiveColorsArray","background","hex2string","activeBackgroundColor","inactiveBackgroundColor","circle_color","activeCircleColor","inactiveCircleColor","duration","easing","onUpdate","midAnimationToggleUpdate","onEnd","xPosition","circleColor","_showOnText","_showOffText","id","loaded","Easing","Color","startColorStrings","endColorStrings","startColors","map","rgb","endColors","params","updater","ender","startTime","overwrite","cb","stop","frame","frames","endColor","j","easingFunctions","reduce","acc","ease","subject","InOut","In","Out","path","found","reg","match","exec","parseName","k","quadratic","cubic","quartic","quintic","sinusoidal","exponential","circular","elastic","back","bounce","Bounce","colorString","convert","_slice","skippedModels","hashedModelKeys","model","labels","sort","limiters","obj","channels","valpha","result","newArr","zeroArray","hashedKeys","JSON","stringify","limit","getset","channel","modifier","arguments","maxfn","v","assertArray","arr","toJSON","places","self","to","concat","percentString","unitArray","unitObject","g","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","z","keyword","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","ratio","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","newAlpha","raw","colorNames","swizzle","reverseNames","cs","hexDouble","str","toUpperCase","substring","toLowerCase","hexAlpha","i2","parseFloat","rgba","hsla","hwba","isArrayish","results","len","arg","wrap","fn","Function","getOwnPropertyDescriptor","constructor","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","cssKeywords","reverseKeywords","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","rdif","gdif","bdif","diffc","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","t1","t2","t3","smin","lmin","hi","f","q","sl","vmin","wh","bl","y2","x2","z2","atan2","hr","ansi","mult","rem","integer","mg","pure","deriveBFS","graph","models","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","wrapConversion","cur","GLOBAL_PIXI_DTA_PROPERTY_KEY","JustifyContent","FlexDirection","FlexWrap","AnimationType","BtnState","defaultStyle","useBitmapText","_btnState","NONE","btnState","PRESSED","HOVER","newState","redrawBg","sprite","bitmapTxtSprite","txtSprite","Text","fontFamily","fontSize","style","currentStyleState","textColor","fill","backgroundTexture","backgroundOpacity","bgGraphic","bgSprite","Sprite","texture","textSpriteUtilized","hoverStyle","pressedStyle"],"mappings":"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","file":"pixidom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PIXI_DOM\"] = factory();\n\telse\n\t\troot[\"PIXI_DOM\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","Number.isNaN = Number.isNaN || function(value) {\r\n    return typeof value === \"number\" && isNaN(value);\r\n}\r\n\r\ntype ParsedMeasurement = {\r\n    valid: boolean,\r\n    error?: string,\r\n    value?: number,\r\n    type?: string, // percent or pixel\r\n}\r\n\r\nexport const parseLengthMeasurements = function(measurement) : ParsedMeasurement {\r\n    let value: number;\r\n    if(!isNaN(measurement) && measurement != null) {\r\n        return {\r\n            valid: true,\r\n            type: 'pixel',\r\n            value: measurement\r\n        }\r\n    }\r\n    try {\r\n        const last2 = measurement.toString().slice(-2);\r\n        if(last2.charAt(1) === '%') {\r\n            value = parseInt(measurement.slice(0, -1));\r\n            if(Number.isNaN(value)) {\r\n                throw new Error('Did not find a number in front of % sign')\r\n            } else {\r\n                return {\r\n                    valid: true,\r\n                    value,\r\n                    type: 'percent'\r\n                }\r\n            }\r\n        } else if (last2 === 'px') {\r\n            value = parseInt(measurement.slice(0, -2));\r\n            if(Number.isNaN(value)) {\r\n                throw new Error('Did not find a number in front of px')\r\n            } else if(value < 0) {\r\n                throw new Error('Can not have negative pixel length value')\r\n            } else {\r\n                return {\r\n                    valid: true,\r\n                    value,\r\n                    type: 'pixel'\r\n                }\r\n            }\r\n        } else {\r\n            throw new Error('Length values must either be in % or px');\r\n        }\r\n    } catch(err) {\r\n        return { valid: false, error: err.message }\r\n    }\r\n}\r\n\r\nexport function clamp(num, min, max) {\r\n    return num <= min ? min : num >= max ? max : num;\r\n}\r\n\r\nexport function string2hex(string) {\r\n    if (typeof string === 'string' && string[0] === '#')\r\n    {\r\n        string = string.substr(1);\r\n    }\r\n    return parseInt(string, 16);\r\n}","export class PixiElement extends PIXI.Container {\r\n    public isMouseOver: Boolean = false;\r\n    private elements: Array<Element>= [];\r\n    private dragPosition = null;\r\n    inDrag: Boolean = false;\r\n    private pointerIsDown: Boolean = false;\r\n    private _pointerdownHandler: Function = null;\r\n    private _pointermoveHandler: Function = null;\r\n    private _pointerupHandler: Function = null;\r\n    private _pointerupoutsideHandler: Function = null;\r\n    private _pointeroverHandler: Function = null;\r\n    private _pointeroutHandler: Function = null;\r\n    private _pointertapHandler: Function = null;\r\n    private _doubleclickHandler: Function = null;\r\n    private _dragmoveHandler: Function = null;\r\n    private _dragendHandler: Function = null;\r\n    private _dragstartHandler: Function = null;\r\n    private _swipeupHandler: Function = null;\r\n    private _swipedownHandler: Function = null;\r\n    private _swipeHandler: Function = null;\r\n\r\n    private doubleClickTimeout: any = null;\r\n\r\n    private _addChild: Function;\r\n\r\n    private completedTriggerTimeout: boolean = null;\r\n    private holdDragTriggerTime: number = 30;\r\n    private holdDragTriggerTimeout: any = null;\r\n\r\n    private helddownCountHandlers: any = {};\r\n    private helddownTimeouts: Array<any> = [];\r\n\r\n    private ifDragEndEmitSwipeDistance: number = 0;\r\n\r\n    private swipeStartY: number;\r\n    private swipeStartTs: number;\r\n    private swipeEndY: number;\r\n\r\n\r\n    private startDragY: number;\r\n    private lastDragCheckTs: number;\r\n    private curDragSwiperCheckIterationDuration: number;\r\n    private curDragSwipePowerIterationQueue: Array<number> = [];\r\n    private lastDragDistance: number = 0;\r\n\r\n    private lastDragY: number = 0;\r\n    private dragDistanceY: number;\r\n\r\n    public maxSwipeTimeout: number = 300;\r\n    public minSwipeDistance: number = 200;\r\n\r\n    private hasSwipeHandler: boolean = false;\r\n    private missedDiffs: number = 0;\r\n    constructor() {\r\n        super();\r\n        this._addChild = super.addChild;\r\n\r\n        this.on('pointerover', () => {\r\n            this.isMouseOver = true;\r\n        });\r\n        this.on('pointerout', () => {\r\n            this.isMouseOver = false;\r\n        });\r\n    }\r\n\r\n    set pointerdownHandler(handler) { this._setEventNameHandler(\"pointerdown\", handler); }\r\n    set pointerupHandler(handler) { this._setEventNameHandler(\"pointerup\", handler); }\r\n    set pointerupoutsideHandler(handler) {  this._setEventNameHandler(\"pointerupoutside\", handler); }\r\n    set pointeroverHandler(handler) { this._setEventNameHandler(\"pointerover\", handler); }\r\n    set pointermoveHandler(handler) { this._setEventNameHandler(\"pointermove\", handler); }\r\n    set pointeroutHandler(handler) { this._setEventNameHandler(\"pointerout\", handler); }\r\n    set pointertapHandler(handler) { this._setEventNameHandler(\"pointertap\", handler); }\r\n\r\n    set doubleclickHandler(handler) { this._setEventNameHandler(\"doubleclick\", handler); }\r\n    set dragstartHandler(handler) {this._setEventNameHandler(\"dragstart\", handler);}\r\n    set dragendHandler(handler) { this._setEventNameHandler(\"dragend\", handler); }\r\n    set dragmoveHandler(handler) {this._setEventNameHandler(\"dragmove\", handler); }\r\n\r\n    private _setHeldDownHandler(handler, timeout: number) {\r\n        if(this.helddownCountHandlers[timeout]) {\r\n            console.warn('already had held down timeout for duration at', timeout, 'this will override it.')\r\n        }\r\n        this.helddownCountHandlers[timeout] = handler;\r\n    }\r\n\r\n    private _setEventNameHandler(eventName, handler) {\r\n        const currentHandler =  this[`_${eventName}Handler`];\r\n        // register private handler if we never had a user defined one\r\n        if(!currentHandler) {\r\n            this.on(eventName, this[`__${eventName}`]);\r\n        }\r\n        // set user defined handler\r\n        this[`_${eventName}Handler`] = handler;\r\n\r\n        // if button mode wasnt enabled yet, we now do so.\r\n        if(!this.buttonMode) {\r\n            this.buttonMode = true;\r\n            this.interactive = true;\r\n        }\r\n    }\r\n\r\n    public centerX() {\r\n        if(this.parent) {\r\n            this.x = this.parent.width / 2 - this.width / 2;\r\n        }\r\n    }\r\n    public centerY() {\r\n        if(this.parent) {\r\n            this.y = this.parent.height / 2 - this.height / 2;\r\n        }\r\n    }\r\n    public center() {\r\n        this.centerX();\r\n        this.centerY();\r\n    }\r\n    public addElement (element: Element) {\r\n        if(!(element instanceof Element)) {\r\n            throw new Error('addElement called with a non element object')\r\n        }\r\n        this.elements.push(element);\r\n       // super.addChild(element);\r\n    }\r\n    public removeElement(element: Element) {\r\n        this.elements = this.elements.filter(e => e !== element);\r\n     //   super.removeChild(element);\r\n    }\r\n    public onMouseDown(handler) { this.pointerdownHandler = handler; }\r\n    public onMouseUp(handler) { this.pointerupHandler = handler; }\r\n    public onMouseUpOutside(handler) { this.pointerupoutsideHandler = handler };\r\n    public onMouseOver(handler) { this.pointeroverHandler = handler; }\r\n    public onMouseOut(handler) { this.pointeroutHandler = handler; }\r\n    public onMouseMove(handler) { this.pointermoveHandler = handler; }\r\n    public onClick(handler) { this.pointertapHandler = handler; }\r\n    public onHeldDown(handler, timeout: number) {\r\n        !this._pointerdownHandler && this.onMouseDown(() => {});\r\n        this._setHeldDownHandler(handler, timeout)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param handler\r\n     * @param hold - time in milliseconds needed to be held before triggering drag\r\n     */\r\n    public onDragStart(handler, hold?: number) {\r\n        if(hold || hold == 0 && !isNaN(hold)) {\r\n            this.holdDragTriggerTime = hold;\r\n        }\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this.registerDefaultIfNeeded('pointerout');\r\n        this.dragstartHandler = handler;\r\n    }\r\n    public onDragEnd(handler) {\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this.dragendHandler = handler;\r\n    }\r\n    public onDragMove(handler) {\r\n        if(!this._dragstartHandler) {this.onDragStart((event) => {}, this.holdDragTriggerTime)}\r\n        if(!this._dragendHandler) { this.onDragEnd((event) => {})}\r\n        this.registerDefaultIfNeeded('pointermove');\r\n        this.dragmoveHandler = handler;\r\n    }\r\n\r\n    public onDoubleClick(handler) {\r\n        // we need a pointerdownhandler for double click to function correctly\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.doubleclickHandler = handler;\r\n    };\r\n\r\n    public onSwipe(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        if(!this._dragmoveHandler) {\r\n            this.onDragMove(() => {});\r\n        }\r\n        this._swipeHandler = handler;\r\n    }\r\n\r\n    public onSwipeUp(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this._swipeupHandler = handler;\r\n    }\r\n    public onSwipeDown(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this._swipedownHandler = handler;\r\n    }\r\n\r\n    private __doubleclick(event) {\r\n        clearTimeout(this.doubleClickTimeout);\r\n        this.doubleClickTimeout = null;\r\n        this._doubleclickHandler && this._doubleclickHandler(event);\r\n    }\r\n\r\n    private clearHelddownTimeouts() {\r\n        this.helddownTimeouts.forEach(t => {\r\n            clearTimeout(t);\r\n        });\r\n        this.helddownTimeouts.length = 0;\r\n    }\r\n\r\n    private registerDefaultIfNeeded(eventName) {\r\n        if(!this[`_${eventName}Handler`]) { this[`${eventName}Handler`] = () => {} };\r\n    }\r\n\r\n    private __pointerdown(event) {\r\n        Object.keys(this.helddownCountHandlers).forEach(time => {\r\n            this.helddownTimeouts.push(\r\n                setTimeout(() => {\r\n                    this.helddownCountHandlers[time](event)\r\n                }, parseInt(time))\r\n            );\r\n        });\r\n\r\n        this.pointerIsDown = true;\r\n        this._pointerdownHandler(event);\r\n\r\n        this.swipeStartTs = Date.now();\r\n        this.swipeStartY = event.data.global.y;\r\n\r\n        if(this._dragstartHandler && !this.inDrag) {\r\n            this.holdDragTriggerTimeout = setTimeout(() => {\r\n                this.completedTriggerTimeout = true;\r\n                this.holdDragTriggerTimeout = null;\r\n            }, this.holdDragTriggerTime)\r\n        }\r\n\r\n        if(this.doubleClickTimeout) {\r\n            this.emit(\"doubleclick\", event);\r\n        } else {\r\n            this.doubleClickTimeout = setTimeout(() => {\r\n                this.doubleClickTimeout = null;\r\n            }, 300);\r\n        }\r\n    }\r\n\r\n    private __pointertap(event) {\r\n        this._pointertapHandler(event);\r\n    }\r\n\r\n    private __dragstart(event) {\r\n        this.inDrag = true;\r\n        this.startDragY = event.data.global.y;\r\n        this.lastDragY = event.data.global.y;\r\n        this.lastDragCheckTs = Date.now();\r\n        this._dragstartHandler(event);\r\n    }\r\n\r\n    private __dragmove(event) {\r\n        this._dragmoveHandler(event);\r\n        if(this.hasSwipeHandler) {\r\n            const now = Date.now();\r\n            const delta = now - this.lastDragCheckTs;\r\n            this.lastDragCheckTs = now;\r\n\r\n            this.curDragSwiperCheckIterationDuration += delta;\r\n\r\n            const currentDragY = event.data.global.y;\r\n            const diff = this.lastDragY - currentDragY;\r\n            this.lastDragY = currentDragY;\r\n            if(Math.abs(diff) < 7) {\r\n                this.missedDiffs++;\r\n            } else {\r\n                this.missedDiffs = 0;\r\n            }\r\n            if(this.missedDiffs < 2) {\r\n                if(Math.sign(this.ifDragEndEmitSwipeDistance) != Math.sign(diff)) {\r\n                    this.swipeStartY = currentDragY;\r\n                    this.resetDragSwipeVars();\r\n                }\r\n                if(this.curDragSwiperCheckIterationDuration >= this.maxSwipeTimeout) {\r\n                    if(this.curDragSwipePowerIterationQueue.length) {\r\n                        this.ifDragEndEmitSwipeDistance -= this.curDragSwipePowerIterationQueue.shift();\r\n                    }\r\n                    this.curDragSwipePowerIterationQueue.push(diff);\r\n                    this.ifDragEndEmitSwipeDistance += diff;\r\n                } else {\r\n                    this.ifDragEndEmitSwipeDistance += diff;\r\n                    this.curDragSwipePowerIterationQueue.push(diff);\r\n                }\r\n            } else {\r\n                this.resetDragSwipeVars();\r\n            }\r\n        }\r\n    }\r\n\r\n    private resetDragSwipeVars() {\r\n        this.curDragSwipePowerIterationQueue.length = 0;\r\n        this.ifDragEndEmitSwipeDistance = 0;\r\n        this.curDragSwiperCheckIterationDuration = 0;\r\n    }\r\n\r\n    private __dragend(event) {\r\n        this.inDrag = false;\r\n        this._dragendHandler(event);\r\n\r\n        if(this.hasSwipeHandler) {\r\n            const sign = Math.sign(this.ifDragEndEmitSwipeDistance);\r\n            if(sign) {\r\n                const dur = Math.max(10, this.curDragSwiperCheckIterationDuration);\r\n                const timeDiff = Math.min(this.maxSwipeTimeout, dur);\r\n                const power = (this.ifDragEndEmitSwipeDistance / (timeDiff + 100 / 15)) * 10;\r\n                if(sign > 0 && this._swipedownHandler) {\r\n                    this._swipedownHandler(this.ifDragEndEmitSwipeDistance);\r\n                } else if(this._swipeupHandler) {\r\n                    this._swipeupHandler(this.ifDragEndEmitSwipeDistance);\r\n                }\r\n                this._swipeHandler && this._swipeHandler(power);\r\n            }\r\n            this.resetDragSwipeVars();\r\n        }\r\n        this.ifDragEndEmitSwipeDistance = 0;\r\n    }\r\n\r\n    private __pointermove(event) {\r\n        if(this.pointerIsDown && !this.inDrag && this.completedTriggerTimeout) {\r\n            this.emit(\"dragstart\", event);\r\n        } else if (this.inDrag && this._dragmoveHandler) {\r\n            this.emit(\"dragmove\", event);\r\n        }\r\n        this._pointermoveHandler(event);\r\n    }\r\n\r\n    private __pointerover(event) { this._pointeroverHandler(event); }\r\n\r\n    private __pointerout(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this._pointeroutHandler(event);\r\n    }\r\n\r\n    private handleSwipeFinish(finishY) {\r\n        if(this.hasSwipeHandler) {\r\n            const yDiff = this.swipeStartY - finishY;\r\n            const timeDiff = Math.max(Date.now() - this.swipeStartTs, 1);\r\n            if(timeDiff < this.maxSwipeTimeout && Math.abs(yDiff) > this.minSwipeDistance) {\r\n                const power = (yDiff / (timeDiff + 100 / 15)) * 10;\r\n                if(Math.abs(power) > 10) {\r\n                    const handler = yDiff > 0 ? this._swipeupHandler : this._swipedownHandler;\r\n                    handler && handler(power);\r\n                    this._swipeHandler && this._swipeHandler(power);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private __pointerupoutside(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this.handleSwipeFinish(event.data.global.y);\r\n        this.pointerIsDown = false;\r\n        this._pointerupoutsideHandler(event);\r\n        if(this.inDrag) {\r\n            this.emit(\"dragend\", event);\r\n        }\r\n    }\r\n    private __pointerup(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this.handleSwipeFinish(event.data.global.y);\r\n        this.pointerIsDown = false;\r\n        this._pointerupHandler(event);\r\n        if(this.inDrag) {\r\n            this.emit(\"dragend\", event)\r\n        }\r\n    }\r\n\r\n    private clearDragTimeouts() {\r\n        this.completedTriggerTimeout = false;\r\n        if(this.holdDragTriggerTimeout) {\r\n            clearTimeout(this.holdDragTriggerTimeout);\r\n            this.holdDragTriggerTimeout = null;\r\n        }\r\n    }\r\n\r\n    private repositionSelf() {\r\n        if(this.parent) {\r\n        }\r\n    }\r\n\r\n    public repositionChildren() {\r\n        this.repositionSelf();\r\n        for(let i = 0; i < this.elements.length; i++) {\r\n            const elements = this.elements[i] as Element;\r\n          //  elements.repositionChildren();\r\n        }\r\n        this.children.forEach(c => {\r\n          //  c.repositionChildren();\r\n        });\r\n    }\r\n}","import { PixiElement } from '../../Element';\r\nimport {clamp, parseLengthMeasurements} from \"../../utils\";\r\nimport {ScrollList} from \"./ScrollList\";\r\nexport type SideScrollOptions = {\r\n    width: number,\r\n    height: number,\r\n    color: number\r\n}\r\n\r\nexport type ScrollerStyleOptions = {\r\n    color: number,\r\n    hoverColor: number,\r\n    mouseDownColor: number,\r\n}\r\n\r\nexport type ScrollBarStyleOptions = {\r\n    width: number,\r\n    height: number,\r\n    backgroundColor: number,\r\n    scrollerOptions: ScrollerStyleOptions\r\n}\r\n\r\nexport class ScrollBar extends PixiElement {\r\n    public scrolling : boolean = false;\r\n    private scroller: Scroller;\r\n    private bg: PIXI.Graphics;\r\n    private options: ScrollBarStyleOptions;\r\n    private scrollList : ScrollList;\r\n    constructor(scrollList: ScrollList, options: ScrollBarStyleOptions) {\r\n        super();\r\n        this.scrollList = scrollList;\r\n        // @ts-ignore\r\n        this.options = options || {};\r\n        this.bg = new PIXI.Graphics();\r\n        this.addChild(this.bg);\r\n        this.scroller = new Scroller(this, options.scrollerOptions);\r\n        this.addChild(this.scroller);\r\n        this.scroller.y = 0;\r\n        this.redraw();\r\n        this.registerScrollerEvents();\r\n        let heldDownInterval = 0;\r\n    }\r\n    public resizeScrollBar(parentTotalHeight: number, parentMaxHeight: number,) {\r\n    }\r\n    get visibleLength() {\r\n        return this.scrollList.height;\r\n    }\r\n    get maxLength() {\r\n        return this.scrollList.maxHeight;\r\n    }\r\n    public redraw() {\r\n        this.bg.clear();\r\n        this.bg.beginFill(this.options.backgroundColor || 0xf7f7f7);\r\n        this.bg.drawRect(0, 0, this.options.width, this.visibleLength);\r\n        this.scroller.redraw();\r\n    }\r\n\r\n    public setScrollPercent(n: number) {\r\n        console.error('set', n)\r\n        const utilizedSpaceForPercent = this.visibleLength - this.scroller.height;\r\n        const y = utilizedSpaceForPercent * n;\r\n        this.scroller.y = y;\r\n    }\r\n\r\n    private registerScrollerEvents() {\r\n        let lastScrollY:any;\r\n        this.onHeldDown((e) => {\r\n            const mouseY = e.data.global.y -this.getGlobalPosition().y;\r\n            let toY = -1;\r\n            if(mouseY < this.scroller.y) {\r\n                toY = mouseY;\r\n            } else if (mouseY > this.scroller.y + this.scroller.height) {\r\n                toY = mouseY - this.scroller.height\r\n            }\r\n\r\n            if(toY >= 0 && !this.scrolling) {\r\n                this.scroller.y = clamp(toY, 0, this.visibleLength-this.scroller.height);\r\n                this.emitScroll();\r\n            }\r\n        }, 50);\r\n\r\n        let prevMouseY;\r\n        let start;\r\n        this.scroller.onDragStart(event => {\r\n            this.scrolling = true;\r\n        }, 0);\r\n        this.scroller.onDragEnd(event => {\r\n            this.scrolling = false;\r\n        });\r\n        this.scroller.onDragMove(event => {\r\n            event.stopPropagation();\r\n            const movementY = event.data.originalEvent.movementY;\r\n            const mouseY = event.data.global.y;\r\n            const globalP = this.getGlobalPosition();\r\n            const globalScrollY = this.scroller.y + globalP.y;\r\n            let extra = 0;\r\n            if(mouseY > globalScrollY + this.scroller.height) {\r\n                extra = mouseY - (globalScrollY + this.scroller.height);\r\n            } else if (mouseY < globalScrollY) {\r\n                extra = mouseY - globalScrollY;\r\n            }\r\n            this.scroller.y = clamp(this.scroller.y + movementY + extra, 0, this.visibleLength-this.scroller.height);\r\n            this.emitScroll();\r\n        })\r\n    }\r\n    private emitScroll() {\r\n        const utilizedSpaceForPercent = this.visibleLength - this.scroller.height;\r\n        const percent = this.scroller.y / utilizedSpaceForPercent\r\n        this.emit('scrolled', percent);\r\n    }\r\n}\r\n\r\n\r\nclass Scroller extends PixiElement {\r\n    private rect: PIXI.Graphics;\r\n    private curPercent: number;\r\n    private scrollBar : ScrollBar;\r\n    private styleObj : Partial<ScrollerStyleOptions>;\r\n    constructor(scrollBar: ScrollBar, options?: ScrollerStyleOptions) {\r\n        super();\r\n        this.scrollBar = scrollBar;\r\n        this.styleObj = options || {};\r\n        this.rect = new PIXI.Graphics();\r\n        this.addChild(this.rect);\r\n    }\r\n    private setStyle(o: ScrollBarStyleOptions) {\r\n        this.redraw();\r\n    }\r\n    public redraw() {\r\n        this.rect.clear();\r\n        if(this.scrollBar.visibleLength >= this.scrollBar.maxLength) return;\r\n        const length = Math.ceil(this.scrollBar.visibleLength / (this.scrollBar.maxLength / this.scrollBar.visibleLength));\r\n        this.rect.beginFill('color' in this.styleObj ? this.styleObj.color : 0x000000);\r\n        this.rect.drawRect(0, 0, this.scrollBar.width, length);\r\n        this.rect.endFill();\r\n    }\r\n}","import TextField from './Components/TextInput/TextField';\r\nexport { TextField };\r\n\r\nimport { PixiElement } from \"./Element\";\r\nexport { PixiElement };\r\n\r\nimport { ScrollList } from \"./Components/ScrollList/ScrollList\";\r\nexport { ScrollList };\r\n\r\nimport { ScrollBar } from \"./Components/ScrollList/ScrollBar\";\r\nexport { ScrollBar }\r\n\r\nimport { Toggle } from './Components/Toggle';\r\nexport { Toggle };\r\n\r\nimport { Button } from './Components/Button';\r\nexport { Button };\r\n\r\nimport { string2hex } from \"./utils\";\r\n\r\nif(PIXI !== undefined) {\r\n    PIXI['Toggle'] = PIXI['Toggle'] || Toggle;\r\n    PIXI['TextField'] = PIXI['TextField'] || TextField;\r\n    PIXI['Element'] = PIXI['Element'] || PixiElement;\r\n    PIXI['ScrollBar'] = PIXI['ScrollBar'] || ScrollBar;\r\n    PIXI['ScrollList'] = PIXI['ScrollList'] || ScrollList;\r\n    PIXI['Button'] = PIXI['Button']|| Button;\r\n    if(PIXI.utils && !PIXI.utils['string2hex']) {\r\n        PIXI.utils['string2hex'] = string2hex;\r\n    }\r\n}\r\n\r\n","import { parseLengthMeasurements } from \"../../utils\";\r\nimport KeyboardHandlerMixin from \"../../mixins/KeyboardHandlers\";\r\nimport { ValidMeasurement } from \"../../types\";\r\n\r\nexport type StyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    cursorHeight: ValidMeasurement,\r\n    cursorWidth: number,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor: number,\r\n    highlightedFontColor: number,\r\n    cursorColor: number,\r\n    backgroundColor: number,\r\n    highlightedBackgroundColor: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n}\r\n\r\nexport type StyleOptionsParams = {\r\n    width?: number | string,\r\n    height?: number | string,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor?: number,\r\n    highlightedFontColor?: number,\r\n    cursorColor?: number,\r\n    cursorHeight?: number | string,\r\n    cursorWidth: number,\r\n    backgroundColor?: number,\r\n    highlightedBackgroundColor?: number,\r\n    borderOpacity?: number,\r\n    xPadding?: number,\r\n    yPadding?: number,\r\n}\r\n\r\nconst defaultStyleOptions = function() : StyleOptionsParams {\r\n    return {\r\n        width: '500px',\r\n        height: '16px',\r\n        fontColor: 0x000000,\r\n        highlightedFontColor: 0xffffff,\r\n        borderColor: 0x000000,\r\n        borderWidth: 1,\r\n        cursorColor: 0x000000,\r\n        cursorHeight: '90%',\r\n        cursorWidth: 1,\r\n        backgroundColor: 0xf7f7f7,\r\n        highlightedBackgroundColor: 0x000080, // navy blue\r\n        borderOpacity: 1,\r\n        xPadding: 0,\r\n        yPadding: 0,\r\n    }\r\n};\r\n\r\nconst lengthFieldsToValidate = [\"width\", \"height\", \"cursorHeight\"];\r\n\r\nclass TextField extends PIXI.Container {\r\n    private styleOptions: StyleOptions = {} as StyleOptions;\r\n    private cursorSprite: PIXI.Graphics = new PIXI.Graphics();\r\n    private textbox: PIXI.Graphics = new PIXI.Graphics();\r\n    private textboxMask: PIXI.Graphics = new PIXI.Graphics();\r\n\r\n    private textSprite: PIXI.extras.BitmapText;\r\n    private inFocus: boolean = false;\r\n\r\n    private cursorIndex: number = -1;\r\n    private clickedTimestamp: number;\r\n\r\n    private cursorAnimationFrame: any;\r\n    private lastCursorTs = Date.now();\r\n    private accCursorTime: number = 0;\r\n    private toggleCursorTime: number = 500;\r\n    private cursorIsVisible: boolean = true;\r\n\r\n    private _text: string = \"\";\r\n\r\n    private _visible: boolean = true;\r\n\r\n    private overflowOffsetX: number = 0;\r\n    private overflowOffsetY: number = 0;\r\n    private dragIndexStart: number = 0;\r\n    private dragIndexEnd: number = 0;\r\n    private inDrag: boolean = false;\r\n\r\n    public submitKeyCodes: Array<number> = [13];\r\n    public ignoreKeys: Array<number> = [];\r\n    public _maxCharacterLength: number = null;\r\n\r\n    private onFocusHandler: Function = () => {};\r\n    private onBlurHandler: Function = () => {};\r\n    private onChangeHandler: Function = () => {};\r\n    private onSubmitHandler: Function = () => {};\r\n    private onCharLimitHandler: Function = () => {};\r\n    constructor(font: string, styleOptions?: StyleOptionsParams, maxCharacterLength?, ignoreKeys?) {\r\n        super();\r\n        this.checkForOutsideClick = this.checkForOutsideClick.bind(this);\r\n\r\n        // override destroy method to call blur before destroy so we unregister document handlers if needed.\r\n        const oldDestroy = this.destroy.bind(this);\r\n        this['destroy'] = (options) => {\r\n           this.blur();\r\n           oldDestroy(options);\r\n        }\r\n\r\n        if(ignoreKeys) {\r\n            this.ignoreKeys = ignoreKeys;\r\n        }\r\n        const _defaultStyleOptions = { ...defaultStyleOptions() };\r\n        if(styleOptions) {\r\n            for(let key in styleOptions) {\r\n                _defaultStyleOptions[key] = styleOptions[key];\r\n            }\r\n        }\r\n        this.maxCharacterLength = maxCharacterLength;\r\n    \r\n        this.buttonMode = true;\r\n        this.interactive = true;\r\n\r\n        this.textSprite = new PIXI.extras.BitmapText('', { font, align: \"left\" });\r\n\r\n        this.cursor = \"text\";\r\n\r\n        this.on('pointerdown', this.handleMouseDown.bind(this));\r\n        //this.on('touchstart', this.handleMouseDown.bind(this));\r\n\r\n        this.on('pointerup', this.handleMouseUp.bind(this));\r\n    //    this.on('touchend', this.handleMouseUp.bind(this));\r\n\r\n        this.on('pointermove', this.handleMouseMove.bind(this));\r\n    //    this.on('touchmove', this.handleMouseMove.bind(this));\r\n        this.on('pointerupoutside', this.handleMouseUp.bind(this));\r\n\r\n        this.addChild(this.textboxMask);\r\n        this.addChild(this.textbox);\r\n        this.addChild(this.textSprite);\r\n        this.addChild(this.cursorSprite);\r\n\r\n        this.textSprite.mask = this.textboxMask;\r\n       // this.mask = this.textboxMask;\r\n\r\n        this.updateStyle(_defaultStyleOptions);\r\n\r\n        this.show();\r\n    }\r\n\r\n    public updateStyle(styleOptions: StyleOptionsParams) {\r\n        for(const key in styleOptions) {\r\n            if(lengthFieldsToValidate.includes(key)) {\r\n                const parsed = parseLengthMeasurements(styleOptions[key]);\r\n                if(parsed.error) {\r\n                    throw new Error(`Error for passed in style: ${key}, ${parsed.error}`)\r\n                } else {\r\n                    this.styleOptions[key] = parsed;\r\n                }\r\n            } else {\r\n                this.styleOptions[key] = styleOptions[key];\r\n            }\r\n        }\r\n        this.redraw();\r\n    }\r\n\r\n    private redraw() {\r\n        this.redrawText();\r\n        this.redrawTextbox();\r\n        this.redrawCursor();\r\n    }\r\n\r\n    private redrawCursor() {\r\n        if(!this.inFocus) {\r\n            this.cursorIsVisible = false;\r\n            this.cursorSprite.visible = false;\r\n            return;\r\n        }\r\n\r\n        const cursorX = this.getCursorXFromIndex(this.cursorIndex) - this.overflowOffsetX;\r\n        this.cursorSprite.clear();\r\n\r\n        this.cursorSprite.lineStyle(this.styleOptions.cursorWidth, this.styleOptions.cursorColor);\r\n\r\n        const { value, type } = this.styleOptions.cursorHeight;\r\n\r\n        const cursorHeight = type === \"pixel\" ? value : Math.round(this.textbox.height * (value/100));\r\n\r\n        const min = Math.min(this.textbox.height, cursorHeight);\r\n        const max = Math.max(this.textbox.height, cursorHeight);\r\n        const yOffset = (max - min) / 2; // centers cursor vertically\r\n        const bottomOffset = Math.floor(yOffset);\r\n        const topOffset = Math.ceil(yOffset);\r\n\r\n        this.cursorSprite.moveTo(cursorX, bottomOffset).lineTo(cursorX,  cursorHeight - topOffset);\r\n\r\n        // cursor is only visible if theres no range\r\n        if(this.getSelectedRange()) {\r\n            this.cursorIsVisible = false;\r\n            this.cursorSprite.visible = false;\r\n        } else {\r\n            this.cursorIsVisible = true;\r\n            this.cursorSprite.visible = true;\r\n        }\r\n    }\r\n\r\n    private redrawText() {\r\n        const range = this.getSelectedRange();\r\n        this.textSprite.y = this.styleOptions.yPadding;\r\n        this.textSprite.x = this.styleOptions.xPadding;\r\n\r\n        const currentCursorX = this.getCursorXFromIndex(this.dragIndexEnd);\r\n\r\n        const { value, type } = this.styleOptions.width;\r\n        const totalWidth = window.innerWidth;\r\n        const maxWidth = type === 'pixel' ? value : totalWidth * (value/100);\r\n\r\n        if(currentCursorX > maxWidth + this.overflowOffsetX) {\r\n            this.overflowOffsetX = currentCursorX - maxWidth;\r\n            this.textSprite.x -= this.overflowOffsetX;\r\n        } else if(currentCursorX > maxWidth) {\r\n            if(currentCursorX < maxWidth + this.overflowOffsetX) {\r\n\r\n                if(currentCursorX < this.overflowOffsetX) {\r\n                    this.overflowOffsetX -= (this.overflowOffsetX - currentCursorX);\r\n                }\r\n\r\n                this.textSprite.x -= this.overflowOffsetX;\r\n            } else {\r\n                this.textSprite.x -= this.overflowOffsetX;\r\n            }\r\n        } else {\r\n            this.overflowOffsetX = 0;\r\n        }\r\n\r\n        for(let i = 0; i < this.textSprite.children.length; i++) {\r\n            const child = this.textSprite.children[i] as PIXI.Sprite;\r\n\r\n            if(range) {\r\n                const { indexes } = range;\r\n                const { start, end } = indexes;\r\n                const withinRange = i >= start && i < end;\r\n                if(withinRange) {\r\n                    child.tint = this.styleOptions.highlightedFontColor;\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if(\"fontColor\" in this.styleOptions) {\r\n                child.tint = this.styleOptions.fontColor;\r\n            } else {\r\n                child.tint = 0xFFFFFF\r\n            }\r\n        }\r\n    }\r\n\r\n    private redrawTextbox() {\r\n        this.textbox.clear();\r\n        this.textbox.beginFill(this.styleOptions.backgroundColor, 1);\r\n        if(this.styleOptions.borderWidth > 0 && !Number.isNaN(this.styleOptions.borderWidth)) {\r\n            this.textbox.lineStyle(this.styleOptions.borderWidth, this.styleOptions.borderColor, this.styleOptions.borderOpacity)\r\n        }\r\n\r\n        let { value, type } = this.styleOptions.height;\r\n\r\n        const totalWidth = window.innerWidth;\r\n        const totalHeight = window.innerHeight;\r\n\r\n        const height = type === 'pixel' ? value : totalHeight * (value/100);\r\n        ({ value, type } = this.styleOptions.width);\r\n        const maxWidth = type === 'pixel' ? value : totalWidth * (value/100);\r\n\r\n        const range = this.getSelectedRange();\r\n\r\n        this.textbox.drawRect(0, 0, maxWidth, height);\r\n        this.textbox.endFill();\r\n\r\n        if(range) {\r\n            let start = range.x.start - this.overflowOffsetX;\r\n            const end = range.x.end - this.overflowOffsetX;\r\n            this.textbox.beginFill(this.styleOptions.highlightedBackgroundColor, 1);\r\n            let _width = end-start;\r\n\r\n            if(start + _width >= maxWidth) {\r\n                _width = maxWidth - start;\r\n            } else {\r\n                _width = end-start;\r\n            }\r\n\r\n            if(start + _width === maxWidth && _width > maxWidth) {\r\n                start = 0;\r\n                _width = maxWidth;\r\n            }\r\n        \r\n            this.textbox.drawRect(start, 0, _width, height);\r\n            this.textbox.endFill();\r\n        }\r\n\r\n        this.textboxMask.clear();\r\n        this.textboxMask.drawRect(0, 0, maxWidth, height);\r\n    }\r\n\r\n    private handleMouseUp(e){\r\n        const { x } = e.data.getLocalPosition(this);\r\n\r\n        if(this.inDrag) {\r\n            this.cursorIndex = this.getCursorIndexFromX(x);\r\n            this.handleRangeFinish();\r\n            // do multi text selext\r\n            //const clicked = this.indexFromPosition(e.position).left;\r\n            //this.multiSelect(this.dragIndexStart, this.indexFromPosition(e.position)\r\n        }\r\n    }\r\n\r\n    private handleMouseDown(e) {\r\n        this.clickedTimestamp = e.data.originalEvent.timeStamp;\r\n        const { x } = e.data.getLocalPosition(this);\r\n        if(!this.inFocus) {\r\n            this.focus();\r\n        }\r\n        this.clearRange();\r\n        this.cursorIndex = this.getCursorIndexFromX(x);\r\n        this.handleRangeStart(this.cursorIndex);\r\n        this.redraw();\r\n    }\r\n\r\n    private handleMouseMove(e) {\r\n        if(this.inDrag) {\r\n            const { x } = e.data.getLocalPosition(this);\r\n            this.handleRangeChange(this.getCursorIndexFromX(x));\r\n        }\r\n    }\r\n\r\n    private clearRange() {\r\n        this.dragIndexEnd = this.cursorIndex;\r\n        this.dragIndexStart = this.cursorIndex;\r\n    }\r\n\r\n    private handleRangeStart(startIndex) {\r\n        this.inDrag = true;\r\n        this.dragIndexStart = startIndex;\r\n        this.dragIndexEnd = startIndex;\r\n    }\r\n\r\n    private handleRangeChange(endIndex) {\r\n        if(endIndex !== this.dragIndexEnd) {\r\n            this.dragIndexEnd = endIndex;\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private handleRangeFinish() {\r\n        this.inDrag = false;\r\n    }\r\n\r\n    private getCursorXFromIndex(index) {\r\n        let leftChar;\r\n        // if theres no children in the text sprite that means our cursor should get x value for the beginning of the textfield\r\n        if(!this.textSprite.children || !this.textSprite.children.length || index <= 0) {\r\n            if(this.styleOptions.xPadding) {\r\n                return this.styleOptions.xPadding;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        if(index >= this.textSprite.children.length) {\r\n            leftChar = this.textSprite.children[this.textSprite.children.length - 1]\r\n        } else {\r\n            leftChar = this.textSprite.children[index - 1];\r\n        }\r\n        // get the position of character to left plus 1 pixel for padding\r\n        return leftChar.x + leftChar.width + 1 + this.styleOptions.xPadding;\r\n    }\r\n\r\n    private moveCursor(indexChange) {\r\n        const newCursorIndex = this.cursorIndex + indexChange;\r\n        if(newCursorIndex > -1 && newCursorIndex <= this.text.length) {\r\n            this.cursorIndex = newCursorIndex;\r\n            this.clearRange();\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private getCursorIndexFromX(x) : number {\r\n        x += this.overflowOffsetX;\r\n\r\n        if(x <= 0) {\r\n            return 0;\r\n        }\r\n\r\n        for(let i = 0; i < this.textSprite.children.length; i++) {\r\n            const charChild = this.textSprite.children[i] as any;\r\n            if(charChild.x + charChild.width > x) {\r\n                // click was on right side of character, current cursor index becomes i+1\r\n                if(charChild.x + (charChild.width / 2) < x) {\r\n                    return i+1;\r\n                } else {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return this.textSprite.children.length;\r\n    }\r\n\r\n    private getSelectedChars() {\r\n        const range = this.getSelectedRange();\r\n        if(!range) return \"\";\r\n\r\n         const { indexes } = range;\r\n         const { start, end } = indexes;\r\n         return this.text.substr(start, end - start);\r\n    }\r\n\r\n    private replaceSelectedWith(replaceWith) : string {\r\n        const replaceWithArray = replaceWith.split('');\r\n        \r\n        const replacedLength = replaceWithArray.length;\r\n\r\n        let oldTextValue = this.text;\r\n\r\n        const textArray = this.text.split('');\r\n        let start, end;\r\n        const range = this.getSelectedRangeIndexes();\r\n\r\n        if(range) {\r\n            ({ start, end } = range);\r\n        } else {\r\n            start = end = this.cursorIndex;\r\n        }\r\n        const deleteCount = end - start;\r\n\r\n        textArray.splice(start, deleteCount, ...replaceWithArray);\r\n        if(this.change(textArray.join(''))) {\r\n            this.cursorIndex = start + replacedLength;\r\n            this.clearRange();\r\n            this.redraw();\r\n            return this.text;\r\n        } else {\r\n            return this.text;\r\n        }\r\n    }\r\n\r\n    private getSelectedRangeIndexes() : {\r\n        start: number,\r\n        end: number\r\n    } {\r\n\r\n        const range = this.getSelectedRange();\r\n        if(!range) return null;\r\n\r\n        return { start: range.indexes.start, end: range.indexes.end };\r\n    }\r\n\r\n    private getSelectedRange() : {\r\n            indexes:\r\n                { start: number, end: number },\r\n            x:\r\n                { start: number, end: number }\r\n        } {\r\n\r\n\r\n        const start = Math.min(this.dragIndexStart, this.dragIndexEnd);\r\n        const end = Math.max(this.dragIndexStart, this.dragIndexEnd);\r\n\r\n        if(start === end) return null;\r\n\r\n        const startX = this.getCursorXFromIndex(start);\r\n        const endX = this.getCursorXFromIndex(end);\r\n\r\n        return {\r\n            indexes: { start, end },\r\n            x: { start: startX, end: endX }\r\n        }\r\n    }\r\n\r\n    public selectAll() {\r\n        this.setSelectedRange(0, this.text.length);\r\n    }\r\n    private setSelectedRange(start, end) {\r\n        this.dragIndexStart = start;\r\n        this.dragIndexEnd = end;\r\n        this.cursorIndex = end;\r\n        this.redraw();\r\n    }\r\n\r\n    private charFromPosition(position) : { left?: string, right?: string } {\r\n        return { left: null, right: null };\r\n    }\r\n\r\n    private removeLeftOfCursor() {\r\n        if(this.cursorIndex > 0) {\r\n            const array = this.text.split('');\r\n            array.splice(this.cursorIndex - 1, 1);\r\n            this.cursorIndex--;\r\n            this.change(array.join(''));\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private removeRightOfCursor() {\r\n        const array = this.text.split('');\r\n        if(array.length && this.cursorIndex < array.length) {\r\n            array.splice(this.cursorIndex, 1);\r\n            this.change(array.join(''));\r\n            this.redraw();\r\n        }\r\n    }\r\n    public onCharLimit(handler) {\r\n        this.onCharLimitHandler = handler;\r\n    }\r\n    public onChange(handler) {\r\n        this.onChangeHandler = handler;\r\n    }\r\n    public onFocus(handler) {\r\n        this.onFocusHandler = handler;\r\n    }\r\n    public onBlur(handler) {\r\n        this.onBlurHandler = handler;\r\n    }\r\n    public onSubmit(handler) {\r\n        this.onSubmitHandler = handler;\r\n    }\r\n\r\n    public clear() {\r\n        this.text = \"\";\r\n        this.cursorIndex = 0;\r\n        this.clearRange();\r\n        this.redraw();\r\n    }\r\n\r\n    public submit() {\r\n        this.onSubmitHandler(this.text);\r\n    }\r\n\r\n    public focus() {\r\n        if(!this.inFocus) {\r\n            document.addEventListener('mousedown', this.checkForOutsideClick);\r\n            this.inFocus = true;\r\n            this.startCursorAnimation();\r\n            this.emit('focus');\r\n            this.onFocusHandler();\r\n        }\r\n    }\r\n\r\n    public blur() {\r\n        if(this.inFocus) {\r\n            document.removeEventListener('mousedown', this.checkForOutsideClick);\r\n            this.inFocus = false;\r\n            this.stopCursorAnimation();\r\n            this.clearRange();\r\n            this.redraw();\r\n            this.emit('blur');\r\n            this.onBlurHandler();\r\n        }\r\n    }\r\n\r\n    set maxCharacterLength(value: number) {\r\n        if(!isNaN(value)) {\r\n            if(value === null || value < 0) {\r\n                this._maxCharacterLength = null;\r\n            } else {\r\n                this._maxCharacterLength = value;\r\n            }\r\n        } else {\r\n            this._maxCharacterLength = null;\r\n        }\r\n    }\r\n\r\n    public change(value) : boolean {\r\n        if(value !== this.text) {\r\n            if(this._maxCharacterLength !== null && value.length > this._maxCharacterLength) {\r\n                this.onCharLimitHandler(value);\r\n                return false;\r\n            } else {\r\n                this._text = value;\r\n                this.textSprite.text = value;\r\n                if(this._text === \"\" && this.textSprite.children) {\r\n                    this.textSprite.children.forEach(child => {\r\n                        this.textSprite.removeChild(child);\r\n                    })\r\n                }\r\n                this.textSprite.updateTransform();\r\n                this.emit('change', value);\r\n                this.onChangeHandler(value);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private startCursorAnimation() {\r\n        if(this.cursorAnimationFrame) {\r\n            this.stopCursorAnimation();\r\n        }\r\n        this.blinkCursor();\r\n    }\r\n\r\n    private stopCursorAnimation() {\r\n        this.cursorSprite.visible = false;\r\n        if(this.cursorAnimationFrame) {\r\n            clearTimeout(this.cursorAnimationFrame);\r\n            this.cursorAnimationFrame = null;\r\n            this.accCursorTime = 0;\r\n        }\r\n    }\r\n\r\n    private blinkCursor() {\r\n        if(this.cursorIsVisible) {\r\n            this.cursorSprite.visible = !this.cursorSprite.visible;\r\n        }\r\n        this.cursorAnimationFrame = setTimeout(this.blinkCursor.bind(this), this.toggleCursorTime);\r\n    }\r\n\r\n    private checkForOutsideClick(e) {\r\n        if(e.timeStamp !== this.clickedTimestamp) {\r\n            this.blur();\r\n        }\r\n    }\r\n\r\n    get text() {\r\n        if(this.textSprite.text === \" \" && this._text !== \" \") {\r\n            return \"\";\r\n        }\r\n        return this.textSprite.text;\r\n    }\r\n\r\n    set text(value) {\r\n        this.change(value);\r\n    }\r\n\r\n    set visible(value) {\r\n        super.visible = value;\r\n        this._visible = value;\r\n        if(value) {\r\n            this.startCursorAnimation();\r\n        } else {\r\n            this.stopCursorAnimation();\r\n        }\r\n    }\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    public show() {\r\n        this.visible = true;\r\n    }\r\n\r\n    public hide() {\r\n        this.visible = false;\r\n    }\r\n}\r\n\r\nexport default KeyboardHandlerMixin(TextField);","type Constructor<T = any> = new (...args: any[]) => T;\r\n\r\nexport default function <TBase extends Constructor>(Base: TBase){\r\n    return class KeyboardHandledInput extends Base {\r\n\r\n        public copiedText: string = '';\r\n        public textStates: Array<string> = [];\r\n        public currentStateIndex: number = -1;\r\n        private stateInterval: any;\r\n\r\n        constructor(...args: any[]) {\r\n            super(...args);\r\n            this.registerHandlers = this.registerHandlers.bind(this);\r\n            this.unregisterHandlers = this.unregisterHandlers.bind(this);\r\n            this.onCopy = this.onCopy.bind(this);\r\n            this.onPaste = this.onPaste.bind(this);\r\n            this.onCut = this.onCut.bind(this);\r\n            this.onKeyPress = this.onKeyPress.bind(this);\r\n            this.onKeyDown = this.onKeyDown.bind(this);\r\n\r\n            super.on('focus', this.registerHandlers);\r\n            super.on('blur', this.unregisterHandlers);\r\n\r\n            this.stateInterval = null;\r\n        }\r\n\r\n        public changeStateIndex(change) {\r\n            const newIndex = this.currentStateIndex = change;\r\n            if(this.textStates[newIndex]) {\r\n                super.change(this.textStates[newIndex]);\r\n                this.currentStateIndex = change;\r\n            }\r\n        }\r\n\r\n        public registerHandlers() {\r\n            document.addEventListener(\"copy\", this.onCopy);\r\n            document.addEventListener(\"cut\", this.onCut);\r\n            document.addEventListener(\"paste\", this.onPaste);\r\n            document.addEventListener(\"keypress\", this.onKeyPress);\r\n            document.addEventListener(\"keydown\", this.onKeyDown);\r\n        }\r\n        public unregisterHandlers() {\r\n            document.removeEventListener(\"copy\", this.onCopy);\r\n            document.removeEventListener(\"cut\", this.onCut);\r\n            document.removeEventListener(\"paste\", this.onPaste);\r\n            document.removeEventListener(\"keypress\", this.onKeyPress);\r\n            document.removeEventListener(\"keydown\", this.onKeyDown);\r\n        }\r\n\r\n        public onPaste(event) {\r\n            const pastedText = event.clipboardData ? event.clipboardData.getData('text/plain') : this.copiedText;\r\n            const newText = super.replaceSelectedWith(pastedText);\r\n            if(newText !== null) {\r\n                this.addState(newText);\r\n            }\r\n        }\r\n\r\n        public onCopy(event) {\r\n            event.preventDefault();\r\n            const selected = super.getSelectedChars();\r\n            if(event.clipboardData) {\r\n                event.clipboardData.setData('text/plain', selected)\r\n            }\r\n            this.copiedText = selected;\r\n        }\r\n\r\n        public onCut(event){\r\n            event.preventDefault();\r\n            const selected = super.getSelectedChars();\r\n            if(event.clipboardData) {\r\n                event.clipboardData.setData('text/plain', selected);\r\n            }\r\n            this.copiedText = selected;\r\n            const newText = super.replaceSelectedWith(\"\");\r\n            if(newText !== null) {\r\n                this.addState(newText);\r\n            }\r\n        };\r\n\r\n        public onBackspace(){};\r\n        public onDelete(){};\r\n\r\n        public onKeyDown(event) {\r\n            const code = event.keyCode ? event.keyCode : event.code;\r\n            if(this.submitKeyCodes.includes(code)) {\r\n                super.submit();\r\n            } else if (code == 37) { // left\r\n                super.moveCursor(-1)\r\n            } else if (code == 39) { // right\r\n                super.moveCursor(1)\r\n            } else if(code == 8) { // backspace\r\n                if(super.getSelectedRange()) {\r\n                    super.replaceSelectedWith(\"\");\r\n                } else {\r\n                    super.removeLeftOfCursor();\r\n                }\r\n            } else if (code == 46) { //delete\r\n                if(super.getSelectedRange()) {\r\n                    super.replaceSelectedWith(\"\");\r\n                } else {\r\n                    super.removeRightOfCursor();\r\n                }\r\n            } else if(event.ctrlKey) {\r\n                if(code == 90) { // z\r\n                    const indexChange = event.shiftKey ? 1 : -1; // if shift is pressed we want to do redo behavior\r\n                    this.changeStateIndex(indexChange);\r\n                } else if(code == 65) { // a\r\n                    event.preventDefault();\r\n                    super.selectAll();\r\n                }\r\n            }\r\n        }\r\n\r\n        public onKeyPress(event) {\r\n            const code = event.keyCode ? event.keyCode : event.which;\r\n            if(this.submitKeyCodes.includes(code) || this.ignoreKeys.includes(code)) {\r\n                return;\r\n            }\r\n            const char = String.fromCharCode(code);\r\n            if(char) {\r\n                if(!event.ctrlKey) {\r\n                    event.preventDefault();\r\n                    super.replaceSelectedWith(char);\r\n                }\r\n            }\r\n        }\r\n\r\n        public addState(newText) {\r\n            this.textStates.push(newText);\r\n            this.currentStateIndex = this.textStates.length - 1;\r\n        }\r\n    }\r\n}\r\n","import {clamp, parseLengthMeasurements} from \"../../utils\";\r\nexport type ScrollItemOptions = {\r\n    container: PIXI.Container,\r\n    onClick?: Function,\r\n}\r\n\r\nconst tweenFunctions = require('tween-functions');\r\n\r\nimport { PixiElement } from \"../../Element\";\r\nimport { ValidMeasurement } from \"../../types\";\r\n\r\nimport {ScrollBar, ScrollBarStyleOptions} from './ScrollBar';\r\nimport {DestroyOptions} from \"pixi.js\";\r\n\r\nexport type ScrollStyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    backgroundColor: number,\r\n    dividerColor: number,\r\n    dividerPixelHeight: number,\r\n    dividerPercentWidth: number,\r\n    dividerTopPadding: number,\r\n    dividerBottomPadding: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n    scrollBarOptions?: ScrollBarStyleOptions,\r\n}\r\n\r\nexport type ScrolllPerformanceOptions = {\r\n    disableScrollWheelScroll: boolean;\r\n    disableTouchScroll : boolean;\r\n    visibilityBuffer: number;\r\n    adjustVisibilityTime: number;\r\n}\r\nconst defaultPerformanceOptions = {\r\n    disableTouchScroll: false,\r\n    disableScrollWheelScroll: false,\r\n    visibilityBuffer: 200,\r\n    adjustVisibilityTime: 130,\r\n}\r\n\r\nexport class ScrollList extends PIXI.Container {\r\n    private scrollStyleOptions: ScrollStyleOptions;\r\n    private scrollItemsById: any = {};\r\n    private options: Array<PIXI.Container> = [];\r\n    private po: PixiElement = new PixiElement();\r\n\r\n    private scrollBar: ScrollBar;\r\n    private scrollbarScroll: PIXI.Graphics;\r\n    private scrollRect: PixiElement = new PixiElement();\r\n    private scrollDuration: number = 0;\r\n\r\n    private scrollMask: PIXI.Graphics;\r\n\r\n    private _currentScroll: number = 0;\r\n    private lastScroll: number = 0;\r\n    private __width: number;\r\n    private __height: number;\r\n\r\n    private pointerdownStart: number = 0;\r\n    private startingVisibleChildIndex: number = 0;\r\n    private endingVisibleChildIndex: number = 0;\r\n\r\n    private scrollCurrentDur: number = 0;\r\n    private currentAdjustVisibilityDelta: number = 0;\r\n    private animationFrame: any = null;\r\n    private nextItemY: number = 0;\r\n    private scrollToDest: number = 0;\r\n    private listContainer: PixiElement = new PixiElement();\r\n    private listRect: PIXI.Graphics = new PIXI.Graphics();\r\n    private scrollLength: number = 0;\r\n    private adjustedIndex: number = 0;\r\n    maxHeight: number = 0;\r\n    private lastOverOption: PIXI.Container = null;\r\n    private lastDownOption: PIXI.Container = null;\r\n    public freezeScroll: boolean = false;\r\n    private tweenFunc: Function;\r\n    private _needsUpdateScoller : boolean = true;\r\n    private _registeredScrollEvent : boolean = false;\r\n\r\n    readonly performanceOptions: ScrolllPerformanceOptions;\r\n    constructor(scrollStyleOptions: ScrollStyleOptions, scrollItemOptions: Array<ScrollItemOptions>, scrollPerformanceOptions?: ScrolllPerformanceOptions) {\r\n        super();\r\n        this.handleScrollWheelScroll = this.handleScrollWheelScroll.bind(this);\r\n\r\n        this.interactive = true;\r\n        this.interactiveChildren = true;\r\n        this.__width = parseLengthMeasurements(scrollStyleOptions.width).value;\r\n        this.__height = parseLengthMeasurements(scrollStyleOptions.height).value;\r\n\r\n        this.performanceOptions = scrollPerformanceOptions ? scrollPerformanceOptions : { ...defaultPerformanceOptions };\r\n        if(scrollPerformanceOptions) {\r\n            for(let key in defaultPerformanceOptions) {\r\n                if(!scrollPerformanceOptions.hasOwnProperty(key)) {\r\n                    this.performanceOptions[key] = defaultPerformanceOptions[key];\r\n                }\r\n            }\r\n        }\r\n        this.scrollbarScroll = new PIXI.Graphics();\r\n        this.scrollStyleOptions = scrollStyleOptions;\r\n        this.scrollLength = 0;\r\n        this.scrollMask = new PIXI.Graphics();\r\n        this.scrollMask.beginFill(0xFFFFFF);\r\n        this.scrollMask.drawRect(0, 0, this.__width, this.__height);\r\n        this.scrollMask.endFill();\r\n\r\n        this.listRect.beginFill(0xFFFFFF, 0);\r\n        this.listRect.drawRect(0, 0, this.__width, this.__height);\r\n        this.listRect.endFill();\r\n        this.scrollRect.addChild(this.listRect);\r\n\r\n     //   this.scrollMask.hitArea = new PIXI.Rectangle(0, 0, this.__width, this.__height);\r\n\r\n        this.addChild(this.scrollMask);\r\n        this.addChild(this.po);\r\n        this.po.interactive = true;\r\n        this.po.mask = this.scrollMask;\r\n\r\n     //   this.addChild(this.scrollRect);\r\n\r\n        let lastScrollY;\r\n        let heldTimeout = null;\r\n\r\n        if(!this.performanceOptions.disableScrollWheelScroll) {\r\n            this.registerScrollEvents();\r\n        }\r\n\r\n     //   this.initializeEventPropogation();\r\n        if(!this.performanceOptions.disableTouchScroll) {\r\n            this.scrollRect.onSwipe(this.applySwipe.bind(this));\r\n\r\n            this.on('pointerdown', (event) => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.performanceOptions.disableTouchScroll) return;\r\n                if(this.animationFrame !== null) {\r\n                    cancelAnimationFrame(this.animationFrame);\r\n                    if(!this.po.inDrag) {\r\n                        this.po.emit('dragstart', event);\r\n                    }\r\n                    this.animationFrame = null;\r\n                }\r\n            });\r\n            this.on('pointerup', () => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.performanceOptions.disableTouchScroll) return;\r\n                if(heldTimeout) {\r\n                    clearTimeout(heldTimeout);\r\n                    heldTimeout = null;\r\n                }\r\n            });\r\n\r\n            this.po.onSwipe(this.applySwipe.bind(this));\r\n            this.po.onDragStart(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.freezeScroll) return;\r\n                this.tweenFunc = tweenFunctions.easeOutElastic;\r\n                this.scrollLength = 0;\r\n                this.scrollCurrentDur = 0;\r\n                this.scrollDuration = 0;\r\n                this.currentAdjustVisibilityDelta = 0;\r\n                lastScrollY = event.data.global.y;\r\n            });\r\n            this.po.onDragMove(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.freezeScroll) return;\r\n                const diff =  event.data.global.y - lastScrollY;\r\n                lastScrollY = event.data.global.y;\r\n                this.applyDrag(diff);\r\n            });\r\n            this.po.onDragEnd(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                this.adjustVisibility(null, true);\r\n            });\r\n        }\r\n        if(scrollStyleOptions.scrollBarOptions) {\r\n            this.scrollBar = new ScrollBar(this, scrollStyleOptions.scrollBarOptions);\r\n            this.addChild(this.scrollBar);\r\n            this.scrollBar.on('scrolled', (percent) => {\r\n                this._needsUpdateScoller = false;\r\n                this.setScrollPercent(percent);\r\n                this._needsUpdateScoller = true;\r\n            });\r\n        }\r\n\r\n       // this.po.mask = this.scrollMask;\r\n        this.redraw();\r\n    }\r\n\r\n    private handleScrollWheelScroll(event : WheelEvent) {\r\n        this.currentScroll += event.deltaY;\r\n        this.adjustVisibility(null, true);\r\n    }\r\n\r\n    public destroy(options?: DestroyOptions | boolean) {\r\n        if(this._registeredScrollEvent) {\r\n            document.removeEventListener('wheel', this.handleScrollWheelScroll);\r\n            this._registeredScrollEvent = false;\r\n        }\r\n        super.destroy(options)\r\n    }\r\n\r\n    get utilizedLength() : number {\r\n        return this.maxHeight - this.__height;\r\n    }\r\n\r\n    get scrollPercent() : number {\r\n        return this.currentScroll / this.utilizedLength\r\n    }\r\n\r\n    private registerScrollEvents() {\r\n        this.once('pointerover', () => {\r\n            this._registeredScrollEvent = true;\r\n            document.addEventListener('wheel', this.handleScrollWheelScroll);\r\n            this.once('pointerout', () => {\r\n                document.removeEventListener('wheel', this.handleScrollWheelScroll);\r\n                this._registeredScrollEvent = false;\r\n                this.registerScrollEvents();\r\n            })\r\n        })\r\n    }\r\n\r\n    public setScrollPercent(n : number) {\r\n        n = clamp(n, 0, 1);\r\n        const prev = this.currentScroll;\r\n        this.currentScroll = this.utilizedLength * n;\r\n        if(prev !== this.currentScroll) {\r\n            this.adjustVisibility(null, true);\r\n        }\r\n    }\r\n\r\n    private findVisible() {\r\n\r\n    }\r\n\r\n    public freeze() {\r\n        this.toggleFreezeScroll(true)\r\n    }\r\n    public unfreeze() {\r\n        this.toggleFreezeScroll(false);\r\n    }\r\n    public toggleFreezeScroll(freeze: boolean) {\r\n        this.freezeScroll = freeze;\r\n    }\r\n\r\n    private _containsPoint(container: PIXI.Container, p) {\r\n        p = this.toLocal(p);\r\n        const ix = 0;\r\n        const ax = this.__width;\r\n        const iy = container.y - this.currentScroll;\r\n        const ay = iy + container.height;\r\n\r\n        return (ix <= p.x && p.x <= ax && iy <= p.y && p.y <= ay)\r\n    }\r\n\r\n    public resize(w, h) {\r\n        this.__width = w;\r\n        this.__height = h;\r\n        this.scrollMask.clear();\r\n        this.scrollMask\r\n            .beginFill(0xFFFFFF)\r\n            .drawRect(0, 0, this.__width, this.__height)\r\n            .endFill();\r\n\r\n        this.listRect.clear();\r\n        this.listRect\r\n            .beginFill(this.scrollStyleOptions.backgroundColor)\r\n            .drawRect(0, 0, this.__width, this.__height)\r\n            .endFill();\r\n\r\n        this.adjustVisibility(null, true);\r\n        this.scrollBar && this.scrollBar.redraw();\r\n    }\r\n\r\n    private redraw() {\r\n        this.adjustOptions();\r\n        if(this.scrollBar) {\r\n            this.scrollBar.redraw();\r\n            this.scrollBar.x = this.po.width;\r\n        }\r\n    }\r\n\r\n\r\n    private repositionOptions() {\r\n        let y = 0;\r\n        for(let i = 0; i < this.options.length; i++) {\r\n            this.options[i].y = y;\r\n            y += this.options[i].height\r\n        }\r\n    }\r\n\r\n    private adjustVisibility(delta, force=false) {\r\n        if(force) {\r\n            this.currentAdjustVisibilityDelta = 0;\r\n        } else {\r\n            this.currentAdjustVisibilityDelta += delta;\r\n            if(!force && this.currentAdjustVisibilityDelta >= this.performanceOptions.adjustVisibilityTime) {\r\n                this.currentAdjustVisibilityDelta = 0;\r\n                return;\r\n            }\r\n        }\r\n        let setFirstVisible = false;\r\n        for(let i = 0; i < this.options.length; i++) {\r\n            const option = this.options[i];\r\n            const canSeeFromTop = option.y + option.height + this.performanceOptions.visibilityBuffer >= this.currentScroll;\r\n            const canSeeFromBottom = this.__height + this.currentScroll >= option.y - this.performanceOptions.visibilityBuffer;\r\n            const wasVisible = option.visible;\r\n            option.visible = canSeeFromBottom && canSeeFromTop;\r\n            if(option.visible && !setFirstVisible) {\r\n                this.startingVisibleChildIndex = i;\r\n                setFirstVisible = true;\r\n            }\r\n            if(!option.visible && setFirstVisible) {\r\n                this.endingVisibleChildIndex = Math.min(i + 1, this.options.length - 1);\r\n            }\r\n\r\n            if(wasVisible !== option.visible) {\r\n                if(wasVisible) {\r\n                    option.emit('hide');\r\n                } else {\r\n                    option.emit('show');\r\n                }\r\n                if(option['just_added']) {\r\n                    delete option['just_added'];\r\n                }\r\n            } else if (option['just_added']) {\r\n                if(option.visible) {\r\n                    option.emit('show');\r\n                } else {\r\n                    option.emit('hide');\r\n                }\r\n                delete option['just_added'];\r\n            }\r\n\r\n            if(!option.visible && !wasVisible && setFirstVisible) {\r\n                // dont need to check any more\r\n               // console.log('adjust visibility took', Date.now() - start);\r\n                return;\r\n            }\r\n        }\r\n        // if it gets here it didnt run into an ending visible which means the last item is visible.\r\n        this.endingVisibleChildIndex = this.options.length - 1;\r\n    //    console.log('adjust visibility took', Date.now() - start);\r\n    }\r\n\r\n    private adjustOptions() {\r\n      //  console.log('adjust options', this.currentScroll);\r\n        if(this.po && this.po.parent === this) {\r\n            this.po.y = -this.currentScroll;\r\n            this.adjustedIndex++;\r\n        }\r\n    }\r\n\r\n    private animateScroll(ts: number) {\r\n        const now = Date.now();\r\n        const delta = now - ts;\r\n        this.currentAdjustVisibilityDelta += delta;\r\n        this.scrollCurrentDur += delta;\r\n\r\n        if(this.scrollCurrentDur >= this.scrollDuration) {\r\n            this.animationFrame = null;\r\n            this.currentScroll = this.scrollToDest;\r\n            this.currentAdjustVisibilityDelta = 0;\r\n            this.adjustVisibility(null, true);\r\n            return null;\r\n        }\r\n        this.currentScroll = this.tweenFunc(this.scrollCurrentDur, this.lastScroll, this.scrollToDest, this.scrollDuration);\r\n\r\n        this.adjustVisibility(delta);\r\n\r\n        return requestAnimationFrame(() => {\r\n            if(this.animationFrame !== null) {\r\n                this.animationFrame = this.animateScroll(now);\r\n            }\r\n        });\r\n    }\r\n\r\n    private applyDrag(difference) {\r\n        if(this.animationFrame) return;\r\n\r\n        // scroll height is less than total height.. no need to scroll anything.\r\n        if(this.maxHeight <= this.__height) {\r\n            return;\r\n        }\r\n        if(difference > 0 && this._currentScroll === 0) {\r\n            this.adjustVisibility(null, true);\r\n            return;\r\n        } else if (difference < 0 && this._currentScroll === this.maxHeight - this.__height) {\r\n            this.adjustVisibility(null, true);\r\n            return;\r\n        }\r\n\r\n        this.lastScroll = this._currentScroll;\r\n        this.scrollLength += difference;\r\n\r\n        this.scrollToDest = this.scrollLength >= 0 ?\r\n            Math.min(this.maxHeight - this.__height, this._currentScroll - difference) :\r\n            Math.max(0, this._currentScroll - difference);\r\n\r\n        this.scrollDuration += Math.abs(difference);\r\n        const distanceToTraverse = Math.abs(this._currentScroll - this.scrollToDest);\r\n        const maxTime = distanceToTraverse > 1000 ? 4000 : distanceToTraverse > 700 ? 3000 : distanceToTraverse > 500  ? 2000 : distanceToTraverse > 200 ? 1000 : 400;\r\n\r\n        this.scrollDuration = Math.min(this.scrollDuration, maxTime);\r\n        this.animationFrame = this.animateScroll(Date.now());\r\n    }\r\n\r\n    private applySwipe(power) {\r\n        if(Math.abs(power) < 1) return;\r\n\r\n        if(this.animationFrame) {\r\n            cancelAnimationFrame(this.animationFrame);\r\n            this.animationFrame = null;\r\n        }\r\n\r\n        this.tweenFunc = tweenFunctions.easeOutCubic;\r\n        this.lastScroll = this._currentScroll;\r\n        this.scrollCurrentDur = 0;\r\n        const absPower = Math.abs(power);\r\n        const multiplier = absPower < 10 ? 25 : absPower < 25 ? 30 : absPower < 30 ? 35 : absPower < 35 ? 55 : absPower < 40 ? 60 : absPower < 60 ? 65 : 80;\r\n        const diff = power * multiplier;\r\n        // scroll height is less than total height.. no need to scroll anything.\r\n        if(this.maxHeight <= this.__height) {\r\n            return;\r\n        }\r\n\r\n        this.scrollToDest = power >= 0 ?\r\n            Math.min( this.maxHeight - this.__height, this._currentScroll + diff) :\r\n            Math.max(0, this._currentScroll + diff);\r\n\r\n     //   if(this.scrollToDest === this.maxHeight - this.__height || this.scrollToDest === 0) {}\r\n\r\n        const distanceToTraverse = Math.abs(this._currentScroll - this.scrollToDest);\r\n        let maxTime;\r\n        if(this.scrollToDest === 0 || this.scrollToDest === this.maxHeight - this.__height + 0) {\r\n            maxTime = distanceToTraverse > 1000 ? 1000 : distanceToTraverse > 500 ? 500 : 200;\r\n        } else {\r\n            maxTime = distanceToTraverse > 2700 ? 4000 : distanceToTraverse > 2300 ? 3500 : distanceToTraverse > 1500 ? 3000 : distanceToTraverse > 1000 ? 2700 : distanceToTraverse > 700 ? 2300 : distanceToTraverse > 500 ? 2000 : distanceToTraverse > 300 ? 1500 : distanceToTraverse > 100 ? 1000 : 700;\r\n        }\r\n        this.scrollDuration = Math.min(maxTime);\r\n        this.animationFrame = this.animateScroll(Date.now());\r\n    }\r\n\r\n    set currentScroll(value) {\r\n        if(value < 0) {\r\n            value = 0;\r\n        } else if (value > this.maxHeight - this.__height) {\r\n            value = this.maxHeight - this.__height\r\n        }\r\n        this._currentScroll = value;\r\n        if (this.scrollBar && this._needsUpdateScoller) {\r\n            this.scrollBar.setScrollPercent(this.scrollPercent);\r\n        }\r\n        this.adjustOptions();\r\n    }\r\n\r\n    get currentScroll() {\r\n        return this._currentScroll;\r\n    }\r\n\r\n    public addScrollItems(containers: Array<PIXI.Container>) {\r\n        containers.forEach(c => {\r\n            c['just_added'] = true;\r\n            c.visible = true;\r\n            this.po.addChild(c);\r\n            if(c.interactive) {\r\n                c.hitArea = new PIXI.Rectangle(0, 0, c.width, c.height);\r\n            }\r\n            this.options.push(c);\r\n        });\r\n        this.recalculateHeight();\r\n        this.repositionOptions();\r\n        this.adjustVisibility(null, true);\r\n        this.redraw();\r\n    }\r\n    public addScrollItem(container: PIXI.Container) {\r\n        this.addScrollItems([container])\r\n    }\r\n\r\n    private recalculateHeight() {\r\n        let height = 0;\r\n        this.options.forEach(c => {\r\n            height += c.height;\r\n        });\r\n        this.maxHeight = height;\r\n    }\r\n\r\n    public spliceScrollItems(fromIndex, toIndex?, destroyItem=true) {\r\n        toIndex = toIndex >= 0 ? toIndex : this.options.length;\r\n        const indexArray = [];\r\n        for(let i = fromIndex; i < toIndex; i++) {\r\n            indexArray.push(i);\r\n        }\r\n        this.removeScrollItems(indexArray, destroyItem);\r\n    }\r\n\r\n    public removeScrollItems(indexOrContainer, destroyItem=true) {\r\n        if(!(Array.isArray(indexOrContainer))) {\r\n            indexOrContainer = [indexOrContainer]\r\n        }\r\n\r\n        const indexesToRemove = [];\r\n        indexOrContainer.forEach(i => {\r\n            let container;\r\n            if (!isNaN(i)) {\r\n                container = this.options[i];\r\n            } else {\r\n                container = indexOrContainer;\r\n            }\r\n            const foundOption = this.options.find(o => o === container);\r\n            if (foundOption) {\r\n                indexesToRemove.push(this.options.indexOf(foundOption));\r\n\r\n                if(foundOption && foundOption.parent === this.po) {\r\n                    this.po.removeChild(foundOption);\r\n                }\r\n                if(destroyItem) {\r\n                    foundOption.destroy({ children: true })\r\n                }\r\n            }\r\n        });\r\n        if(indexesToRemove.length) {\r\n            this.options = this.options.filter((o, i) => {\r\n                return !(indexesToRemove.includes(i));\r\n            });\r\n\r\n            if(this._currentScroll > this.maxHeight - this.__height) {\r\n                this.currentScroll = this.maxHeight - this.__height;\r\n            }\r\n            this.recalculateHeight();\r\n            this.repositionOptions();\r\n            this.adjustVisibility(null, true);\r\n            this.redraw();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    private findOptionAtPoint(p) : PIXI.Container {\r\n        for(let i = this.startingVisibleChildIndex; i <= this.endingVisibleChildIndex; i++) {\r\n            const opt : PIXI.Container = this.options[i];\r\n            if(opt.visible && this._containsPoint(opt, p)) {\r\n                return opt;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    private recurseChildren(el, point, foundChildren) {\r\n        if(el.interactive || el.interactiveChildren) {\r\n            if(this._containsPoint(el, point)) {\r\n                if(el.interactive) {\r\n                    foundChildren.push(el);\r\n                }\r\n                if(el.interactiveChildren && el.children) {\r\n                    el.children.forEach(child => {\r\n                        this.recurseChildren(child, point, foundChildren);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return foundChildren;\r\n    }\r\n}\r\n","'use strict';\n\n// t: current time, b: beginning value, _c: final value, d: total duration\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * t / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    } else {\n      return -c / 2 * ((--t) * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t + b;\n    } else {\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n","import color = Mocha.reporters.Base.color;\r\nimport { string2hex } from \"../utils\";\r\n\r\nconst ColorTween = require('gotti-color-tween/dist/color-tween.js');\r\nconst circlePadding = 2;\r\n\r\nimport { ToggleOptions, AnimationType, OutlineOptions, LabelOptions, AnimationOptions, ToggleAnimationExclusions } from \"../types\";\r\n\r\nexport class Toggle extends PIXI.Container {\r\n    private _toggled: boolean = true;\r\n    private backgroundGraphic: PIXI.Graphics;\r\n    private circleGraphic: PIXI.Graphics;\r\n    private options: ToggleOptions;\r\n    private circleRadius: number;\r\n    private computedBorderRadius: number;\r\n\r\n    private onText: PIXI.extras.BitmapText;\r\n    private offText: PIXI.extras.BitmapText;\r\n    private usingLabels: boolean = false;\r\n    private updateToggle: Function;\r\n\r\n    private _activeBackgroundColor;\r\n    private _inactiveBackgroundColor;\r\n    private _activeCircleColor;\r\n    private _inactiveCircleColor;\r\n    private _travelToX;\r\n\r\n    private tween: any;\r\n\r\n    private backgroundColorsArrayIndex: number = null;\r\n    private circleColorsArrayIndex: number = null;\r\n\r\n    private toggleCircleTravelDistance: number = 0;\r\n\r\n    constructor(options: ToggleOptions, isToggled?: boolean) {\r\n        super();\r\n        this.options = options;\r\n        this.backgroundGraphic = new PIXI.Graphics();\r\n        const borderRadius = options.borderRadius ? options.borderRadius : 50;\r\n        options.borderRadius = borderRadius;\r\n        this.computedBorderRadius = (options.borderRadius / 100) * options.height;\r\n\r\n        this.backgroundGraphic.drawRoundedRect(0, 0, options.width, options.height, this.computedBorderRadius);\r\n        this.addChild(this.backgroundGraphic);\r\n\r\n        if(options.labelOptions) {\r\n            const { fontName, onLabel, offLabel, onColor, offColor } = options.labelOptions;\r\n            this.onText = new PIXI.extras.BitmapText(onLabel, { font: fontName, align: \"left\" });\r\n            this.offText = new PIXI.extras.BitmapText(offLabel, { font: fontName, align: \"left\" });\r\n            this.addChild(this.onText);\r\n            this.addChild(this.offText);\r\n\r\n            this.onText.visible = false;\r\n            this.offText.visible = false;\r\n\r\n            const offXDiff = (options.width / 2) - this.offText.width;\r\n            if(offXDiff < 0) {throw new Error('Label for off text was too long')}\r\n            this.offText.x = ((options.width / 2)  + offXDiff / 2) - circlePadding;\r\n            this.offText.tint = offColor;\r\n\r\n            const offYDiff = options.height - this.offText.height;\r\n            if(offYDiff < 0) { throw new Error('Label font is too large to fit within height of toggle, either increase height or use smaller font')};\r\n            this.offText.y = offYDiff / 2;\r\n\r\n            const onXDiff = (options.width / 2) - this.onText.width;\r\n            if(onXDiff < 0) {throw new Error('Label for on text was too long')}\r\n            this.onText.x = circlePadding + onXDiff / 2;\r\n            this.onText.tint = onColor;\r\n\r\n            const onYDiff = options.height - this.onText.height;\r\n            if(onYDiff < 0) { throw new Error('Label font is too large to fit within height of toggle, either increase height or use smaller font')};\r\n            this.onText.y = offYDiff / 2;\r\n            this.usingLabels = true;\r\n        }\r\n\r\n        this.circleRadius = (this.options.height / 2) - circlePadding;\r\n        this.circleGraphic = new PIXI.Graphics();\r\n        this.circleGraphic.drawCircle(0, 0, this.circleRadius);\r\n\r\n        this.circleGraphic.y = circlePadding;\r\n\r\n        this.addChild(this.circleGraphic);\r\n\r\n        this.toggleCircleTravelDistance = Math.abs((circlePadding) -  (this.options.width - this.circleGraphic.width - circlePadding));\r\n\r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n        this.on('pointerdown', () => {\r\n            this.toggled = !this.toggled;\r\n        });\r\n        this.updateToggle = this.staticToggleUpdate.bind(this);\r\n        this.toggled = !!isToggled;\r\n        this.updateToggle = options.animationOptions ? this.animatedToggleUpdate.bind(this) : this.staticToggleUpdate.bind(this);\r\n    }\r\n\r\n    get activeBackgroundColor() {\r\n        return this.toggled ? this.options.onBackgroundColor : this.options.offBackgroundColor;\r\n    }\r\n\r\n    get inactiveBackgroundColor() {\r\n        return this.toggled ? this.options.offBackgroundColor : this.options.onBackgroundColor;\r\n    }\r\n\r\n    get activeCircleColor() {\r\n        return this.toggled ? this.options.onCircleColor : this.options.offCircleColor;\r\n    }\r\n\r\n    get inactiveCircleColor() {\r\n        return this.toggled ? this.options.offCircleColor : this.options.onCircleColor;\r\n    }\r\n\r\n    get activeTextLabel() {\r\n        return this.toggled ? this.onText : this.offText;\r\n    }\r\n\r\n    get inactiveTextLabel() {\r\n        return this.toggled ? this.offText : this.onText;\r\n    }\r\n\r\n    get travelToX() {\r\n        return this.toggled ? circlePadding : this.options.width - this.circleGraphic.width - circlePadding;\r\n    }\r\n\r\n    set toggled(val) {\r\n        this.emit('toggle-change', val);\r\n        this._toggled = val;\r\n\r\n        this.updateToggle();\r\n\r\n        //TODO: tween colors in interval with a delta\r\n    }\r\n\r\n    get toggled() {\r\n        return this._toggled;\r\n    }\r\n\r\n    public onToggle(callback) {\r\n        this.on('toggle-change', callback);\r\n    }\r\n\r\n    private animateToggle(delta) {\r\n        if(this.tween.update()) {\r\n            requestAnimationFrame(this.animateToggle.bind(this));\r\n        }\r\n    }\r\n\r\n    private midAnimationToggleUpdate(colors, progress) {\r\n        const traveledDistance = this.toggleCircleTravelDistance * progress;\r\n        const { exclude } = this.options.animationOptions;\r\n\r\n        if(this.usingLabels && (!exclude || !exclude.includes(ToggleAnimationExclusions.label))) {\r\n            this.activeTextLabel.visible = true;\r\n            this.inactiveTextLabel.visible = true;\r\n            this.inactiveTextLabel.alpha = 1 - progress;\r\n            this.activeTextLabel.alpha = progress;\r\n        }\r\n\r\n        if (this.backgroundColorsArrayIndex !== null) {\r\n            this.backgroundGraphic.clear();\r\n            if (this.options.hasOwnProperty('backgroundOutline')) {\r\n                const {width, color} = this.options.backgroundOutline;\r\n                this.backgroundGraphic.lineStyle(width, color);\r\n            }\r\n            this.backgroundGraphic.beginFill(string2hex(colors[this.backgroundColorsArrayIndex].hex()));\r\n            this.backgroundGraphic.drawRoundedRect(0, 0, this.options.width, this.options.height, this.computedBorderRadius);\r\n            this.backgroundGraphic.endFill();\r\n        }\r\n\r\n        if (!exclude || !exclude.includes(ToggleAnimationExclusions.circle_position)) {\r\n            if (this.toggled) {\r\n                this.circleGraphic.x = this.travelToX + traveledDistance;\r\n            } else {\r\n                this.circleGraphic.x = this.travelToX - traveledDistance;\r\n            }\r\n        };\r\n\r\n        if (this.circleColorsArrayIndex !== null) {\r\n            this.circleGraphic.clear();\r\n            this.circleGraphic.beginFill(string2hex(colors[this.circleColorsArrayIndex].hex()));\r\n            this.circleGraphic.drawCircle(this.circleRadius, this.circleRadius, this.circleRadius);\r\n            this.circleGraphic.endFill();\r\n        };\r\n    }\r\n\r\n    private animatedToggleUpdate() {\r\n        const activeColorsArray = [];\r\n        const inactiveColorsArray = [];\r\n        const { exclude } = this.options.animationOptions;\r\n\r\n        if(!exclude || !exclude.includes(ToggleAnimationExclusions.background)) {\r\n            activeColorsArray.push(PIXI.utils.hex2string(this.activeBackgroundColor));\r\n            inactiveColorsArray.push(PIXI.utils.hex2string(this.inactiveBackgroundColor));\r\n            this.backgroundColorsArrayIndex = 0;\r\n        }\r\n        if(!exclude || !exclude.includes(ToggleAnimationExclusions.circle_color)) {\r\n            activeColorsArray.push(PIXI.utils.hex2string(this.activeCircleColor));\r\n            inactiveColorsArray.push(PIXI.utils.hex2string(this.inactiveCircleColor));\r\n            this.circleColorsArrayIndex = activeColorsArray.length - 1;\r\n        }\r\n        this.tween = new ColorTween(inactiveColorsArray, activeColorsArray)\r\n            .duration(this.options.animationOptions.duration)\r\n            .easing(this.options.animationOptions.type)\r\n            .onUpdate(this.midAnimationToggleUpdate.bind(this))\r\n            .onEnd(this.staticToggleUpdate.bind(this))\r\n            .start(this.animateToggle.bind(this));\r\n    }\r\n\r\n    private staticToggleUpdate() {\r\n        this.backgroundGraphic.clear();\r\n        if(this.options.hasOwnProperty('backgroundOutline')) {\r\n            const { width, color } = this.options.backgroundOutline;\r\n            this.backgroundGraphic.lineStyle(width, color);\r\n        }\r\n        // when its to the right were toggled/on so use options/width to calculate for now\\\r\n        let xPosition;\r\n        let circleColor;\r\n        let backgroundColor;\r\n\r\n        if(this._toggled) {\r\n            backgroundColor = this.options.onBackgroundColor;\r\n            xPosition = this.options.width - this.circleGraphic.width - circlePadding;\r\n            circleColor =  this.options.onCircleColor;\r\n            this._showOnText();\r\n        } else {\r\n            backgroundColor =  this.options.offBackgroundColor;\r\n            xPosition =  0 + circlePadding;\r\n            circleColor = this.options.offCircleColor;\r\n            this._showOffText();\r\n        }\r\n\r\n        this.backgroundGraphic.beginFill(backgroundColor);\r\n        this.backgroundGraphic.drawRoundedRect(0, 0, this.options.width, this.options.height, this.computedBorderRadius);\r\n        this.backgroundGraphic.endFill();\r\n\r\n        this.circleGraphic.clear();\r\n        this.circleGraphic.beginFill(circleColor);\r\n        this.circleGraphic.drawCircle(this.circleRadius, this.circleRadius, this.circleRadius);\r\n        this.circleGraphic.endFill();\r\n        this.circleGraphic.x = xPosition;\r\n    }\r\n\r\n    private _showOnText() {\r\n        if(this.usingLabels) {\r\n            this.onText.visible = true;\r\n            this.offText.visible = false;\r\n        }\r\n    }\r\n\r\n    private _showOffText() {\r\n        if(this.usingLabels) {\r\n            this.onText.visible = false;\r\n            this.offText.visible = true;\r\n        }\r\n    }\r\n}","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ColorTween\"] = factory();\n\telse\n\t\troot[\"ColorTween\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Easing = __webpack_require__(2);\r\n\tvar Color = __webpack_require__(4);\r\n\tvar now = Date.now;\r\n\r\n\tmodule.exports = function (startColorStrings, endColorStrings) {\r\n\t  var startColors = startColorStrings.map(function(s) {return Color(s).rgb().array()});\r\n\t  var endColors = endColorStrings.map(function(s) { return Color(s).rgb().array() });\r\n\t  var tween = this;\r\n\t  params = {\r\n\t    updater: function(){},\r\n\t    ender: function(){},\r\n\t    length: 1000,\r\n\t    startTime: undefined,\r\n\t    easing: Easing('linear')\r\n\t  }\r\n\r\n\t// Public API\r\n\t  tween.onUpdate = overwrite('updater');\r\n\t  tween.onEnd = overwrite('ender');\r\n\t  tween.start = start;\r\n\t  tween.duration = overwrite('length');\r\n\t  tween.stop = stop;\r\n\t  tween.update = update;\r\n\t  tween.easing = setEasing;\r\n\r\n\t  return tween;\r\n\r\n\t/* --------------- */\r\n\r\n\t  function setEasing(name) {\r\n\t    params.easing = Easing(name) || Easing('linear');\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function start(cb) {\r\n\t    params.startTime = now();\r\n\t    if (typeof(cb) === 'function'){\r\n\t      setTimeout(cb);\r\n\t    }\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function update() {\r\n\t    if (params.startTime) {\r\n\t      var frame = renderFrame();\r\n\t      if (frame.progress > 1) {\r\n\t        done();\r\n\t      } else {\r\n\t        params.updater(frame.frames, frame.progress);\r\n\t      }\r\n\t      return frame.frames;\r\n\t    }\r\n\t    return null;\r\n\t  }\r\n\r\n\t  function renderFrame() {\r\n\t    var pos = now() - params.startTime\r\n\t    var percent = pos / params.length;\r\n\t    const frames = endColors.map(function(endColor, i) {\r\n\t      return Color.rgb(endColor.map(function(val, j) {\r\n\t        return startColors[i][j] + (val - startColors[i][j]) * params.easing(percent);\r\n\t      }));\r\n\t    });\r\n\t    return {\r\n\t      frames: frames,\r\n\t      progress: percent\r\n\t    }\r\n\t  }\r\n\r\n\t  function done() {\r\n\t    params.updater(endColors.map(function(e) { return Color.rgb(e) }), 1);\r\n\t    stop();\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function stop() {\r\n\t    params.startTime = undefined;\r\n\t    params.ender(endColors.map(function(e) { Color.rgb(e) }), 1);\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function overwrite(key) {\r\n\t    return function(val) {\r\n\t      params[key] = val;\r\n\t      return tween;\r\n\t    }\r\n\t  }\r\n\t}\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar easingFunctions = __webpack_require__(3);\r\n\r\n\t// Rewrite API with shorthand\r\n\teasingFunctions = Object.keys(easingFunctions).reduce(function(acc, key, index){\r\n\t  acc[key] = shorthand(easingFunctions[key]);\r\n\t  return acc;\r\n\t}, {})\r\n\r\n\tmodule.exports = function(name) {\r\n\t  // return easing function given a name like 'quibicInOut'\r\n\t\tvar path = parseName(name);\r\n\t\tif (path.length === 1) {\r\n\t\t\treturn easingFunctions[path[0]];\r\n\t\t}\r\n\t\treturn easingFunctions[path[0]][path[1]];\r\n\t}\r\n\r\n\r\n\tfunction parseName(name) {\r\n\t\t// parse easing name into array\r\n\t\t// example: `qubic` becomes ['quibic']\r\n\t\t// example: `qubicInOut' becomes ['qubic', 'InOut'];\r\n\r\n\t\tvar tests = [/InOut$/, /In$/, /Out$/];\r\n\t\tvar found = tests.reduce(function(acc, reg, i) {\r\n\t    var match = reg.exec(name);\r\n\t    if (match && !acc) {\r\n\t    \tacc = match;\r\n\t    }\r\n\t    return acc;\r\n\t  }, undefined);\r\n\t  if (!found) {\r\n\t  \treturn [name];\r\n\t  }\r\n\t  return [name.substr(0, found.index), found[0]];\r\n\t}\r\n\r\n\tfunction shorthand(ease){\r\n\t\t// Rewrites easing definition so that name() === name.InOut();\r\n\t\tvar subject = ease.InOut;\r\n\t\tsubject.In = ease.In;\r\n\t\tsubject.Out = ease.Out;\r\n\t\tsubject.InOut = ease.InOut;\r\n\t\treturn subject;\r\n\t}\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t/*\r\n\tEasing Types extracted from tween.js\r\n\thttps://github.com/tweenjs/tween.js\r\n\r\n\tAvailable funcation all can be referenced by name, or by name.In, name.Out, and name.InOut);\r\n\r\n\t linear, quadratic, cubic, quartic, quintic, sinusoidal, exponential, circular, elastic, back, bounce\r\n\r\n\t*/\r\n\tmodule.exports = {\r\n\t  linear: {\r\n\t    In: function(k) {\r\n\t      return k;\r\n\t    },\r\n\t\t\tOut: function(k) {\r\n\t      return k;\r\n\t    },\r\n\t\t\tInOut: function(k) {\r\n\t      return k;\r\n\t    }\r\n\t  },\r\n\t  quadratic: {\r\n\t    In: function(k) {\r\n\t      return k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return k * (2 - k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k;\r\n\t      }\r\n\t      return -0.5 * (--k * (k - 2) - 1);\r\n\t    }\r\n\t  },\r\n\t  cubic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return --k * k * k + 1;\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k;\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * k + 2);\r\n\t    }\r\n\t  },\r\n\t  quartic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return 1 - (--k * k * k * k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k * k;\r\n\t      }\r\n\t      return -0.5 * ((k -= 2) * k * k * k - 2);\r\n\t    }\r\n\t  },\r\n\t  quintic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return --k * k * k * k * k + 1;\r\n\t    },\r\n\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k * k * k;\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * k * k * k + 2);\r\n\t    }\r\n\t  },\r\n\t  sinusoidal: {\r\n\t    In: function(k) {\r\n\t      return 1 - Math.cos(k * Math.PI / 2);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return Math.sin(k * Math.PI / 2);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      return 0.5 * (1 - Math.cos(Math.PI * k));\r\n\t    }\r\n\t  },\r\n\t  exponential: {\r\n\t    In: function(k) {\r\n\t      return k === 0 ? 0 : Math.pow(1024, k - 1);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * Math.pow(1024, k - 1);\r\n\t      }\r\n\t      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\r\n\t    }\r\n\t  },\r\n\t  circular: {\r\n\t    In: function(k) {\r\n\t      return 1 - Math.sqrt(1 - k * k);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return Math.sqrt(1 - (--k * k));\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n\t      }\r\n\t      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\r\n\t    }\r\n\t  },\r\n\t  elastic: {\r\n\t    In: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\r\n\t    },\r\n\r\n\t    InOut: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      k *= 2;\r\n\t      if (k < 1) {\r\n\t        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\r\n\t      }\r\n\t      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\r\n\t    }\r\n\t  },\r\n\t  back: {\r\n\t    In: function(k) {\r\n\t      var s = 1.70158;\r\n\t      return k * k * ((s + 1) * k - s);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      var s = 1.70158;\r\n\t      return --k * k * ((s + 1) * k + s) + 1;\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      var s = 1.70158 * 1.525;\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * (k * k * ((s + 1) * k - s));\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\r\n\t    }\r\n\t  },\r\n\t  bounce: {\r\n\t    In: function(k) {\r\n\t      return 1 - Easing.Bounce.Out(1 - k);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      if (k < (1 / 2.75)) {\r\n\t        return 7.5625 * k * k;\r\n\t      } else if (k < (2 / 2.75)) {\r\n\t        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\r\n\t      } else if (k < (2.5 / 2.75)) {\r\n\t        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\r\n\t      } else {\r\n\t        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\r\n\t      }\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if (k < 0.5) {\r\n\t        return Easing.Bounce.In(k * 2) * 0.5;\r\n\t      }\r\n\t      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\r\n\t    }\r\n\t  }\r\n\t};\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar colorString = __webpack_require__(5);\n\tvar convert = __webpack_require__(9);\n\n\tvar _slice = [].slice;\n\n\tvar skippedModels = [\n\t\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t\t'keyword',\n\n\t\t// gray conflicts with some method names, and has its own method defined.\n\t\t'gray',\n\n\t\t// shouldn't really be in color-convert either...\n\t\t'hex'\n\t];\n\n\tvar hashedModelKeys = {};\n\tObject.keys(convert).forEach(function (model) {\n\t\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n\t});\n\n\tvar limiters = {};\n\n\tfunction Color(obj, model) {\n\t\tif (!(this instanceof Color)) {\n\t\t\treturn new Color(obj, model);\n\t\t}\n\n\t\tif (model && model in skippedModels) {\n\t\t\tmodel = null;\n\t\t}\n\n\t\tif (model && !(model in convert)) {\n\t\t\tthrow new Error('Unknown model: ' + model);\n\t\t}\n\n\t\tvar i;\n\t\tvar channels;\n\n\t\tif (!obj) {\n\t\t\tthis.model = 'rgb';\n\t\t\tthis.color = [0, 0, 0];\n\t\t\tthis.valpha = 1;\n\t\t} else if (obj instanceof Color) {\n\t\t\tthis.model = obj.model;\n\t\t\tthis.color = obj.color.slice();\n\t\t\tthis.valpha = obj.valpha;\n\t\t} else if (typeof obj === 'string') {\n\t\t\tvar result = colorString.get(obj);\n\t\t\tif (result === null) {\n\t\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t\t}\n\n\t\t\tthis.model = result.model;\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tthis.color = result.value.slice(0, channels);\n\t\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t\t} else if (obj.length) {\n\t\t\tthis.model = model || 'rgb';\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\t\tthis.color = zeroArray(newArr, channels);\n\t\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t\t} else if (typeof obj === 'number') {\n\t\t\t// this is always RGB - can be converted later on.\n\t\t\tobj &= 0xFFFFFF;\n\t\t\tthis.model = 'rgb';\n\t\t\tthis.color = [\n\t\t\t\t(obj >> 16) & 0xFF,\n\t\t\t\t(obj >> 8) & 0xFF,\n\t\t\t\tobj & 0xFF\n\t\t\t];\n\t\t\tthis.valpha = 1;\n\t\t} else {\n\t\t\tthis.valpha = 1;\n\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tif ('alpha' in obj) {\n\t\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t\t}\n\n\t\t\tvar hashedKeys = keys.sort().join('');\n\t\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t\t}\n\n\t\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\t\tvar labels = convert[this.model].labels;\n\t\t\tvar color = [];\n\t\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\t\tcolor.push(obj[labels[i]]);\n\t\t\t}\n\n\t\t\tthis.color = zeroArray(color);\n\t\t}\n\n\t\t// perform limitations (clamping, etc.)\n\t\tif (limiters[this.model]) {\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tfor (i = 0; i < channels; i++) {\n\t\t\t\tvar limit = limiters[this.model][i];\n\t\t\t\tif (limit) {\n\t\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\t\tif (Object.freeze) {\n\t\t\tObject.freeze(this);\n\t\t}\n\t}\n\n\tColor.prototype = {\n\t\ttoString: function () {\n\t\t\treturn this.string();\n\t\t},\n\n\t\ttoJSON: function () {\n\t\t\treturn this[this.model]();\n\t\t},\n\n\t\tstring: function (places) {\n\t\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\t\treturn colorString.to[self.model](args);\n\t\t},\n\n\t\tpercentString: function (places) {\n\t\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\t\treturn colorString.to.rgb.percent(args);\n\t\t},\n\n\t\tarray: function () {\n\t\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t\t},\n\n\t\tobject: function () {\n\t\t\tvar result = {};\n\t\t\tvar channels = convert[this.model].channels;\n\t\t\tvar labels = convert[this.model].labels;\n\n\t\t\tfor (var i = 0; i < channels; i++) {\n\t\t\t\tresult[labels[i]] = this.color[i];\n\t\t\t}\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\tresult.alpha = this.valpha;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tunitArray: function () {\n\t\t\tvar rgb = this.rgb().color;\n\t\t\trgb[0] /= 255;\n\t\t\trgb[1] /= 255;\n\t\t\trgb[2] /= 255;\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\trgb.push(this.valpha);\n\t\t\t}\n\n\t\t\treturn rgb;\n\t\t},\n\n\t\tunitObject: function () {\n\t\t\tvar rgb = this.rgb().object();\n\t\t\trgb.r /= 255;\n\t\t\trgb.g /= 255;\n\t\t\trgb.b /= 255;\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\trgb.alpha = this.valpha;\n\t\t\t}\n\n\t\t\treturn rgb;\n\t\t},\n\n\t\tround: function (places) {\n\t\t\tplaces = Math.max(places || 0, 0);\n\t\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t\t},\n\n\t\talpha: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t\t}\n\n\t\t\treturn this.valpha;\n\t\t},\n\n\t\t// rgb\n\t\tred: getset('rgb', 0, maxfn(255)),\n\t\tgreen: getset('rgb', 1, maxfn(255)),\n\t\tblue: getset('rgb', 2, maxfn(255)),\n\n\t\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\t\tsaturationl: getset('hsl', 1, maxfn(100)),\n\t\tlightness: getset('hsl', 2, maxfn(100)),\n\n\t\tsaturationv: getset('hsv', 1, maxfn(100)),\n\t\tvalue: getset('hsv', 2, maxfn(100)),\n\n\t\tchroma: getset('hcg', 1, maxfn(100)),\n\t\tgray: getset('hcg', 2, maxfn(100)),\n\n\t\twhite: getset('hwb', 1, maxfn(100)),\n\t\twblack: getset('hwb', 2, maxfn(100)),\n\n\t\tcyan: getset('cmyk', 0, maxfn(100)),\n\t\tmagenta: getset('cmyk', 1, maxfn(100)),\n\t\tyellow: getset('cmyk', 2, maxfn(100)),\n\t\tblack: getset('cmyk', 3, maxfn(100)),\n\n\t\tx: getset('xyz', 0, maxfn(100)),\n\t\ty: getset('xyz', 1, maxfn(100)),\n\t\tz: getset('xyz', 2, maxfn(100)),\n\n\t\tl: getset('lab', 0, maxfn(100)),\n\t\ta: getset('lab', 1),\n\t\tb: getset('lab', 2),\n\n\t\tkeyword: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(val);\n\t\t\t}\n\n\t\t\treturn convert[this.model].keyword(this.color);\n\t\t},\n\n\t\thex: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(val);\n\t\t\t}\n\n\t\t\treturn colorString.to.hex(this.rgb().round().color);\n\t\t},\n\n\t\trgbNumber: function () {\n\t\t\tvar rgb = this.rgb().color;\n\t\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t\t},\n\n\t\tluminosity: function () {\n\t\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\t\tvar rgb = this.rgb().color;\n\n\t\t\tvar lum = [];\n\t\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\t\tvar chan = rgb[i] / 255;\n\t\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t\t}\n\n\t\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t\t},\n\n\t\tcontrast: function (color2) {\n\t\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\t\tvar lum1 = this.luminosity();\n\t\t\tvar lum2 = color2.luminosity();\n\n\t\t\tif (lum1 > lum2) {\n\t\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t\t}\n\n\t\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t\t},\n\n\t\tlevel: function (color2) {\n\t\t\tvar contrastRatio = this.contrast(color2);\n\t\t\tif (contrastRatio >= 7.1) {\n\t\t\t\treturn 'AAA';\n\t\t\t}\n\n\t\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t\t},\n\n\t\tdark: function () {\n\t\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\t\tvar rgb = this.rgb().color;\n\t\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\t\treturn yiq < 128;\n\t\t},\n\n\t\tlight: function () {\n\t\t\treturn !this.dark();\n\t\t},\n\n\t\tnegate: function () {\n\t\t\tvar rgb = this.rgb();\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t\t}\n\t\t\treturn rgb;\n\t\t},\n\n\t\tlighten: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tdarken: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tsaturate: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tdesaturate: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\twhiten: function (ratio) {\n\t\t\tvar hwb = this.hwb();\n\t\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\t\treturn hwb;\n\t\t},\n\n\t\tblacken: function (ratio) {\n\t\t\tvar hwb = this.hwb();\n\t\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\t\treturn hwb;\n\t\t},\n\n\t\tgrayscale: function () {\n\t\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\t\tvar rgb = this.rgb().color;\n\t\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\t\treturn Color.rgb(val, val, val);\n\t\t},\n\n\t\tfade: function (ratio) {\n\t\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t\t},\n\n\t\topaquer: function (ratio) {\n\t\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t\t},\n\n\t\trotate: function (degrees) {\n\t\t\tvar hsl = this.hsl();\n\t\t\tvar hue = hsl.color[0];\n\t\t\thue = (hue + degrees) % 360;\n\t\t\thue = hue < 0 ? 360 + hue : hue;\n\t\t\thsl.color[0] = hue;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tmix: function (mixinColor, weight) {\n\t\t\t// ported from sass implementation in C\n\t\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\t\tvar color1 = this.rgb();\n\t\t\tvar color2 = mixinColor.rgb();\n\t\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\t\tvar w = 2 * p - 1;\n\t\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tvar w2 = 1 - w1;\n\n\t\t\treturn Color.rgb(\n\t\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t\t}\n\t};\n\n\t// model conversion methods and static constructors\n\tObject.keys(convert).forEach(function (model) {\n\t\tif (skippedModels.indexOf(model) !== -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\n\t\t// conversion methods\n\t\tColor.prototype[model] = function () {\n\t\t\tif (this.model === model) {\n\t\t\t\treturn new Color(this);\n\t\t\t}\n\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(arguments, model);\n\t\t\t}\n\n\t\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t\t};\n\n\t\t// 'static' construction methods\n\t\tColor[model] = function (color) {\n\t\t\tif (typeof color === 'number') {\n\t\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t\t}\n\t\t\treturn new Color(color, model);\n\t\t};\n\t});\n\n\tfunction roundTo(num, places) {\n\t\treturn Number(num.toFixed(places));\n\t}\n\n\tfunction roundToPlace(places) {\n\t\treturn function (num) {\n\t\t\treturn roundTo(num, places);\n\t\t};\n\t}\n\n\tfunction getset(model, channel, modifier) {\n\t\tmodel = Array.isArray(model) ? model : [model];\n\n\t\tmodel.forEach(function (m) {\n\t\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t\t});\n\n\t\tmodel = model[0];\n\n\t\treturn function (val) {\n\t\t\tvar result;\n\n\t\t\tif (arguments.length) {\n\t\t\t\tif (modifier) {\n\t\t\t\t\tval = modifier(val);\n\t\t\t\t}\n\n\t\t\t\tresult = this[model]();\n\t\t\t\tresult.color[channel] = val;\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tresult = this[model]().color[channel];\n\t\t\tif (modifier) {\n\t\t\t\tresult = modifier(result);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\t}\n\n\tfunction maxfn(max) {\n\t\treturn function (v) {\n\t\t\treturn Math.max(0, Math.min(max, v));\n\t\t};\n\t}\n\n\tfunction assertArray(val) {\n\t\treturn Array.isArray(val) ? val : [val];\n\t}\n\n\tfunction zeroArray(arr, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tif (typeof arr[i] !== 'number') {\n\t\t\t\tarr[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\tmodule.exports = Color;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* MIT license */\n\tvar colorNames = __webpack_require__(6);\n\tvar swizzle = __webpack_require__(7);\n\n\tvar reverseNames = {};\n\n\t// create a list of reverse color names\n\tfor (var name in colorNames) {\n\t\tif (colorNames.hasOwnProperty(name)) {\n\t\t\treverseNames[colorNames[name]] = name;\n\t\t}\n\t}\n\n\tvar cs = module.exports = {\n\t\tto: {},\n\t\tget: {}\n\t};\n\n\tcs.get = function (string) {\n\t\tvar prefix = string.substring(0, 3).toLowerCase();\n\t\tvar val;\n\t\tvar model;\n\t\tswitch (prefix) {\n\t\t\tcase 'hsl':\n\t\t\t\tval = cs.get.hsl(string);\n\t\t\t\tmodel = 'hsl';\n\t\t\t\tbreak;\n\t\t\tcase 'hwb':\n\t\t\t\tval = cs.get.hwb(string);\n\t\t\t\tmodel = 'hwb';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tval = cs.get.rgb(string);\n\t\t\t\tmodel = 'rgb';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!val) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {model: model, value: val};\n\t};\n\n\tcs.get.rgb = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\t\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\t\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar keyword = /(\\D+)/;\n\n\t\tvar rgb = [0, 0, 0, 1];\n\t\tvar match;\n\t\tvar i;\n\t\tvar hexAlpha;\n\n\t\tif (match = string.match(hex)) {\n\t\t\thexAlpha = match[2];\n\t\t\tmatch = match[1];\n\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\t\tvar i2 = i * 2;\n\t\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t\t}\n\n\t\t\tif (hexAlpha) {\n\t\t\t\trgb[3] = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n\t\t\t}\n\t\t} else if (match = string.match(abbr)) {\n\t\t\tmatch = match[1];\n\t\t\thexAlpha = match[3];\n\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t\t}\n\n\t\t\tif (hexAlpha) {\n\t\t\t\trgb[3] = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n\t\t\t}\n\t\t} else if (match = string.match(rgba)) {\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t\t}\n\n\t\t\tif (match[4]) {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t} else if (match = string.match(per)) {\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t\t}\n\n\t\t\tif (match[4]) {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t} else if (match = string.match(keyword)) {\n\t\t\tif (match[1] === 'transparent') {\n\t\t\t\treturn [0, 0, 0, 0];\n\t\t\t}\n\n\t\t\trgb = colorNames[match[1]];\n\n\t\t\tif (!rgb) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\trgb[3] = 1;\n\n\t\t\treturn rgb;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t\t}\n\t\trgb[3] = clamp(rgb[3], 0, 1);\n\n\t\treturn rgb;\n\t};\n\n\tcs.get.hsl = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar match = string.match(hsl);\n\n\t\tif (match) {\n\t\t\tvar alpha = parseFloat(match[4]);\n\t\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\t\treturn [h, s, l, a];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tcs.get.hwb = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar hwb = /^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar match = string.match(hwb);\n\n\t\tif (match) {\n\t\t\tvar alpha = parseFloat(match[4]);\n\t\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\t\treturn [h, w, b, a];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tcs.to.hex = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\treturn (\n\t\t\t'#' +\n\t\t\thexDouble(rgba[0]) +\n\t\t\thexDouble(rgba[1]) +\n\t\t\thexDouble(rgba[2]) +\n\t\t\t(rgba[3] < 1\n\t\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t\t: '')\n\t\t);\n\t};\n\n\tcs.to.rgb = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\treturn rgba.length < 4 || rgba[3] === 1\n\t\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n\t};\n\n\tcs.to.rgb.percent = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\tvar r = Math.round(rgba[0] / 255 * 100);\n\t\tvar g = Math.round(rgba[1] / 255 * 100);\n\t\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\t\treturn rgba.length < 4 || rgba[3] === 1\n\t\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n\t};\n\n\tcs.to.hsl = function () {\n\t\tvar hsla = swizzle(arguments);\n\t\treturn hsla.length < 4 || hsla[3] === 1\n\t\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n\t};\n\n\t// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n\t// (hwb have alpha optional & 1 is default value)\n\tcs.to.hwb = function () {\n\t\tvar hwba = swizzle(arguments);\n\n\t\tvar a = '';\n\t\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\t\ta = ', ' + hwba[3];\n\t\t}\n\n\t\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n\t};\n\n\tcs.to.keyword = function (rgb) {\n\t\treturn reverseNames[rgb.slice(0, 3)];\n\t};\n\n\t// helpers\n\tfunction clamp(num, min, max) {\n\t\treturn Math.min(Math.max(min, num), max);\n\t}\n\n\tfunction hexDouble(num) {\n\t\tvar str = num.toString(16).toUpperCase();\n\t\treturn (str.length < 2) ? '0' + str : str;\n\t}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict'\r\n\r\n\tmodule.exports = {\r\n\t\t\"aliceblue\": [240, 248, 255],\r\n\t\t\"antiquewhite\": [250, 235, 215],\r\n\t\t\"aqua\": [0, 255, 255],\r\n\t\t\"aquamarine\": [127, 255, 212],\r\n\t\t\"azure\": [240, 255, 255],\r\n\t\t\"beige\": [245, 245, 220],\r\n\t\t\"bisque\": [255, 228, 196],\r\n\t\t\"black\": [0, 0, 0],\r\n\t\t\"blanchedalmond\": [255, 235, 205],\r\n\t\t\"blue\": [0, 0, 255],\r\n\t\t\"blueviolet\": [138, 43, 226],\r\n\t\t\"brown\": [165, 42, 42],\r\n\t\t\"burlywood\": [222, 184, 135],\r\n\t\t\"cadetblue\": [95, 158, 160],\r\n\t\t\"chartreuse\": [127, 255, 0],\r\n\t\t\"chocolate\": [210, 105, 30],\r\n\t\t\"coral\": [255, 127, 80],\r\n\t\t\"cornflowerblue\": [100, 149, 237],\r\n\t\t\"cornsilk\": [255, 248, 220],\r\n\t\t\"crimson\": [220, 20, 60],\r\n\t\t\"cyan\": [0, 255, 255],\r\n\t\t\"darkblue\": [0, 0, 139],\r\n\t\t\"darkcyan\": [0, 139, 139],\r\n\t\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\t\"darkgray\": [169, 169, 169],\r\n\t\t\"darkgreen\": [0, 100, 0],\r\n\t\t\"darkgrey\": [169, 169, 169],\r\n\t\t\"darkkhaki\": [189, 183, 107],\r\n\t\t\"darkmagenta\": [139, 0, 139],\r\n\t\t\"darkolivegreen\": [85, 107, 47],\r\n\t\t\"darkorange\": [255, 140, 0],\r\n\t\t\"darkorchid\": [153, 50, 204],\r\n\t\t\"darkred\": [139, 0, 0],\r\n\t\t\"darksalmon\": [233, 150, 122],\r\n\t\t\"darkseagreen\": [143, 188, 143],\r\n\t\t\"darkslateblue\": [72, 61, 139],\r\n\t\t\"darkslategray\": [47, 79, 79],\r\n\t\t\"darkslategrey\": [47, 79, 79],\r\n\t\t\"darkturquoise\": [0, 206, 209],\r\n\t\t\"darkviolet\": [148, 0, 211],\r\n\t\t\"deeppink\": [255, 20, 147],\r\n\t\t\"deepskyblue\": [0, 191, 255],\r\n\t\t\"dimgray\": [105, 105, 105],\r\n\t\t\"dimgrey\": [105, 105, 105],\r\n\t\t\"dodgerblue\": [30, 144, 255],\r\n\t\t\"firebrick\": [178, 34, 34],\r\n\t\t\"floralwhite\": [255, 250, 240],\r\n\t\t\"forestgreen\": [34, 139, 34],\r\n\t\t\"fuchsia\": [255, 0, 255],\r\n\t\t\"gainsboro\": [220, 220, 220],\r\n\t\t\"ghostwhite\": [248, 248, 255],\r\n\t\t\"gold\": [255, 215, 0],\r\n\t\t\"goldenrod\": [218, 165, 32],\r\n\t\t\"gray\": [128, 128, 128],\r\n\t\t\"green\": [0, 128, 0],\r\n\t\t\"greenyellow\": [173, 255, 47],\r\n\t\t\"grey\": [128, 128, 128],\r\n\t\t\"honeydew\": [240, 255, 240],\r\n\t\t\"hotpink\": [255, 105, 180],\r\n\t\t\"indianred\": [205, 92, 92],\r\n\t\t\"indigo\": [75, 0, 130],\r\n\t\t\"ivory\": [255, 255, 240],\r\n\t\t\"khaki\": [240, 230, 140],\r\n\t\t\"lavender\": [230, 230, 250],\r\n\t\t\"lavenderblush\": [255, 240, 245],\r\n\t\t\"lawngreen\": [124, 252, 0],\r\n\t\t\"lemonchiffon\": [255, 250, 205],\r\n\t\t\"lightblue\": [173, 216, 230],\r\n\t\t\"lightcoral\": [240, 128, 128],\r\n\t\t\"lightcyan\": [224, 255, 255],\r\n\t\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\t\"lightgray\": [211, 211, 211],\r\n\t\t\"lightgreen\": [144, 238, 144],\r\n\t\t\"lightgrey\": [211, 211, 211],\r\n\t\t\"lightpink\": [255, 182, 193],\r\n\t\t\"lightsalmon\": [255, 160, 122],\r\n\t\t\"lightseagreen\": [32, 178, 170],\r\n\t\t\"lightskyblue\": [135, 206, 250],\r\n\t\t\"lightslategray\": [119, 136, 153],\r\n\t\t\"lightslategrey\": [119, 136, 153],\r\n\t\t\"lightsteelblue\": [176, 196, 222],\r\n\t\t\"lightyellow\": [255, 255, 224],\r\n\t\t\"lime\": [0, 255, 0],\r\n\t\t\"limegreen\": [50, 205, 50],\r\n\t\t\"linen\": [250, 240, 230],\r\n\t\t\"magenta\": [255, 0, 255],\r\n\t\t\"maroon\": [128, 0, 0],\r\n\t\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\t\"mediumblue\": [0, 0, 205],\r\n\t\t\"mediumorchid\": [186, 85, 211],\r\n\t\t\"mediumpurple\": [147, 112, 219],\r\n\t\t\"mediumseagreen\": [60, 179, 113],\r\n\t\t\"mediumslateblue\": [123, 104, 238],\r\n\t\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\t\"mediumturquoise\": [72, 209, 204],\r\n\t\t\"mediumvioletred\": [199, 21, 133],\r\n\t\t\"midnightblue\": [25, 25, 112],\r\n\t\t\"mintcream\": [245, 255, 250],\r\n\t\t\"mistyrose\": [255, 228, 225],\r\n\t\t\"moccasin\": [255, 228, 181],\r\n\t\t\"navajowhite\": [255, 222, 173],\r\n\t\t\"navy\": [0, 0, 128],\r\n\t\t\"oldlace\": [253, 245, 230],\r\n\t\t\"olive\": [128, 128, 0],\r\n\t\t\"olivedrab\": [107, 142, 35],\r\n\t\t\"orange\": [255, 165, 0],\r\n\t\t\"orangered\": [255, 69, 0],\r\n\t\t\"orchid\": [218, 112, 214],\r\n\t\t\"palegoldenrod\": [238, 232, 170],\r\n\t\t\"palegreen\": [152, 251, 152],\r\n\t\t\"paleturquoise\": [175, 238, 238],\r\n\t\t\"palevioletred\": [219, 112, 147],\r\n\t\t\"papayawhip\": [255, 239, 213],\r\n\t\t\"peachpuff\": [255, 218, 185],\r\n\t\t\"peru\": [205, 133, 63],\r\n\t\t\"pink\": [255, 192, 203],\r\n\t\t\"plum\": [221, 160, 221],\r\n\t\t\"powderblue\": [176, 224, 230],\r\n\t\t\"purple\": [128, 0, 128],\r\n\t\t\"rebeccapurple\": [102, 51, 153],\r\n\t\t\"red\": [255, 0, 0],\r\n\t\t\"rosybrown\": [188, 143, 143],\r\n\t\t\"royalblue\": [65, 105, 225],\r\n\t\t\"saddlebrown\": [139, 69, 19],\r\n\t\t\"salmon\": [250, 128, 114],\r\n\t\t\"sandybrown\": [244, 164, 96],\r\n\t\t\"seagreen\": [46, 139, 87],\r\n\t\t\"seashell\": [255, 245, 238],\r\n\t\t\"sienna\": [160, 82, 45],\r\n\t\t\"silver\": [192, 192, 192],\r\n\t\t\"skyblue\": [135, 206, 235],\r\n\t\t\"slateblue\": [106, 90, 205],\r\n\t\t\"slategray\": [112, 128, 144],\r\n\t\t\"slategrey\": [112, 128, 144],\r\n\t\t\"snow\": [255, 250, 250],\r\n\t\t\"springgreen\": [0, 255, 127],\r\n\t\t\"steelblue\": [70, 130, 180],\r\n\t\t\"tan\": [210, 180, 140],\r\n\t\t\"teal\": [0, 128, 128],\r\n\t\t\"thistle\": [216, 191, 216],\r\n\t\t\"tomato\": [255, 99, 71],\r\n\t\t\"turquoise\": [64, 224, 208],\r\n\t\t\"violet\": [238, 130, 238],\r\n\t\t\"wheat\": [245, 222, 179],\r\n\t\t\"white\": [255, 255, 255],\r\n\t\t\"whitesmoke\": [245, 245, 245],\r\n\t\t\"yellow\": [255, 255, 0],\r\n\t\t\"yellowgreen\": [154, 205, 50]\r\n\t};\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar isArrayish = __webpack_require__(8);\n\n\tvar concat = Array.prototype.concat;\n\tvar slice = Array.prototype.slice;\n\n\tvar swizzle = module.exports = function swizzle(args) {\n\t\tvar results = [];\n\n\t\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\t\tvar arg = args[i];\n\n\t\t\tif (isArrayish(arg)) {\n\t\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t\t} else {\n\t\t\t\tresults.push(arg);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\n\tswizzle.wrap = function (fn) {\n\t\treturn function () {\n\t\t\treturn fn(swizzle(arguments));\n\t\t};\n\t};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function isArrayish(obj) {\n\t\tif (!obj || typeof obj === 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n\t};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar conversions = __webpack_require__(10);\n\tvar route = __webpack_require__(11);\n\n\tvar convert = {};\n\n\tvar models = Object.keys(conversions);\n\n\tfunction wrapRaw(fn) {\n\t\tvar wrappedFn = function (args) {\n\t\t\tif (args === undefined || args === null) {\n\t\t\t\treturn args;\n\t\t\t}\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t\t}\n\n\t\t\treturn fn(args);\n\t\t};\n\n\t\t// preserve .conversion property if there is one\n\t\tif ('conversion' in fn) {\n\t\t\twrappedFn.conversion = fn.conversion;\n\t\t}\n\n\t\treturn wrappedFn;\n\t}\n\n\tfunction wrapRounded(fn) {\n\t\tvar wrappedFn = function (args) {\n\t\t\tif (args === undefined || args === null) {\n\t\t\t\treturn args;\n\t\t\t}\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t\t}\n\n\t\t\tvar result = fn(args);\n\n\t\t\t// we're assuming the result is an array here.\n\t\t\t// see notice in conversions.js; don't use box types\n\t\t\t// in conversion functions.\n\t\t\tif (typeof result === 'object') {\n\t\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\t// preserve .conversion property if there is one\n\t\tif ('conversion' in fn) {\n\t\t\twrappedFn.conversion = fn.conversion;\n\t\t}\n\n\t\treturn wrappedFn;\n\t}\n\n\tmodels.forEach(function (fromModel) {\n\t\tconvert[fromModel] = {};\n\n\t\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\t\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\t\tvar routes = route(fromModel);\n\t\tvar routeModels = Object.keys(routes);\n\n\t\trouteModels.forEach(function (toModel) {\n\t\t\tvar fn = routes[toModel];\n\n\t\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t\t});\n\t});\n\n\tmodule.exports = convert;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* MIT license */\n\tvar cssKeywords = __webpack_require__(6);\n\n\t// NOTE: conversions should only return primitive values (i.e. arrays, or\n\t//       values that give correct `typeof` results).\n\t//       do not use box values types (i.e. Number(), String(), etc.)\n\n\tvar reverseKeywords = {};\n\tfor (var key in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(key)) {\n\t\t\treverseKeywords[cssKeywords[key]] = key;\n\t\t}\n\t}\n\n\tvar convert = module.exports = {\n\t\trgb: {channels: 3, labels: 'rgb'},\n\t\thsl: {channels: 3, labels: 'hsl'},\n\t\thsv: {channels: 3, labels: 'hsv'},\n\t\thwb: {channels: 3, labels: 'hwb'},\n\t\tcmyk: {channels: 4, labels: 'cmyk'},\n\t\txyz: {channels: 3, labels: 'xyz'},\n\t\tlab: {channels: 3, labels: 'lab'},\n\t\tlch: {channels: 3, labels: 'lch'},\n\t\thex: {channels: 1, labels: ['hex']},\n\t\tkeyword: {channels: 1, labels: ['keyword']},\n\t\tansi16: {channels: 1, labels: ['ansi16']},\n\t\tansi256: {channels: 1, labels: ['ansi256']},\n\t\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\t\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\t\tgray: {channels: 1, labels: ['gray']}\n\t};\n\n\t// hide .channels and .labels properties\n\tfor (var model in convert) {\n\t\tif (convert.hasOwnProperty(model)) {\n\t\t\tif (!('channels' in convert[model])) {\n\t\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t\t}\n\n\t\t\tif (!('labels' in convert[model])) {\n\t\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t\t}\n\n\t\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t\t}\n\n\t\t\tvar channels = convert[model].channels;\n\t\t\tvar labels = convert[model].labels;\n\t\t\tdelete convert[model].channels;\n\t\t\tdelete convert[model].labels;\n\t\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t\t}\n\t}\n\n\tconvert.rgb.hsl = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar min = Math.min(r, g, b);\n\t\tvar max = Math.max(r, g, b);\n\t\tvar delta = max - min;\n\t\tvar h;\n\t\tvar s;\n\t\tvar l;\n\n\t\tif (max === min) {\n\t\t\th = 0;\n\t\t} else if (r === max) {\n\t\t\th = (g - b) / delta;\n\t\t} else if (g === max) {\n\t\t\th = 2 + (b - r) / delta;\n\t\t} else if (b === max) {\n\t\t\th = 4 + (r - g) / delta;\n\t\t}\n\n\t\th = Math.min(h * 60, 360);\n\n\t\tif (h < 0) {\n\t\t\th += 360;\n\t\t}\n\n\t\tl = (min + max) / 2;\n\n\t\tif (max === min) {\n\t\t\ts = 0;\n\t\t} else if (l <= 0.5) {\n\t\t\ts = delta / (max + min);\n\t\t} else {\n\t\t\ts = delta / (2 - max - min);\n\t\t}\n\n\t\treturn [h, s * 100, l * 100];\n\t};\n\n\tconvert.rgb.hsv = function (rgb) {\n\t\tvar rdif;\n\t\tvar gdif;\n\t\tvar bdif;\n\t\tvar h;\n\t\tvar s;\n\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar v = Math.max(r, g, b);\n\t\tvar diff = v - Math.min(r, g, b);\n\t\tvar diffc = function (c) {\n\t\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t\t};\n\n\t\tif (diff === 0) {\n\t\t\th = s = 0;\n\t\t} else {\n\t\t\ts = diff / v;\n\t\t\trdif = diffc(r);\n\t\t\tgdif = diffc(g);\n\t\t\tbdif = diffc(b);\n\n\t\t\tif (r === v) {\n\t\t\t\th = bdif - gdif;\n\t\t\t} else if (g === v) {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\t\t\t} else if (b === v) {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\t\t\t}\n\t\t\tif (h < 0) {\n\t\t\t\th += 1;\n\t\t\t} else if (h > 1) {\n\t\t\t\th -= 1;\n\t\t\t}\n\t\t}\n\n\t\treturn [\n\t\t\th * 360,\n\t\t\ts * 100,\n\t\t\tv * 100\n\t\t];\n\t};\n\n\tconvert.rgb.hwb = function (rgb) {\n\t\tvar r = rgb[0];\n\t\tvar g = rgb[1];\n\t\tvar b = rgb[2];\n\t\tvar h = convert.rgb.hsl(rgb)[0];\n\t\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\t\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\t\treturn [h, w * 100, b * 100];\n\t};\n\n\tconvert.rgb.cmyk = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar c;\n\t\tvar m;\n\t\tvar y;\n\t\tvar k;\n\n\t\tk = Math.min(1 - r, 1 - g, 1 - b);\n\t\tc = (1 - r - k) / (1 - k) || 0;\n\t\tm = (1 - g - k) / (1 - k) || 0;\n\t\ty = (1 - b - k) / (1 - k) || 0;\n\n\t\treturn [c * 100, m * 100, y * 100, k * 100];\n\t};\n\n\t/**\n\t * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t * */\n\tfunction comparativeDistance(x, y) {\n\t\treturn (\n\t\t\tMath.pow(x[0] - y[0], 2) +\n\t\t\tMath.pow(x[1] - y[1], 2) +\n\t\t\tMath.pow(x[2] - y[2], 2)\n\t\t);\n\t}\n\n\tconvert.rgb.keyword = function (rgb) {\n\t\tvar reversed = reverseKeywords[rgb];\n\t\tif (reversed) {\n\t\t\treturn reversed;\n\t\t}\n\n\t\tvar currentClosestDistance = Infinity;\n\t\tvar currentClosestKeyword;\n\n\t\tfor (var keyword in cssKeywords) {\n\t\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t\t// Compute comparative distance\n\t\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t\t// Check if its less, if so set as closest\n\t\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn currentClosestKeyword;\n\t};\n\n\tconvert.keyword.rgb = function (keyword) {\n\t\treturn cssKeywords[keyword];\n\t};\n\n\tconvert.rgb.xyz = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\n\t\t// assume sRGB\n\t\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\t\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\t\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\t\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\t\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\t\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\t\treturn [x * 100, y * 100, z * 100];\n\t};\n\n\tconvert.rgb.lab = function (rgb) {\n\t\tvar xyz = convert.rgb.xyz(rgb);\n\t\tvar x = xyz[0];\n\t\tvar y = xyz[1];\n\t\tvar z = xyz[2];\n\t\tvar l;\n\t\tvar a;\n\t\tvar b;\n\n\t\tx /= 95.047;\n\t\ty /= 100;\n\t\tz /= 108.883;\n\n\t\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\t\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\t\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\t\tl = (116 * y) - 16;\n\t\ta = 500 * (x - y);\n\t\tb = 200 * (y - z);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.hsl.rgb = function (hsl) {\n\t\tvar h = hsl[0] / 360;\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar t1;\n\t\tvar t2;\n\t\tvar t3;\n\t\tvar rgb;\n\t\tvar val;\n\n\t\tif (s === 0) {\n\t\t\tval = l * 255;\n\t\t\treturn [val, val, val];\n\t\t}\n\n\t\tif (l < 0.5) {\n\t\t\tt2 = l * (1 + s);\n\t\t} else {\n\t\t\tt2 = l + s - l * s;\n\t\t}\n\n\t\tt1 = 2 * l - t2;\n\n\t\trgb = [0, 0, 0];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\t\tif (t3 < 0) {\n\t\t\t\tt3++;\n\t\t\t}\n\t\t\tif (t3 > 1) {\n\t\t\t\tt3--;\n\t\t\t}\n\n\t\t\tif (6 * t3 < 1) {\n\t\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t\t} else if (2 * t3 < 1) {\n\t\t\t\tval = t2;\n\t\t\t} else if (3 * t3 < 2) {\n\t\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t\t} else {\n\t\t\t\tval = t1;\n\t\t\t}\n\n\t\t\trgb[i] = val * 255;\n\t\t}\n\n\t\treturn rgb;\n\t};\n\n\tconvert.hsl.hsv = function (hsl) {\n\t\tvar h = hsl[0];\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar smin = s;\n\t\tvar lmin = Math.max(l, 0.01);\n\t\tvar sv;\n\t\tvar v;\n\n\t\tl *= 2;\n\t\ts *= (l <= 1) ? l : 2 - l;\n\t\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\t\tv = (l + s) / 2;\n\t\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\t\treturn [h, sv * 100, v * 100];\n\t};\n\n\tconvert.hsv.rgb = function (hsv) {\n\t\tvar h = hsv[0] / 60;\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\t\tvar hi = Math.floor(h) % 6;\n\n\t\tvar f = h - Math.floor(h);\n\t\tvar p = 255 * v * (1 - s);\n\t\tvar q = 255 * v * (1 - (s * f));\n\t\tvar t = 255 * v * (1 - (s * (1 - f)));\n\t\tv *= 255;\n\n\t\tswitch (hi) {\n\t\t\tcase 0:\n\t\t\t\treturn [v, t, p];\n\t\t\tcase 1:\n\t\t\t\treturn [q, v, p];\n\t\t\tcase 2:\n\t\t\t\treturn [p, v, t];\n\t\t\tcase 3:\n\t\t\t\treturn [p, q, v];\n\t\t\tcase 4:\n\t\t\t\treturn [t, p, v];\n\t\t\tcase 5:\n\t\t\t\treturn [v, p, q];\n\t\t}\n\t};\n\n\tconvert.hsv.hsl = function (hsv) {\n\t\tvar h = hsv[0];\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\t\tvar vmin = Math.max(v, 0.01);\n\t\tvar lmin;\n\t\tvar sl;\n\t\tvar l;\n\n\t\tl = (2 - s) * v;\n\t\tlmin = (2 - s) * vmin;\n\t\tsl = s * vmin;\n\t\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\t\tsl = sl || 0;\n\t\tl /= 2;\n\n\t\treturn [h, sl * 100, l * 100];\n\t};\n\n\t// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\n\tconvert.hwb.rgb = function (hwb) {\n\t\tvar h = hwb[0] / 360;\n\t\tvar wh = hwb[1] / 100;\n\t\tvar bl = hwb[2] / 100;\n\t\tvar ratio = wh + bl;\n\t\tvar i;\n\t\tvar v;\n\t\tvar f;\n\t\tvar n;\n\n\t\t// wh + bl cant be > 1\n\t\tif (ratio > 1) {\n\t\t\twh /= ratio;\n\t\t\tbl /= ratio;\n\t\t}\n\n\t\ti = Math.floor(6 * h);\n\t\tv = 1 - bl;\n\t\tf = 6 * h - i;\n\n\t\tif ((i & 0x01) !== 0) {\n\t\t\tf = 1 - f;\n\t\t}\n\n\t\tn = wh + f * (v - wh); // linear interpolation\n\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\t\tswitch (i) {\n\t\t\tdefault:\n\t\t\tcase 6:\n\t\t\tcase 0: r = v; g = n; b = wh; break;\n\t\t\tcase 1: r = n; g = v; b = wh; break;\n\t\t\tcase 2: r = wh; g = v; b = n; break;\n\t\t\tcase 3: r = wh; g = n; b = v; break;\n\t\t\tcase 4: r = n; g = wh; b = v; break;\n\t\t\tcase 5: r = v; g = wh; b = n; break;\n\t\t}\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.cmyk.rgb = function (cmyk) {\n\t\tvar c = cmyk[0] / 100;\n\t\tvar m = cmyk[1] / 100;\n\t\tvar y = cmyk[2] / 100;\n\t\tvar k = cmyk[3] / 100;\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\n\t\tr = 1 - Math.min(1, c * (1 - k) + k);\n\t\tg = 1 - Math.min(1, m * (1 - k) + k);\n\t\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.xyz.rgb = function (xyz) {\n\t\tvar x = xyz[0] / 100;\n\t\tvar y = xyz[1] / 100;\n\t\tvar z = xyz[2] / 100;\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\n\t\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\t\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\t\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t\t// assume sRGB\n\t\tr = r > 0.0031308\n\t\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t\t: r * 12.92;\n\n\t\tg = g > 0.0031308\n\t\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t\t: g * 12.92;\n\n\t\tb = b > 0.0031308\n\t\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t\t: b * 12.92;\n\n\t\tr = Math.min(Math.max(0, r), 1);\n\t\tg = Math.min(Math.max(0, g), 1);\n\t\tb = Math.min(Math.max(0, b), 1);\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.xyz.lab = function (xyz) {\n\t\tvar x = xyz[0];\n\t\tvar y = xyz[1];\n\t\tvar z = xyz[2];\n\t\tvar l;\n\t\tvar a;\n\t\tvar b;\n\n\t\tx /= 95.047;\n\t\ty /= 100;\n\t\tz /= 108.883;\n\n\t\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\t\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\t\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\t\tl = (116 * y) - 16;\n\t\ta = 500 * (x - y);\n\t\tb = 200 * (y - z);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.lab.xyz = function (lab) {\n\t\tvar l = lab[0];\n\t\tvar a = lab[1];\n\t\tvar b = lab[2];\n\t\tvar x;\n\t\tvar y;\n\t\tvar z;\n\n\t\ty = (l + 16) / 116;\n\t\tx = a / 500 + y;\n\t\tz = y - b / 200;\n\n\t\tvar y2 = Math.pow(y, 3);\n\t\tvar x2 = Math.pow(x, 3);\n\t\tvar z2 = Math.pow(z, 3);\n\t\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\t\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\t\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\t\tx *= 95.047;\n\t\ty *= 100;\n\t\tz *= 108.883;\n\n\t\treturn [x, y, z];\n\t};\n\n\tconvert.lab.lch = function (lab) {\n\t\tvar l = lab[0];\n\t\tvar a = lab[1];\n\t\tvar b = lab[2];\n\t\tvar hr;\n\t\tvar h;\n\t\tvar c;\n\n\t\thr = Math.atan2(b, a);\n\t\th = hr * 360 / 2 / Math.PI;\n\n\t\tif (h < 0) {\n\t\t\th += 360;\n\t\t}\n\n\t\tc = Math.sqrt(a * a + b * b);\n\n\t\treturn [l, c, h];\n\t};\n\n\tconvert.lch.lab = function (lch) {\n\t\tvar l = lch[0];\n\t\tvar c = lch[1];\n\t\tvar h = lch[2];\n\t\tvar a;\n\t\tvar b;\n\t\tvar hr;\n\n\t\thr = h / 360 * 2 * Math.PI;\n\t\ta = c * Math.cos(hr);\n\t\tb = c * Math.sin(hr);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.rgb.ansi16 = function (args) {\n\t\tvar r = args[0];\n\t\tvar g = args[1];\n\t\tvar b = args[2];\n\t\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\t\tvalue = Math.round(value / 50);\n\n\t\tif (value === 0) {\n\t\t\treturn 30;\n\t\t}\n\n\t\tvar ansi = 30\n\t\t\t+ ((Math.round(b / 255) << 2)\n\t\t\t| (Math.round(g / 255) << 1)\n\t\t\t| Math.round(r / 255));\n\n\t\tif (value === 2) {\n\t\t\tansi += 60;\n\t\t}\n\n\t\treturn ansi;\n\t};\n\n\tconvert.hsv.ansi16 = function (args) {\n\t\t// optimization here; we already know the value and don't need to get\n\t\t// it converted for us.\n\t\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n\t};\n\n\tconvert.rgb.ansi256 = function (args) {\n\t\tvar r = args[0];\n\t\tvar g = args[1];\n\t\tvar b = args[2];\n\n\t\t// we use the extended greyscale palette here, with the exception of\n\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\tif (r === g && g === b) {\n\t\t\tif (r < 8) {\n\t\t\t\treturn 16;\n\t\t\t}\n\n\t\t\tif (r > 248) {\n\t\t\t\treturn 231;\n\t\t\t}\n\n\t\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t\t}\n\n\t\tvar ansi = 16\n\t\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t\t+ Math.round(b / 255 * 5);\n\n\t\treturn ansi;\n\t};\n\n\tconvert.ansi16.rgb = function (args) {\n\t\tvar color = args % 10;\n\n\t\t// handle greyscale\n\t\tif (color === 0 || color === 7) {\n\t\t\tif (args > 50) {\n\t\t\t\tcolor += 3.5;\n\t\t\t}\n\n\t\t\tcolor = color / 10.5 * 255;\n\n\t\t\treturn [color, color, color];\n\t\t}\n\n\t\tvar mult = (~~(args > 50) + 1) * 0.5;\n\t\tvar r = ((color & 1) * mult) * 255;\n\t\tvar g = (((color >> 1) & 1) * mult) * 255;\n\t\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.ansi256.rgb = function (args) {\n\t\t// handle greyscale\n\t\tif (args >= 232) {\n\t\t\tvar c = (args - 232) * 10 + 8;\n\t\t\treturn [c, c, c];\n\t\t}\n\n\t\targs -= 16;\n\n\t\tvar rem;\n\t\tvar r = Math.floor(args / 36) / 5 * 255;\n\t\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\t\tvar b = (rem % 6) / 5 * 255;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.rgb.hex = function (args) {\n\t\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t\t+ (Math.round(args[2]) & 0xFF);\n\n\t\tvar string = integer.toString(16).toUpperCase();\n\t\treturn '000000'.substring(string.length) + string;\n\t};\n\n\tconvert.hex.rgb = function (args) {\n\t\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\t\tif (!match) {\n\t\t\treturn [0, 0, 0];\n\t\t}\n\n\t\tvar colorString = match[0];\n\n\t\tif (match[0].length === 3) {\n\t\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\t\treturn char + char;\n\t\t\t}).join('');\n\t\t}\n\n\t\tvar integer = parseInt(colorString, 16);\n\t\tvar r = (integer >> 16) & 0xFF;\n\t\tvar g = (integer >> 8) & 0xFF;\n\t\tvar b = integer & 0xFF;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.rgb.hcg = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar max = Math.max(Math.max(r, g), b);\n\t\tvar min = Math.min(Math.min(r, g), b);\n\t\tvar chroma = (max - min);\n\t\tvar grayscale;\n\t\tvar hue;\n\n\t\tif (chroma < 1) {\n\t\t\tgrayscale = min / (1 - chroma);\n\t\t} else {\n\t\t\tgrayscale = 0;\n\t\t}\n\n\t\tif (chroma <= 0) {\n\t\t\thue = 0;\n\t\t} else\n\t\tif (max === r) {\n\t\t\thue = ((g - b) / chroma) % 6;\n\t\t} else\n\t\tif (max === g) {\n\t\t\thue = 2 + (b - r) / chroma;\n\t\t} else {\n\t\t\thue = 4 + (r - g) / chroma + 4;\n\t\t}\n\n\t\thue /= 6;\n\t\thue %= 1;\n\n\t\treturn [hue * 360, chroma * 100, grayscale * 100];\n\t};\n\n\tconvert.hsl.hcg = function (hsl) {\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar c = 1;\n\t\tvar f = 0;\n\n\t\tif (l < 0.5) {\n\t\t\tc = 2.0 * s * l;\n\t\t} else {\n\t\t\tc = 2.0 * s * (1.0 - l);\n\t\t}\n\n\t\tif (c < 1.0) {\n\t\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t\t}\n\n\t\treturn [hsl[0], c * 100, f * 100];\n\t};\n\n\tconvert.hsv.hcg = function (hsv) {\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\n\t\tvar c = s * v;\n\t\tvar f = 0;\n\n\t\tif (c < 1.0) {\n\t\t\tf = (v - c) / (1 - c);\n\t\t}\n\n\t\treturn [hsv[0], c * 100, f * 100];\n\t};\n\n\tconvert.hcg.rgb = function (hcg) {\n\t\tvar h = hcg[0] / 360;\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tif (c === 0.0) {\n\t\t\treturn [g * 255, g * 255, g * 255];\n\t\t}\n\n\t\tvar pure = [0, 0, 0];\n\t\tvar hi = (h % 1) * 6;\n\t\tvar v = hi % 1;\n\t\tvar w = 1 - v;\n\t\tvar mg = 0;\n\n\t\tswitch (Math.floor(hi)) {\n\t\t\tcase 0:\n\t\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t\tcase 1:\n\t\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t\tcase 2:\n\t\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t\tcase 3:\n\t\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t\tcase 4:\n\t\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t\tdefault:\n\t\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\n\t\tmg = (1.0 - c) * g;\n\n\t\treturn [\n\t\t\t(c * pure[0] + mg) * 255,\n\t\t\t(c * pure[1] + mg) * 255,\n\t\t\t(c * pure[2] + mg) * 255\n\t\t];\n\t};\n\n\tconvert.hcg.hsv = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tvar v = c + g * (1.0 - c);\n\t\tvar f = 0;\n\n\t\tif (v > 0.0) {\n\t\t\tf = c / v;\n\t\t}\n\n\t\treturn [hcg[0], f * 100, v * 100];\n\t};\n\n\tconvert.hcg.hsl = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tvar l = g * (1.0 - c) + 0.5 * c;\n\t\tvar s = 0;\n\n\t\tif (l > 0.0 && l < 0.5) {\n\t\t\ts = c / (2 * l);\n\t\t} else\n\t\tif (l >= 0.5 && l < 1.0) {\n\t\t\ts = c / (2 * (1 - l));\n\t\t}\n\n\t\treturn [hcg[0], s * 100, l * 100];\n\t};\n\n\tconvert.hcg.hwb = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\t\tvar v = c + g * (1.0 - c);\n\t\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n\t};\n\n\tconvert.hwb.hcg = function (hwb) {\n\t\tvar w = hwb[1] / 100;\n\t\tvar b = hwb[2] / 100;\n\t\tvar v = 1 - b;\n\t\tvar c = v - w;\n\t\tvar g = 0;\n\n\t\tif (c < 1) {\n\t\t\tg = (v - c) / (1 - c);\n\t\t}\n\n\t\treturn [hwb[0], c * 100, g * 100];\n\t};\n\n\tconvert.apple.rgb = function (apple) {\n\t\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n\t};\n\n\tconvert.rgb.apple = function (rgb) {\n\t\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n\t};\n\n\tconvert.gray.rgb = function (args) {\n\t\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n\t};\n\n\tconvert.gray.hsl = convert.gray.hsv = function (args) {\n\t\treturn [0, 0, args[0]];\n\t};\n\n\tconvert.gray.hwb = function (gray) {\n\t\treturn [0, 100, gray[0]];\n\t};\n\n\tconvert.gray.cmyk = function (gray) {\n\t\treturn [0, 0, 0, gray[0]];\n\t};\n\n\tconvert.gray.lab = function (gray) {\n\t\treturn [gray[0], 0, 0];\n\t};\n\n\tconvert.gray.hex = function (gray) {\n\t\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\t\tvar integer = (val << 16) + (val << 8) + val;\n\n\t\tvar string = integer.toString(16).toUpperCase();\n\t\treturn '000000'.substring(string.length) + string;\n\t};\n\n\tconvert.rgb.gray = function (rgb) {\n\t\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\t\treturn [val / 255 * 100];\n\t};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar conversions = __webpack_require__(10);\n\n\t/*\n\t\tthis function routes a model to all other models.\n\n\t\tall functions that are routed have a property `.conversion` attached\n\t\tto the returned synthetic function. This property is an array\n\t\tof strings, each with the steps in between the 'from' and 'to'\n\t\tcolor models (inclusive).\n\n\t\tconversions that are not possible simply are not included.\n\t*/\n\n\tfunction buildGraph() {\n\t\tvar graph = {};\n\t\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\t\tvar models = Object.keys(conversions);\n\n\t\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\t\tgraph[models[i]] = {\n\t\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t\t// micro-opt, but this is simple.\n\t\t\t\tdistance: -1,\n\t\t\t\tparent: null\n\t\t\t};\n\t\t}\n\n\t\treturn graph;\n\t}\n\n\t// https://en.wikipedia.org/wiki/Breadth-first_search\n\tfunction deriveBFS(fromModel) {\n\t\tvar graph = buildGraph();\n\t\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\t\tgraph[fromModel].distance = 0;\n\n\t\twhile (queue.length) {\n\t\t\tvar current = queue.pop();\n\t\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\t\tvar adjacent = adjacents[i];\n\t\t\t\tvar node = graph[adjacent];\n\n\t\t\t\tif (node.distance === -1) {\n\t\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\t\tnode.parent = current;\n\t\t\t\t\tqueue.unshift(adjacent);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn graph;\n\t}\n\n\tfunction link(from, to) {\n\t\treturn function (args) {\n\t\t\treturn to(from(args));\n\t\t};\n\t}\n\n\tfunction wrapConversion(toModel, graph) {\n\t\tvar path = [graph[toModel].parent, toModel];\n\t\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\t\tvar cur = graph[toModel].parent;\n\t\twhile (graph[cur].parent) {\n\t\t\tpath.unshift(graph[cur].parent);\n\t\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\t\tcur = graph[cur].parent;\n\t\t}\n\n\t\tfn.conversion = path;\n\t\treturn fn;\n\t}\n\n\tmodule.exports = function (fromModel) {\n\t\tvar graph = deriveBFS(fromModel);\n\t\tvar conversion = {};\n\n\t\tvar models = Object.keys(graph);\n\t\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\t\tvar toModel = models[i];\n\t\t\tvar node = graph[toModel];\n\n\t\t\tif (node.parent === null) {\n\t\t\t\t// no possible conversion, or this node is the source model.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t\t}\n\n\t\treturn conversion;\n\t};\n\n\n\n/***/ })\n/******/ ])\n});\n;","export const GLOBAL_PIXI_DTA_PROPERTY_KEY = \"__pixi-dom-dynamic-texture-atlas\";\r\n\r\nexport type ValidMeasurement = {\r\n    value: number,\r\n    type: string, // percent or pixel\r\n}\r\n\r\nexport type FlexOptions = {\r\n    flexDirection?: FlexDirection,\r\n    flexWrap?: FlexWrap,\r\n    justifyContent?: JustifyContent,\r\n}\r\n\r\nexport enum JustifyContent {\r\n    flexStart = \"flex-start\",\r\n    flexEnd = \"flex-end\",\r\n    center = \"center\",\r\n    spaceBetween = \"spaceBetween\",\r\n    spaceAround = \"spaceAround\",\r\n    spaceEvenly = \"spaceEvenly\",\r\n}\r\n\r\nexport enum FlexDirection {\r\n    row = \"row\",\r\n    row_reverse = \"row-reverse\",\r\n    column = \"column\",\r\n    column_reverse = \"column-reverse\"\r\n}\r\n\r\nexport enum FlexWrap {\r\n    nowrap = \"nowrap\",\r\n    wrap = \"wrap\",\r\n    wrap_reverse = \"wrap-reverse\"\r\n}\r\n\r\nexport type InputStyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    cursorHeight: ValidMeasurement,\r\n    cursorWidth: number,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor: number,\r\n    highlightedFontColor: number,\r\n    cursorColor: number,\r\n    backgroundColor: number,\r\n    highlightedBackgroundColor: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n}\r\n\r\nexport type InputStyleOptionsParams = {\r\n    width?: number | string,\r\n    height?: number | string,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor?: number,\r\n    highlightedFontColor?: number,\r\n    cursorColor?: number,\r\n    cursorHeight?: number | string,\r\n    cursorWidth: number,\r\n    backgroundColor?: number,\r\n    highlightedBackgroundColor?: number,\r\n    borderOpacity?: number,\r\n    xPadding?: number,\r\n    yPadding?: number,\r\n}\r\n\r\nexport type LabelOptions = {\r\n    onLabel: string,\r\n    onColor: number,\r\n    offLabel: string,\r\n    offColor: number,\r\n    fontName: string,\r\n}\r\n\r\nexport enum AnimationType {\r\n    LINEAR = 'linear',\r\n    QUADRATIC = 'quadtratic',\r\n    CUBIC = 'cubic',\r\n    QUARTIC = \"quartic\",\r\n    QUINTIC = \"quintic\",\r\n    SINUSOIDAL = \"sinusoidal\",\r\n    EXPONENTIAL = \"exponential\",\r\n    CIRCULAR = \"circular\",\r\n    ELASTIC = \"elastic\",\r\n    BACK = \"back\",\r\n}\r\n\r\nexport type AnimationOptions = {\r\n    type: AnimationType,\r\n    duration: number,\r\n    exclude?: Array<string>\r\n}\r\n\r\nexport enum ToggleAnimationExclusions {\r\n    background = 'background',\r\n    circle_color = 'circle_color',\r\n    circle_position = 'circle_position',\r\n    label = 'label',\r\n}\r\n\r\nexport type OutlineOptions = {\r\n    width: number,\r\n    color: number,\r\n}\r\n\r\nexport type ToggleOptions = {\r\n    width: number,\r\n    height: number,\r\n    borderRadius: number,\r\n    onCircleColor: number,\r\n    offCircleColor: number,\r\n    onBackgroundColor: number,\r\n    offBackgroundColor: number,\r\n    onToggleColor: number,\r\n    offToggleColor: number,\r\n    backgroundOutline?: OutlineOptions,\r\n    labelOptions?: LabelOptions,\r\n    animationOptions?: AnimationOptions,\r\n}\r\n","import { ValidMeasurement } from \"../types\";\r\nimport {parseLengthMeasurements} from \"../utils\";\r\nimport {StyleOptionsParams} from \"./TextInput/TextField\";\r\n\r\nimport { PixiElement } from \"../Element\";\r\n\r\nexport interface ButtonStyleStateOptions {\r\n    width?: number,\r\n    height?: number,\r\n    textColor?: number,\r\n    backgroundTexture?: PIXI.Texture,\r\n    backgroundOpacity?: number,\r\n    backgroundColor?: number,\r\n    borderColor?: number,\r\n    borderWidth?: number,\r\n    borderOpacity?: number,\r\n    borderRadius?: number,\r\n}\r\n\r\nexport interface ButtonStyleOptions {\r\n    useBitmapText: boolean,\r\n    fontSize?: number,\r\n    defaultStyle: ButtonStyleStateOptions,\r\n    hoverStyle?: ButtonStyleStateOptions,\r\n    pressedStyle?: ButtonStyleStateOptions,\r\n    font: string,\r\n}\r\n\r\nconst stateStylesToValidate = [\"hoverStyle\", \"defaultStyle\", \"pressedStyle\"];\r\n\r\nenum BtnState {\r\n    NONE,\r\n    HOVER,\r\n    PRESSED,\r\n}\r\n\r\nexport class Button extends PixiElement {\r\n    private _text: string;\r\n    private bitmapTxtSprite: PIXI.extras.BitmapText;\r\n    private txtSprite: PIXI.Text;\r\n    private bgGraphic: PIXI.Graphics;\r\n    private bgSprite: PIXI.Sprite;\r\n    private styleOptions: ButtonStyleOptions = { defaultStyle: {}, font: '', useBitmapText: true };\r\n    private _currentStyleState: ButtonStyleStateOptions;\r\n    private _btnState: BtnState = BtnState.NONE;\r\n    constructor(text: string, styleOptions: ButtonStyleOptions) {\r\n        super();\r\n        this._text = text;\r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n        this.on('pointerdown', () => this.btnState = BtnState.PRESSED);\r\n        this.on('pointerup', () => this.btnState = BtnState.NONE);\r\n        this.on('pointerupoutside', () => this.btnState = BtnState.NONE);\r\n        this.on('pointerover', () => this.btnState = BtnState.HOVER);\r\n        this.on('pointerout', () => this.btnState = BtnState.NONE);\r\n        this.updateStyle(styleOptions);\r\n    }\r\n\r\n    set btnState(newState) {\r\n        if(newState !== this._btnState) {\r\n            this._btnState = newState;\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    set text(value) {\r\n        this._text = value;\r\n        this.redrawText();\r\n    }\r\n\r\n    public updateStyle(styleOptions: ButtonStyleOptions) {\r\n        Object.keys(styleOptions).forEach(key => {\r\n            this.styleOptions[key] = styleOptions[key];\r\n        });\r\n        this.styleOptions.useBitmapText = this.styleOptions.useBitmapText || false;\r\n        this.redraw();\r\n    }\r\n\r\n    public redraw() {\r\n        this.clear();\r\n        this.redrawBg();\r\n        this.redrawText();\r\n    }\r\n\r\n\r\n    public redrawText() {\r\n        let sprite;\r\n        if(this.styleOptions.useBitmapText) {\r\n            if(!this.bitmapTxtSprite) {\r\n                this.bitmapTxtSprite = new PIXI.extras.BitmapText('', {font: this.styleOptions.font, align: 'center'});\r\n            }\r\n            if(this.txtSprite) {\r\n                this.txtSprite.destroy();\r\n                this.txtSprite = null;\r\n            }\r\n            this.bitmapTxtSprite.maxWidth = this.width;\r\n            sprite = this.bitmapTxtSprite;\r\n        } else {\r\n            if(!this.txtSprite) {\r\n                this.txtSprite = new PIXI.Text('', {fontFamily: this.styleOptions.font, align: 'center'});\r\n            }\r\n            if(this.styleOptions.fontSize) {\r\n                this.txtSprite.style.fontSize = this.styleOptions.fontSize;\r\n            }\r\n            if(this.bitmapTxtSprite) {\r\n                this.bitmapTxtSprite.destroy({ children: true });\r\n                this.bitmapTxtSprite = null;\r\n            }\r\n            sprite = this.txtSprite;\r\n        }\r\n        if(this.currentStyleState.textColor || this.currentStyleState.textColor == 0) {\r\n            if(this.styleOptions.useBitmapText) {\r\n                this.bitmapTxtSprite.tint = this.currentStyleState.textColor;\r\n            } else {\r\n                this.txtSprite.style.fill = this.currentStyleState.textColor\r\n            }\r\n        }\r\n        if(!sprite.parent) {\r\n            this.addChild(sprite);\r\n        }\r\n        sprite.text = this._text;\r\n        sprite.x = this.currentStyleState.width / 2 - sprite.width / 2;\r\n        sprite.y = this.currentStyleState.height / 2 - sprite.height / 2;\r\n    }\r\n\r\n    get textSpriteUtilized() {\r\n        if(this.styleOptions.useBitmapText) return this.bitmapTxtSprite;\r\n        return this.txtSprite;\r\n    }\r\n\r\n    public redrawBg() {\r\n        let {backgroundColor, borderRadius, borderColor, borderWidth, width, height, backgroundTexture, backgroundOpacity, borderOpacity} = this.currentStyleState;\r\n        if(backgroundColor || backgroundColor == 0) {\r\n            if(!this.bgGraphic) {\r\n                this.bgGraphic = new PIXI.Graphics();\r\n            } else {\r\n                this.bgGraphic.clear();\r\n            }\r\n            if(!this.bgGraphic.parent) {\r\n                this.addChild(this.bgGraphic);\r\n            }\r\n            backgroundOpacity = backgroundOpacity || backgroundOpacity == 0 ? backgroundOpacity : 1;\r\n            this.bgGraphic.beginFill(backgroundColor, backgroundOpacity);\r\n            if(borderWidth) {\r\n                borderOpacity = borderOpacity || borderOpacity == 0 ? borderOpacity : 1;\r\n                this.bgGraphic.lineStyle(borderWidth, borderColor, borderOpacity);\r\n            }\r\n\r\n            if(borderRadius) {\r\n                const computedBorderRadius =  borderRadius / 100 * height;\r\n                this.bgGraphic.drawRoundedRect(0, 0, width, height, computedBorderRadius);\r\n            } else {\r\n                this.bgGraphic.drawRect(0, 0, width, height);\r\n            }\r\n            this.bgGraphic.endFill();\r\n        }\r\n\r\n        if(backgroundTexture) {\r\n            if(!this.bgSprite) {\r\n                this.bgSprite = new PIXI.Sprite();\r\n            }\r\n            if(!this.bgSprite.parent) {\r\n                this.addChild(this.bgGraphic);\r\n            }\r\n            this.bgSprite.texture = backgroundTexture;\r\n            this.bgSprite.x = width / 2 - this.bgSprite.x / 2;\r\n            this.bgSprite.y = height / 2 - this.bgSprite.y / 2;\r\n        }\r\n        this.hitArea = new PIXI.Rectangle(0, 0, width, height);\r\n    }\r\n\r\n    private clear() {\r\n        if(this.textSpriteUtilized) {\r\n            this.removeChild(this.textSpriteUtilized);\r\n            this.textSpriteUtilized.destroy({ children: true });\r\n            this.bitmapTxtSprite = null;\r\n            this.txtSprite = null;\r\n        }\r\n        if(this.bgGraphic) {\r\n            this.removeChild(this.bgGraphic);\r\n            this.bgGraphic.destroy();\r\n            this.bgGraphic = null;\r\n        }\r\n        if(this.bgSprite) {\r\n            this.removeChild(this.bgSprite);\r\n            this.bgSprite.destroy();\r\n            this.bgSprite = null;\r\n        }\r\n    }\r\n\r\n    get currentStyleState() {\r\n        switch(this._btnState) {\r\n            case BtnState.NONE:\r\n                return this.styleOptions.defaultStyle;\r\n                break;\r\n            case BtnState.HOVER:\r\n                return this.styleOptions.hoverStyle ? this.styleOptions.hoverStyle : this.styleOptions.defaultStyle;\r\n                break;\r\n            case BtnState.PRESSED:\r\n                // cascade to check if we have pressedStyle defined, if so use it, otherwise use hover, otherwise use default\r\n                return this.styleOptions.pressedStyle ? this.styleOptions.pressedStyle :\r\n                    this.styleOptions.hoverStyle ? this.styleOptions.hoverStyle :\r\n                        this.styleOptions.defaultStyle;\r\n                break;\r\n        }\r\n    }\r\n}"],"sourceRoot":""}