{"version":3,"sources":["webpack://PIXI_DOM/webpack/universalModuleDefinition","webpack://PIXI_DOM/webpack/bootstrap","webpack://PIXI_DOM/./src/utils.ts","webpack://PIXI_DOM/./src/Element.ts","webpack://PIXI_DOM/./src/Components/ScrollList/ScrollBar.ts","webpack://PIXI_DOM/./src/index.ts","webpack://PIXI_DOM/./src/Components/TextInput/TextField.ts","webpack://PIXI_DOM/./src/mixins/KeyboardHandlers.ts","webpack://PIXI_DOM/./src/Components/ScrollList/ScrollList.ts","webpack://PIXI_DOM/./node_modules/tween-functions/index.js","webpack://PIXI_DOM/./src/Components/Toggle.ts","webpack://PIXI_DOM/./node_modules/gotti-color-tween/dist/color-tween.js","webpack://PIXI_DOM/./src/types.ts","webpack://PIXI_DOM/./src/Components/Button.ts","webpack://PIXI_DOM/./src/Components/Slider.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Number","isNaN","parseLengthMeasurements","measurement","valid","type","last2","toString","slice","charAt","parseInt","Error","err","error","message","num","min","max","string","substr","PIXI","Container","super","isMouseOver","elements","dragPosition","inDrag","pointerIsDown","_pointerdownHandler","_pointermoveHandler","_pointerupHandler","_pointerupoutsideHandler","_pointeroverHandler","_pointeroutHandler","_pointertapHandler","_doubleclickHandler","_dragmoveHandler","_dragendHandler","_dragstartHandler","_swipeupHandler","_swipedownHandler","_swipeHandler","doubleClickTimeout","completedTriggerTimeout","holdDragTriggerTime","holdDragTriggerTimeout","helddownCountHandlers","helddownTimeouts","ifDragEndEmitSwipeDistance","curDragSwipePowerIterationQueue","lastDragDistance","lastDragY","maxSwipeTimeout","minSwipeDistance","hasSwipeHandler","missedDiffs","this","_addChild","addChild","on","handler","_setEventNameHandler","timeout","console","warn","eventName","buttonMode","interactive","parent","x","width","y","height","centerX","centerY","element","Element","push","filter","e","pointerdownHandler","pointerupHandler","pointerupoutsideHandler","pointeroverHandler","pointeroutHandler","pointermoveHandler","pointertapHandler","onMouseDown","_setHeldDownHandler","hold","registerDefaultIfNeeded","dragstartHandler","dragendHandler","onDragStart","event","onDragEnd","dragmoveHandler","doubleclickHandler","onDragMove","clearTimeout","forEach","length","keys","time","setTimeout","swipeStartTs","Date","now","swipeStartY","data","global","emit","startDragY","lastDragCheckTs","delta","curDragSwiperCheckIterationDuration","currentDragY","diff","Math","abs","sign","resetDragSwipeVars","shift","dur","timeDiff","power","clearHelddownTimeouts","clearDragTimeouts","finishY","yDiff","handleSwipeFinish","repositionSelf","children","PixiElement","scrollList","options","scrolling","bg","Graphics","scroller","Scroller","scrollerOptions","redraw","registerScrollerEvents","parentTotalHeight","parentMaxHeight","maxHeight","clear","beginFill","backgroundColor","drawRect","visibleLength","onHeldDown","mouseY","getGlobalPosition","toY","clamp","emitScroll","stopPropagation","movementY","originalEvent","globalP","globalScrollY","extra","utilizedSpaceForPercent","percent","scrollBar","styleObj","rect","maxLength","ceil","color","endFill","TextField","ScrollList","ScrollBar","Toggle","Button","Slider","undefined","utils","string2hex","defaultStyleOptions","fontColor","highlightedFontColor","borderColor","borderWidth","cursorColor","cursorHeight","cursorWidth","highlightedBackgroundColor","borderOpacity","xPadding","yPadding","lengthFieldsToValidate","font","styleOptions","maxCharacterLength","ignoreKeys","cursorSprite","textbox","textboxMask","inFocus","cursorIndex","lastCursorTs","accCursorTime","toggleCursorTime","cursorIsVisible","_text","_visible","overflowOffsetX","overflowOffsetY","dragIndexStart","dragIndexEnd","submitKeyCodes","_maxCharacterLength","onFocusHandler","onBlurHandler","onChangeHandler","onSubmitHandler","onCharLimitHandler","checkForOutsideClick","oldDestroy","destroy","blur","_defaultStyleOptions","textSprite","extras","BitmapText","align","cursor","handleMouseDown","handleMouseUp","handleMouseMove","mask","updateStyle","show","includes","parsed","redrawText","redrawTextbox","redrawCursor","visible","cursorX","getCursorXFromIndex","lineStyle","round","yOffset","bottomOffset","floor","topOffset","moveTo","lineTo","getSelectedRange","range","currentCursorX","totalWidth","innerWidth","maxWidth","child","indexes","start","end","tint","totalHeight","innerHeight","_width","getLocalPosition","getCursorIndexFromX","handleRangeFinish","clickedTimestamp","timeStamp","focus","clearRange","handleRangeStart","handleRangeChange","startIndex","endIndex","index","leftChar","indexChange","newCursorIndex","text","charChild","replaceWith","replaceWithArray","split","replacedLength","textArray","getSelectedRangeIndexes","deleteCount","splice","change","join","setSelectedRange","position","left","right","array","document","addEventListener","startCursorAnimation","removeEventListener","stopCursorAnimation","removeChild","updateTransform","cursorAnimationFrame","blinkCursor","Base","args","copiedText","textStates","currentStateIndex","registerHandlers","unregisterHandlers","onCopy","onPaste","onCut","onKeyPress","onKeyDown","stateInterval","newIndex","pastedText","clipboardData","getData","newText","replaceSelectedWith","addState","preventDefault","selected","getSelectedChars","setData","code","keyCode","submit","moveCursor","removeLeftOfCursor","removeRightOfCursor","ctrlKey","shiftKey","changeStateIndex","selectAll","which","char","String","fromCharCode","tweenFunctions","defaultPerformanceOptions","disableTouchScroll","disableScrollWheelScroll","visibilityBuffer","adjustVisibilityTime","scrollStyleOptions","scrollItemOptions","scrollPerformanceOptions","scrollItemsById","po","scrollRect","scrollDuration","_currentScroll","lastScroll","pointerdownStart","startingVisibleChildIndex","endingVisibleChildIndex","scrollCurrentDur","currentAdjustVisibilityDelta","animationFrame","nextItemY","scrollToDest","listContainer","listRect","scrollLength","adjustedIndex","lastOverOption","lastDownOption","freezeScroll","_needsUpdateScoller","_registeredScrollEvent","handleScrollWheelScroll","interactiveChildren","__width","__height","performanceOptions","lastScrollY","scrollbarScroll","scrollMask","heldTimeout","registerScrollEvents","onSwipe","applySwipe","cancelAnimationFrame","tweenFunc","easeOutElastic","applyDrag","adjustVisibility","scrollBarOptions","setScrollPercent","currentScroll","deltaY","utilizedLength","once","prev","toggleFreezeScroll","freeze","container","toLocal","ax","iy","ay","w","h","adjustOptions","force","setFirstVisible","option","canSeeFromTop","canSeeFromBottom","wasVisible","ts","requestAnimationFrame","animateScroll","difference","distanceToTraverse","maxTime","easeOutCubic","absPower","scrollPercent","containers","hitArea","Rectangle","recalculateHeight","repositionOptions","addScrollItems","fromIndex","toIndex","destroyItem","indexArray","removeScrollItems","indexOrContainer","Array","isArray","indexesToRemove","foundOption","find","indexOf","opt","_containsPoint","el","point","foundChildren","recurseChildren","linear","b","_c","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","a","asin","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","ColorTween","circlePadding","isToggled","_toggled","usingLabels","backgroundColorsArrayIndex","circleColorsArrayIndex","toggleCircleTravelDistance","backgroundGraphic","borderRadius","computedBorderRadius","drawRoundedRect","labelOptions","fontName","onLabel","offLabel","onColor","offColor","onText","offText","offXDiff","offYDiff","onXDiff","circleRadius","circleGraphic","drawCircle","toggled","updateToggle","staticToggleUpdate","animationOptions","animatedToggleUpdate","onBackgroundColor","offBackgroundColor","onCircleColor","offCircleColor","val","callback","tween","update","animateToggle","colors","progress","traveledDistance","exclude","ToggleAnimationExclusions","label","activeTextLabel","inactiveTextLabel","alpha","backgroundOutline","hex","circle_position","travelToX","activeColorsArray","inactiveColorsArray","background","hex2string","activeBackgroundColor","inactiveBackgroundColor","circle_color","activeCircleColor","inactiveCircleColor","duration","easing","onUpdate","midAnimationToggleUpdate","onEnd","xPosition","circleColor","_showOnText","_showOffText","id","loaded","Easing","Color","startColorStrings","endColorStrings","startColors","map","rgb","endColors","params","updater","ender","startTime","overwrite","cb","stop","frame","frames","endColor","j","easingFunctions","reduce","acc","ease","subject","InOut","In","Out","path","found","reg","match","exec","parseName","k","quadratic","cubic","quartic","quintic","sinusoidal","exponential","circular","elastic","back","bounce","Bounce","colorString","convert","_slice","skippedModels","hashedModelKeys","model","labels","sort","limiters","obj","channels","valpha","result","newArr","zeroArray","hashedKeys","JSON","stringify","limit","getset","channel","modifier","arguments","maxfn","v","assertArray","arr","toJSON","places","self","to","concat","percentString","unitArray","unitObject","g","toFixed","roundTo","roundToPlace","red","green","blue","hue","saturationl","lightness","saturationv","chroma","gray","white","wblack","cyan","magenta","yellow","black","z","keyword","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","ratio","hsl","darken","saturate","desaturate","whiten","hwb","blacken","grayscale","fade","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","newAlpha","raw","colorNames","swizzle","reverseNames","cs","hexDouble","str","toUpperCase","substring","toLowerCase","hexAlpha","i2","parseFloat","rgba","hsla","hwba","isArrayish","results","len","arg","wrap","fn","Function","getOwnPropertyDescriptor","constructor","conversions","route","fromModel","routes","toModel","wrappedFn","conversion","wrapRounded","wrapRaw","cssKeywords","reverseKeywords","hsv","cmyk","xyz","lab","lch","ansi16","ansi256","hcg","apple","rdif","gdif","bdif","diffc","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","t1","t2","t3","smin","lmin","hi","f","q","sl","vmin","wh","bl","y2","x2","z2","atan2","hr","ansi","mult","rem","integer","mg","pure","deriveBFS","graph","models","buildGraph","queue","current","pop","adjacents","adjacent","node","unshift","link","from","wrapConversion","cur","JustifyContent","FlexDirection","FlexWrap","AnimationType","GLOBAL_PIXI_DTA_PROPERTY_KEY","BtnState","defaultStyle","useBitmapText","_btnState","NONE","btnState","PRESSED","HOVER","newState","redrawBg","sprite","bitmapTxtSprite","txtSprite","Text","fontFamily","fontSize","style","currentStyleState","textColor","fill","backgroundTexture","backgroundOpacity","bgGraphic","bgSprite","Sprite","texture","textSpriteUtilized","hoverStyle","pressedStyle","isDragging","isHovered","curOutlineWidth","lastX","resolvedScale","currentValue","startingValue","log","maxValue","minValue","redrawCircle","redrawBar","resolveScale","preventScaleAdjustment","calculateValue","scale","circleOpacity","down","hover","circleOutlineWidth","circleOutlineColor","circleOutlineOpacity","opacity","activeColor","inactiveColor","off"],"mappings":"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","file":"pixidom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PIXI_DOM\"] = factory();\n\telse\n\t\troot[\"PIXI_DOM\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","Number.isNaN = Number.isNaN || function(value) {\r\n    return typeof value === \"number\" && isNaN(value);\r\n}\r\n\r\ntype ParsedMeasurement = {\r\n    valid: boolean,\r\n    error?: string,\r\n    value?: number,\r\n    type?: string, // percent or pixel\r\n}\r\n\r\nexport const parseLengthMeasurements = function(measurement) : ParsedMeasurement {\r\n    let value: number;\r\n    if(!isNaN(measurement) && measurement != null) {\r\n        return {\r\n            valid: true,\r\n            type: 'pixel',\r\n            value: measurement\r\n        }\r\n    }\r\n    try {\r\n        const last2 = measurement.toString().slice(-2);\r\n        if(last2.charAt(1) === '%') {\r\n            value = parseInt(measurement.slice(0, -1));\r\n            if(Number.isNaN(value)) {\r\n                throw new Error('Did not find a number in front of % sign')\r\n            } else {\r\n                return {\r\n                    valid: true,\r\n                    value,\r\n                    type: 'percent'\r\n                }\r\n            }\r\n        } else if (last2 === 'px') {\r\n            value = parseInt(measurement.slice(0, -2));\r\n            if(Number.isNaN(value)) {\r\n                throw new Error('Did not find a number in front of px')\r\n            } else if(value < 0) {\r\n                throw new Error('Can not have negative pixel length value')\r\n            } else {\r\n                return {\r\n                    valid: true,\r\n                    value,\r\n                    type: 'pixel'\r\n                }\r\n            }\r\n        } else {\r\n            throw new Error('Length values must either be in % or px');\r\n        }\r\n    } catch(err) {\r\n        return { valid: false, error: err.message }\r\n    }\r\n}\r\n\r\nexport function clamp(num, min, max) {\r\n    return num <= min ? min : num >= max ? max : num;\r\n}\r\n\r\nexport function string2hex(string) {\r\n    if (typeof string === 'string' && string[0] === '#')\r\n    {\r\n        string = string.substr(1);\r\n    }\r\n    return parseInt(string, 16);\r\n}","export class PixiElement extends PIXI.Container {\r\n    public isMouseOver: Boolean = false;\r\n    private elements: Array<Element>= [];\r\n    private dragPosition = null;\r\n    inDrag: Boolean = false;\r\n    private pointerIsDown: Boolean = false;\r\n    private _pointerdownHandler: Function = null;\r\n    private _pointermoveHandler: Function = null;\r\n    private _pointerupHandler: Function = null;\r\n    private _pointerupoutsideHandler: Function = null;\r\n    private _pointeroverHandler: Function = null;\r\n    private _pointeroutHandler: Function = null;\r\n    private _pointertapHandler: Function = null;\r\n    private _doubleclickHandler: Function = null;\r\n    private _dragmoveHandler: Function = null;\r\n    private _dragendHandler: Function = null;\r\n    private _dragstartHandler: Function = null;\r\n    private _swipeupHandler: Function = null;\r\n    private _swipedownHandler: Function = null;\r\n    private _swipeHandler: Function = null;\r\n\r\n    private doubleClickTimeout: any = null;\r\n\r\n    private _addChild: Function;\r\n\r\n    private completedTriggerTimeout: boolean = null;\r\n    private holdDragTriggerTime: number = 30;\r\n    private holdDragTriggerTimeout: any = null;\r\n\r\n    private helddownCountHandlers: any = {};\r\n    private helddownTimeouts: Array<any> = [];\r\n\r\n    private ifDragEndEmitSwipeDistance: number = 0;\r\n\r\n    private swipeStartY: number;\r\n    private swipeStartTs: number;\r\n    private swipeEndY: number;\r\n\r\n\r\n    private startDragY: number;\r\n    private lastDragCheckTs: number;\r\n    private curDragSwiperCheckIterationDuration: number;\r\n    private curDragSwipePowerIterationQueue: Array<number> = [];\r\n    private lastDragDistance: number = 0;\r\n\r\n    private lastDragY: number = 0;\r\n    private dragDistanceY: number;\r\n\r\n    public maxSwipeTimeout: number = 300;\r\n    public minSwipeDistance: number = 200;\r\n\r\n    private hasSwipeHandler: boolean = false;\r\n    private missedDiffs: number = 0;\r\n    constructor() {\r\n        super();\r\n        this._addChild = super.addChild;\r\n\r\n        this.on('pointerover', () => {\r\n            this.isMouseOver = true;\r\n        });\r\n        this.on('pointerout', () => {\r\n            this.isMouseOver = false;\r\n        });\r\n    }\r\n\r\n    set pointerdownHandler(handler) { this._setEventNameHandler(\"pointerdown\", handler); }\r\n    set pointerupHandler(handler) { this._setEventNameHandler(\"pointerup\", handler); }\r\n    set pointerupoutsideHandler(handler) {  this._setEventNameHandler(\"pointerupoutside\", handler); }\r\n    set pointeroverHandler(handler) { this._setEventNameHandler(\"pointerover\", handler); }\r\n    set pointermoveHandler(handler) { this._setEventNameHandler(\"pointermove\", handler); }\r\n    set pointeroutHandler(handler) { this._setEventNameHandler(\"pointerout\", handler); }\r\n    set pointertapHandler(handler) { this._setEventNameHandler(\"pointertap\", handler); }\r\n\r\n    set doubleclickHandler(handler) { this._setEventNameHandler(\"doubleclick\", handler); }\r\n    set dragstartHandler(handler) {this._setEventNameHandler(\"dragstart\", handler);}\r\n    set dragendHandler(handler) { this._setEventNameHandler(\"dragend\", handler); }\r\n    set dragmoveHandler(handler) {this._setEventNameHandler(\"dragmove\", handler); }\r\n\r\n    private _setHeldDownHandler(handler, timeout: number) {\r\n        if(this.helddownCountHandlers[timeout]) {\r\n            console.warn('already had held down timeout for duration at', timeout, 'this will override it.')\r\n        }\r\n        this.helddownCountHandlers[timeout] = handler;\r\n    }\r\n\r\n    private _setEventNameHandler(eventName, handler) {\r\n        const currentHandler =  this[`_${eventName}Handler`];\r\n        // register private handler if we never had a user defined one\r\n        if(!currentHandler) {\r\n            this.on(eventName, this[`__${eventName}`]);\r\n        }\r\n        // set user defined handler\r\n        this[`_${eventName}Handler`] = handler;\r\n\r\n        // if button mode wasnt enabled yet, we now do so.\r\n        if(!this.buttonMode) {\r\n            this.buttonMode = true;\r\n            this.interactive = true;\r\n        }\r\n    }\r\n\r\n    public centerX() {\r\n        if(this.parent) {\r\n            this.x = this.parent.width / 2 - this.width / 2;\r\n        }\r\n    }\r\n    public centerY() {\r\n        if(this.parent) {\r\n            this.y = this.parent.height / 2 - this.height / 2;\r\n        }\r\n    }\r\n    public center() {\r\n        this.centerX();\r\n        this.centerY();\r\n    }\r\n    public addElement (element: Element) {\r\n        if(!(element instanceof Element)) {\r\n            throw new Error('addElement called with a non element object')\r\n        }\r\n        this.elements.push(element);\r\n       // super.addChild(element);\r\n    }\r\n    public removeElement(element: Element) {\r\n        this.elements = this.elements.filter(e => e !== element);\r\n     //   super.removeChild(element);\r\n    }\r\n    public onMouseDown(handler) { this.pointerdownHandler = handler; }\r\n    public onMouseUp(handler) { this.pointerupHandler = handler; }\r\n    public onMouseUpOutside(handler) { this.pointerupoutsideHandler = handler };\r\n    public onMouseOver(handler) { this.pointeroverHandler = handler; }\r\n    public onMouseOut(handler) { this.pointeroutHandler = handler; }\r\n    public onMouseMove(handler) { this.pointermoveHandler = handler; }\r\n    public onClick(handler) { this.pointertapHandler = handler; }\r\n    public onHeldDown(handler, timeout: number) {\r\n        !this._pointerdownHandler && this.onMouseDown(() => {});\r\n        this._setHeldDownHandler(handler, timeout)\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param handler\r\n     * @param hold - time in milliseconds needed to be held before triggering drag\r\n     */\r\n    public onDragStart(handler, hold?: number) {\r\n        if(hold || hold == 0 && !isNaN(hold)) {\r\n            this.holdDragTriggerTime = hold;\r\n        }\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this.registerDefaultIfNeeded('pointerout');\r\n        this.dragstartHandler = handler;\r\n    }\r\n    public onDragEnd(handler) {\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this.dragendHandler = handler;\r\n    }\r\n    public onDragMove(handler) {\r\n        if(!this._dragstartHandler) {this.onDragStart((event) => {}, this.holdDragTriggerTime)}\r\n        if(!this._dragendHandler) { this.onDragEnd((event) => {})}\r\n        this.registerDefaultIfNeeded('pointermove');\r\n        this.dragmoveHandler = handler;\r\n    }\r\n\r\n    public onDoubleClick(handler) {\r\n        // we need a pointerdownhandler for double click to function correctly\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.doubleclickHandler = handler;\r\n    };\r\n\r\n    public onSwipe(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        if(!this._dragmoveHandler) {\r\n            this.onDragMove(() => {});\r\n        }\r\n        this._swipeHandler = handler;\r\n    }\r\n\r\n    public onSwipeUp(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this._swipeupHandler = handler;\r\n    }\r\n    public onSwipeDown(handler) {\r\n        this.hasSwipeHandler = true;\r\n        this.registerDefaultIfNeeded('pointerdown');\r\n        this.registerDefaultIfNeeded('pointerup');\r\n        this.registerDefaultIfNeeded('pointerupoutside');\r\n        this._swipedownHandler = handler;\r\n    }\r\n\r\n    private __doubleclick(event) {\r\n        clearTimeout(this.doubleClickTimeout);\r\n        this.doubleClickTimeout = null;\r\n        this._doubleclickHandler && this._doubleclickHandler(event);\r\n    }\r\n\r\n    private clearHelddownTimeouts() {\r\n        this.helddownTimeouts.forEach(t => {\r\n            clearTimeout(t);\r\n        });\r\n        this.helddownTimeouts.length = 0;\r\n    }\r\n\r\n    private registerDefaultIfNeeded(eventName) {\r\n        if(!this[`_${eventName}Handler`]) { this[`${eventName}Handler`] = () => {} };\r\n    }\r\n\r\n    private __pointerdown(event) {\r\n        Object.keys(this.helddownCountHandlers).forEach(time => {\r\n            this.helddownTimeouts.push(\r\n                setTimeout(() => {\r\n                    this.helddownCountHandlers[time](event)\r\n                }, parseInt(time))\r\n            );\r\n        });\r\n\r\n        this.pointerIsDown = true;\r\n        this._pointerdownHandler(event);\r\n\r\n        this.swipeStartTs = Date.now();\r\n        this.swipeStartY = event.data.global.y;\r\n\r\n        if(this._dragstartHandler && !this.inDrag) {\r\n            this.holdDragTriggerTimeout = setTimeout(() => {\r\n                this.completedTriggerTimeout = true;\r\n                this.holdDragTriggerTimeout = null;\r\n            }, this.holdDragTriggerTime)\r\n        }\r\n\r\n        if(this.doubleClickTimeout) {\r\n            this.emit(\"doubleclick\", event);\r\n        } else {\r\n            this.doubleClickTimeout = setTimeout(() => {\r\n                this.doubleClickTimeout = null;\r\n            }, 300);\r\n        }\r\n    }\r\n\r\n    private __pointertap(event) {\r\n        this._pointertapHandler(event);\r\n    }\r\n\r\n    private __dragstart(event) {\r\n        this.inDrag = true;\r\n        this.startDragY = event.data.global.y;\r\n        this.lastDragY = event.data.global.y;\r\n        this.lastDragCheckTs = Date.now();\r\n        this._dragstartHandler(event);\r\n    }\r\n\r\n    private __dragmove(event) {\r\n        this._dragmoveHandler(event);\r\n        if(this.hasSwipeHandler) {\r\n            const now = Date.now();\r\n            const delta = now - this.lastDragCheckTs;\r\n            this.lastDragCheckTs = now;\r\n\r\n            this.curDragSwiperCheckIterationDuration += delta;\r\n\r\n            const currentDragY = event.data.global.y;\r\n            const diff = this.lastDragY - currentDragY;\r\n            this.lastDragY = currentDragY;\r\n            if(Math.abs(diff) < 7) {\r\n                this.missedDiffs++;\r\n            } else {\r\n                this.missedDiffs = 0;\r\n            }\r\n            if(this.missedDiffs < 2) {\r\n                if(Math.sign(this.ifDragEndEmitSwipeDistance) != Math.sign(diff)) {\r\n                    this.swipeStartY = currentDragY;\r\n                    this.resetDragSwipeVars();\r\n                }\r\n                if(this.curDragSwiperCheckIterationDuration >= this.maxSwipeTimeout) {\r\n                    if(this.curDragSwipePowerIterationQueue.length) {\r\n                        this.ifDragEndEmitSwipeDistance -= this.curDragSwipePowerIterationQueue.shift();\r\n                    }\r\n                    this.curDragSwipePowerIterationQueue.push(diff);\r\n                    this.ifDragEndEmitSwipeDistance += diff;\r\n                } else {\r\n                    this.ifDragEndEmitSwipeDistance += diff;\r\n                    this.curDragSwipePowerIterationQueue.push(diff);\r\n                }\r\n            } else {\r\n                this.resetDragSwipeVars();\r\n            }\r\n        }\r\n    }\r\n\r\n    private resetDragSwipeVars() {\r\n        this.curDragSwipePowerIterationQueue.length = 0;\r\n        this.ifDragEndEmitSwipeDistance = 0;\r\n        this.curDragSwiperCheckIterationDuration = 0;\r\n    }\r\n\r\n    private __dragend(event) {\r\n        this.inDrag = false;\r\n        this._dragendHandler(event);\r\n\r\n        if(this.hasSwipeHandler) {\r\n            const sign = Math.sign(this.ifDragEndEmitSwipeDistance);\r\n            if(sign) {\r\n                const dur = Math.max(10, this.curDragSwiperCheckIterationDuration);\r\n                const timeDiff = Math.min(this.maxSwipeTimeout, dur);\r\n                const power = (this.ifDragEndEmitSwipeDistance / (timeDiff + 100 / 15)) * 10;\r\n                if(sign > 0 && this._swipedownHandler) {\r\n                    this._swipedownHandler(this.ifDragEndEmitSwipeDistance);\r\n                } else if(this._swipeupHandler) {\r\n                    this._swipeupHandler(this.ifDragEndEmitSwipeDistance);\r\n                }\r\n                this._swipeHandler && this._swipeHandler(power);\r\n            }\r\n            this.resetDragSwipeVars();\r\n        }\r\n        this.ifDragEndEmitSwipeDistance = 0;\r\n    }\r\n\r\n    private __pointermove(event) {\r\n        if(this.pointerIsDown && !this.inDrag && this.completedTriggerTimeout) {\r\n            this.emit(\"dragstart\", event);\r\n        } else if (this.inDrag && this._dragmoveHandler) {\r\n            this.emit(\"dragmove\", event);\r\n        }\r\n        this._pointermoveHandler(event);\r\n    }\r\n\r\n    private __pointerover(event) { this._pointeroverHandler(event); }\r\n\r\n    private __pointerout(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this._pointeroutHandler(event);\r\n    }\r\n\r\n    private handleSwipeFinish(finishY) {\r\n        if(this.hasSwipeHandler) {\r\n            const yDiff = this.swipeStartY - finishY;\r\n            const timeDiff = Math.max(Date.now() - this.swipeStartTs, 1);\r\n            if(timeDiff < this.maxSwipeTimeout && Math.abs(yDiff) > this.minSwipeDistance) {\r\n                const power = (yDiff / (timeDiff + 100 / 15)) * 10;\r\n                if(Math.abs(power) > 10) {\r\n                    const handler = yDiff > 0 ? this._swipeupHandler : this._swipedownHandler;\r\n                    handler && handler(power);\r\n                    this._swipeHandler && this._swipeHandler(power);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private __pointerupoutside(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this.handleSwipeFinish(event.data.global.y);\r\n        this.pointerIsDown = false;\r\n        this._pointerupoutsideHandler(event);\r\n        if(this.inDrag) {\r\n            this.emit(\"dragend\", event);\r\n        }\r\n    }\r\n    private __pointerup(event) {\r\n        this.clearHelddownTimeouts();\r\n        this.clearDragTimeouts();\r\n        this.handleSwipeFinish(event.data.global.y);\r\n        this.pointerIsDown = false;\r\n        this._pointerupHandler(event);\r\n        if(this.inDrag) {\r\n            this.emit(\"dragend\", event)\r\n        }\r\n    }\r\n\r\n    private clearDragTimeouts() {\r\n        this.completedTriggerTimeout = false;\r\n        if(this.holdDragTriggerTimeout) {\r\n            clearTimeout(this.holdDragTriggerTimeout);\r\n            this.holdDragTriggerTimeout = null;\r\n        }\r\n    }\r\n\r\n    private repositionSelf() {\r\n        if(this.parent) {\r\n        }\r\n    }\r\n\r\n    public repositionChildren() {\r\n        this.repositionSelf();\r\n        for(let i = 0; i < this.elements.length; i++) {\r\n            const elements = this.elements[i] as Element;\r\n          //  elements.repositionChildren();\r\n        }\r\n        this.children.forEach(c => {\r\n          //  c.repositionChildren();\r\n        });\r\n    }\r\n}","import { PixiElement } from '../../Element';\r\nimport {clamp, parseLengthMeasurements} from \"../../utils\";\r\nimport {ScrollList} from \"./ScrollList\";\r\nexport type SideScrollOptions = {\r\n    width: number,\r\n    height: number,\r\n    color: number\r\n}\r\n\r\nexport type ScrollerStyleOptions = {\r\n    color: number,\r\n    hoverColor: number,\r\n    mouseDownColor: number,\r\n}\r\n\r\nexport type ScrollBarStyleOptions = {\r\n    width: number,\r\n    height: number,\r\n    backgroundColor: number,\r\n    scrollerOptions: ScrollerStyleOptions\r\n}\r\n\r\nexport class ScrollBar extends PixiElement {\r\n    public scrolling : boolean = false;\r\n    private scroller: Scroller;\r\n    private bg: PIXI.Graphics;\r\n    private options: ScrollBarStyleOptions;\r\n    private scrollList : ScrollList;\r\n    constructor(scrollList: ScrollList, options: ScrollBarStyleOptions) {\r\n        super();\r\n        this.scrollList = scrollList;\r\n        // @ts-ignore\r\n        this.options = options || {};\r\n        this.bg = new PIXI.Graphics();\r\n        this.addChild(this.bg);\r\n        this.scroller = new Scroller(this, options.scrollerOptions);\r\n        this.addChild(this.scroller);\r\n        this.scroller.y = 0;\r\n        this.redraw();\r\n        this.registerScrollerEvents();\r\n        let heldDownInterval = 0;\r\n    }\r\n    public resizeScrollBar(parentTotalHeight: number, parentMaxHeight: number,) {\r\n    }\r\n    get visibleLength() {\r\n        return this.scrollList.height;\r\n    }\r\n    get maxLength() {\r\n        return this.scrollList.maxHeight;\r\n    }\r\n    public redraw() {\r\n        this.bg.clear();\r\n        this.bg.beginFill(this.options.backgroundColor || 0xf7f7f7);\r\n        this.bg.drawRect(0, 0, this.options.width, this.visibleLength);\r\n        this.scroller.redraw();\r\n    }\r\n\r\n    public setScrollPercent(n: number) {\r\n        console.error('set', n)\r\n        const utilizedSpaceForPercent = this.visibleLength - this.scroller.height;\r\n        const y = utilizedSpaceForPercent * n;\r\n        this.scroller.y = y;\r\n    }\r\n\r\n    private registerScrollerEvents() {\r\n        let lastScrollY:any;\r\n        this.onHeldDown((e) => {\r\n            const mouseY = e.data.global.y -this.getGlobalPosition().y;\r\n            let toY = -1;\r\n            if(mouseY < this.scroller.y) {\r\n                toY = mouseY;\r\n            } else if (mouseY > this.scroller.y + this.scroller.height) {\r\n                toY = mouseY - this.scroller.height\r\n            }\r\n\r\n            if(toY >= 0 && !this.scrolling) {\r\n                this.scroller.y = clamp(toY, 0, this.visibleLength-this.scroller.height);\r\n                this.emitScroll();\r\n            }\r\n        }, 50);\r\n\r\n        let prevMouseY;\r\n        let start;\r\n        this.scroller.onDragStart(event => {\r\n            this.scrolling = true;\r\n        }, 0);\r\n        this.scroller.onDragEnd(event => {\r\n            this.scrolling = false;\r\n        });\r\n        this.scroller.onDragMove(event => {\r\n            event.stopPropagation();\r\n            const movementY = event.data.originalEvent.movementY;\r\n            const mouseY = event.data.global.y;\r\n            const globalP = this.getGlobalPosition();\r\n            const globalScrollY = this.scroller.y + globalP.y;\r\n            let extra = 0;\r\n            if(mouseY > globalScrollY + this.scroller.height) {\r\n                extra = mouseY - (globalScrollY + this.scroller.height);\r\n            } else if (mouseY < globalScrollY) {\r\n                extra = mouseY - globalScrollY;\r\n            }\r\n            this.scroller.y = clamp(this.scroller.y + movementY + extra, 0, this.visibleLength-this.scroller.height);\r\n            this.emitScroll();\r\n        })\r\n    }\r\n    private emitScroll() {\r\n        const utilizedSpaceForPercent = this.visibleLength - this.scroller.height;\r\n        const percent = this.scroller.y / utilizedSpaceForPercent\r\n        this.emit('scrolled', percent);\r\n    }\r\n}\r\n\r\n\r\nclass Scroller extends PixiElement {\r\n    private rect: PIXI.Graphics;\r\n    private curPercent: number;\r\n    private scrollBar : ScrollBar;\r\n    private styleObj : Partial<ScrollerStyleOptions>;\r\n    constructor(scrollBar: ScrollBar, options?: ScrollerStyleOptions) {\r\n        super();\r\n        this.scrollBar = scrollBar;\r\n        this.styleObj = options || {};\r\n        this.rect = new PIXI.Graphics();\r\n        this.addChild(this.rect);\r\n    }\r\n    private setStyle(o: ScrollBarStyleOptions) {\r\n        this.redraw();\r\n    }\r\n    public redraw() {\r\n        this.rect.clear();\r\n        if(this.scrollBar.visibleLength >= this.scrollBar.maxLength) return;\r\n        const length = Math.ceil(this.scrollBar.visibleLength / (this.scrollBar.maxLength / this.scrollBar.visibleLength));\r\n        this.rect.beginFill('color' in this.styleObj ? this.styleObj.color : 0x000000);\r\n        this.rect.drawRect(0, 0, this.scrollBar.width, length);\r\n        this.rect.endFill();\r\n    }\r\n}","import TextField from './Components/TextInput/TextField';\r\nexport { TextField };\r\n\r\nimport { PixiElement } from \"./Element\";\r\nexport { PixiElement };\r\n\r\nimport { ScrollList } from \"./Components/ScrollList/ScrollList\";\r\nexport { ScrollList };\r\n\r\nimport { ScrollBar } from \"./Components/ScrollList/ScrollBar\";\r\nexport { ScrollBar };\r\n\r\nimport { Toggle } from './Components/Toggle';\r\nexport { Toggle };\r\n\r\nimport { Button } from './Components/Button';\r\nexport { Button };\r\nimport { Slider } from './Components/Slider';\r\n\r\nexport { Slider };\r\n\r\nimport { string2hex } from \"./utils\";\r\n\r\nif(PIXI !== undefined) {\r\n    PIXI['Slider'] = PIXI['Slider'] || Slider;\r\n    PIXI['Toggle'] = PIXI['Toggle'] || Toggle;\r\n    PIXI['TextField'] = PIXI['TextField'] || TextField;\r\n    PIXI['Element'] = PIXI['Element'] || PixiElement;\r\n    PIXI['ScrollBar'] = PIXI['ScrollBar'] || ScrollBar;\r\n    PIXI['ScrollList'] = PIXI['ScrollList'] || ScrollList;\r\n    PIXI['Button'] = PIXI['Button']|| Button;\r\n    if(PIXI.utils && !PIXI.utils['string2hex']) {\r\n        PIXI.utils['string2hex'] = string2hex;\r\n    }\r\n}\r\n\r\n","import { parseLengthMeasurements } from \"../../utils\";\r\nimport KeyboardHandlerMixin from \"../../mixins/KeyboardHandlers\";\r\nimport { ValidMeasurement } from \"../../types\";\r\n\r\nexport type StyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    cursorHeight: ValidMeasurement,\r\n    cursorWidth: number,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor: number,\r\n    highlightedFontColor: number,\r\n    cursorColor: number,\r\n    backgroundColor: number,\r\n    highlightedBackgroundColor: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n}\r\n\r\nexport type StyleOptionsParams = {\r\n    width?: number | string,\r\n    height?: number | string,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor?: number,\r\n    highlightedFontColor?: number,\r\n    cursorColor?: number,\r\n    cursorHeight?: number | string,\r\n    cursorWidth: number,\r\n    backgroundColor?: number,\r\n    highlightedBackgroundColor?: number,\r\n    borderOpacity?: number,\r\n    xPadding?: number,\r\n    yPadding?: number,\r\n}\r\n\r\nconst defaultStyleOptions = function() : StyleOptionsParams {\r\n    return {\r\n        width: '500px',\r\n        height: '16px',\r\n        fontColor: 0x000000,\r\n        highlightedFontColor: 0xffffff,\r\n        borderColor: 0x000000,\r\n        borderWidth: 1,\r\n        cursorColor: 0x000000,\r\n        cursorHeight: '90%',\r\n        cursorWidth: 1,\r\n        backgroundColor: 0xf7f7f7,\r\n        highlightedBackgroundColor: 0x000080, // navy blue\r\n        borderOpacity: 1,\r\n        xPadding: 0,\r\n        yPadding: 0,\r\n    }\r\n};\r\n\r\nconst lengthFieldsToValidate = [\"width\", \"height\", \"cursorHeight\"];\r\n\r\nclass TextField extends PIXI.Container {\r\n    private styleOptions: StyleOptions = {} as StyleOptions;\r\n    private cursorSprite: PIXI.Graphics = new PIXI.Graphics();\r\n    private textbox: PIXI.Graphics = new PIXI.Graphics();\r\n    private textboxMask: PIXI.Graphics = new PIXI.Graphics();\r\n\r\n    private textSprite: PIXI.extras.BitmapText;\r\n    private inFocus: boolean = false;\r\n\r\n    private cursorIndex: number = -1;\r\n    private clickedTimestamp: number;\r\n\r\n    private cursorAnimationFrame: any;\r\n    private lastCursorTs = Date.now();\r\n    private accCursorTime: number = 0;\r\n    private toggleCursorTime: number = 500;\r\n    private cursorIsVisible: boolean = true;\r\n\r\n    private _text: string = \"\";\r\n\r\n    private _visible: boolean = true;\r\n\r\n    private overflowOffsetX: number = 0;\r\n    private overflowOffsetY: number = 0;\r\n    private dragIndexStart: number = 0;\r\n    private dragIndexEnd: number = 0;\r\n    private inDrag: boolean = false;\r\n\r\n    public submitKeyCodes: Array<number> = [13];\r\n    public ignoreKeys: Array<number> = [];\r\n    public _maxCharacterLength: number = null;\r\n\r\n    private onFocusHandler: Function = () => {};\r\n    private onBlurHandler: Function = () => {};\r\n    private onChangeHandler: Function = () => {};\r\n    private onSubmitHandler: Function = () => {};\r\n    private onCharLimitHandler: Function = () => {};\r\n    constructor(font: string, styleOptions?: StyleOptionsParams, maxCharacterLength?, ignoreKeys?) {\r\n        super();\r\n        this.checkForOutsideClick = this.checkForOutsideClick.bind(this);\r\n\r\n        // override destroy method to call blur before destroy so we unregister document handlers if needed.\r\n        const oldDestroy = this.destroy.bind(this);\r\n        this['destroy'] = (options) => {\r\n           this.blur();\r\n           oldDestroy(options);\r\n        }\r\n\r\n        if(ignoreKeys) {\r\n            this.ignoreKeys = ignoreKeys;\r\n        }\r\n        const _defaultStyleOptions = { ...defaultStyleOptions() };\r\n        if(styleOptions) {\r\n            for(let key in styleOptions) {\r\n                _defaultStyleOptions[key] = styleOptions[key];\r\n            }\r\n        }\r\n        this.maxCharacterLength = maxCharacterLength;\r\n    \r\n        this.buttonMode = true;\r\n        this.interactive = true;\r\n\r\n        this.textSprite = new PIXI.extras.BitmapText('', { font, align: \"left\" });\r\n\r\n        this.cursor = \"text\";\r\n\r\n        this.on('pointerdown', this.handleMouseDown.bind(this));\r\n        //this.on('touchstart', this.handleMouseDown.bind(this));\r\n\r\n        this.on('pointerup', this.handleMouseUp.bind(this));\r\n    //    this.on('touchend', this.handleMouseUp.bind(this));\r\n\r\n        this.on('pointermove', this.handleMouseMove.bind(this));\r\n    //    this.on('touchmove', this.handleMouseMove.bind(this));\r\n        this.on('pointerupoutside', this.handleMouseUp.bind(this));\r\n\r\n        this.addChild(this.textboxMask);\r\n        this.addChild(this.textbox);\r\n        this.addChild(this.textSprite);\r\n        this.addChild(this.cursorSprite);\r\n\r\n        this.textSprite.mask = this.textboxMask;\r\n       // this.mask = this.textboxMask;\r\n\r\n        this.updateStyle(_defaultStyleOptions);\r\n\r\n        this.show();\r\n    }\r\n\r\n    public updateStyle(styleOptions: StyleOptionsParams) {\r\n        for(const key in styleOptions) {\r\n            if(lengthFieldsToValidate.includes(key)) {\r\n                const parsed = parseLengthMeasurements(styleOptions[key]);\r\n                if(parsed.error) {\r\n                    throw new Error(`Error for passed in style: ${key}, ${parsed.error}`)\r\n                } else {\r\n                    this.styleOptions[key] = parsed;\r\n                }\r\n            } else {\r\n                this.styleOptions[key] = styleOptions[key];\r\n            }\r\n        }\r\n        this.redraw();\r\n    }\r\n\r\n    private redraw() {\r\n        this.redrawText();\r\n        this.redrawTextbox();\r\n        this.redrawCursor();\r\n    }\r\n\r\n    private redrawCursor() {\r\n        if(!this.inFocus) {\r\n            this.cursorIsVisible = false;\r\n            this.cursorSprite.visible = false;\r\n            return;\r\n        }\r\n\r\n        const cursorX = this.getCursorXFromIndex(this.cursorIndex) - this.overflowOffsetX;\r\n        this.cursorSprite.clear();\r\n\r\n        this.cursorSprite.lineStyle(this.styleOptions.cursorWidth, this.styleOptions.cursorColor);\r\n\r\n        const { value, type } = this.styleOptions.cursorHeight;\r\n\r\n        const cursorHeight = type === \"pixel\" ? value : Math.round(this.textbox.height * (value/100));\r\n\r\n        const min = Math.min(this.textbox.height, cursorHeight);\r\n        const max = Math.max(this.textbox.height, cursorHeight);\r\n        const yOffset = (max - min) / 2; // centers cursor vertically\r\n        const bottomOffset = Math.floor(yOffset);\r\n        const topOffset = Math.ceil(yOffset);\r\n\r\n        this.cursorSprite.moveTo(cursorX, bottomOffset).lineTo(cursorX,  cursorHeight - topOffset);\r\n\r\n        // cursor is only visible if theres no range\r\n        if(this.getSelectedRange()) {\r\n            this.cursorIsVisible = false;\r\n            this.cursorSprite.visible = false;\r\n        } else {\r\n            this.cursorIsVisible = true;\r\n            this.cursorSprite.visible = true;\r\n        }\r\n    }\r\n\r\n    private redrawText() {\r\n        const range = this.getSelectedRange();\r\n        this.textSprite.y = this.styleOptions.yPadding;\r\n        this.textSprite.x = this.styleOptions.xPadding;\r\n\r\n        const currentCursorX = this.getCursorXFromIndex(this.dragIndexEnd);\r\n\r\n        const { value, type } = this.styleOptions.width;\r\n        const totalWidth = window.innerWidth;\r\n        const maxWidth = type === 'pixel' ? value : totalWidth * (value/100);\r\n\r\n        if(currentCursorX > maxWidth + this.overflowOffsetX) {\r\n            this.overflowOffsetX = currentCursorX - maxWidth;\r\n            this.textSprite.x -= this.overflowOffsetX;\r\n        } else if(currentCursorX > maxWidth) {\r\n            if(currentCursorX < maxWidth + this.overflowOffsetX) {\r\n\r\n                if(currentCursorX < this.overflowOffsetX) {\r\n                    this.overflowOffsetX -= (this.overflowOffsetX - currentCursorX);\r\n                }\r\n\r\n                this.textSprite.x -= this.overflowOffsetX;\r\n            } else {\r\n                this.textSprite.x -= this.overflowOffsetX;\r\n            }\r\n        } else {\r\n            this.overflowOffsetX = 0;\r\n        }\r\n\r\n        for(let i = 0; i < this.textSprite.children.length; i++) {\r\n            const child = this.textSprite.children[i] as PIXI.Sprite;\r\n\r\n            if(range) {\r\n                const { indexes } = range;\r\n                const { start, end } = indexes;\r\n                const withinRange = i >= start && i < end;\r\n                if(withinRange) {\r\n                    child.tint = this.styleOptions.highlightedFontColor;\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if(\"fontColor\" in this.styleOptions) {\r\n                child.tint = this.styleOptions.fontColor;\r\n            } else {\r\n                child.tint = 0xFFFFFF\r\n            }\r\n        }\r\n    }\r\n\r\n    private redrawTextbox() {\r\n        this.textbox.clear();\r\n        this.textbox.beginFill(this.styleOptions.backgroundColor, 1);\r\n        if(this.styleOptions.borderWidth > 0 && !Number.isNaN(this.styleOptions.borderWidth)) {\r\n            this.textbox.lineStyle(this.styleOptions.borderWidth, this.styleOptions.borderColor, this.styleOptions.borderOpacity)\r\n        }\r\n\r\n        let { value, type } = this.styleOptions.height;\r\n\r\n        const totalWidth = window.innerWidth;\r\n        const totalHeight = window.innerHeight;\r\n\r\n        const height = type === 'pixel' ? value : totalHeight * (value/100);\r\n        ({ value, type } = this.styleOptions.width);\r\n        const maxWidth = type === 'pixel' ? value : totalWidth * (value/100);\r\n\r\n        const range = this.getSelectedRange();\r\n\r\n        this.textbox.drawRect(0, 0, maxWidth, height);\r\n        this.textbox.endFill();\r\n\r\n        if(range) {\r\n            let start = range.x.start - this.overflowOffsetX;\r\n            const end = range.x.end - this.overflowOffsetX;\r\n            this.textbox.beginFill(this.styleOptions.highlightedBackgroundColor, 1);\r\n            let _width = end-start;\r\n\r\n            if(start + _width >= maxWidth) {\r\n                _width = maxWidth - start;\r\n            } else {\r\n                _width = end-start;\r\n            }\r\n\r\n            if(start + _width === maxWidth && _width > maxWidth) {\r\n                start = 0;\r\n                _width = maxWidth;\r\n            }\r\n        \r\n            this.textbox.drawRect(start, 0, _width, height);\r\n            this.textbox.endFill();\r\n        }\r\n\r\n        this.textboxMask.clear();\r\n        this.textboxMask.drawRect(0, 0, maxWidth, height);\r\n    }\r\n\r\n    private handleMouseUp(e){\r\n        const { x } = e.data.getLocalPosition(this);\r\n\r\n        if(this.inDrag) {\r\n            this.cursorIndex = this.getCursorIndexFromX(x);\r\n            this.handleRangeFinish();\r\n            // do multi text selext\r\n            //const clicked = this.indexFromPosition(e.position).left;\r\n            //this.multiSelect(this.dragIndexStart, this.indexFromPosition(e.position)\r\n        }\r\n    }\r\n\r\n    private handleMouseDown(e) {\r\n        this.clickedTimestamp = e.data.originalEvent.timeStamp;\r\n        const { x } = e.data.getLocalPosition(this);\r\n        if(!this.inFocus) {\r\n            this.focus();\r\n        }\r\n        this.clearRange();\r\n        this.cursorIndex = this.getCursorIndexFromX(x);\r\n        this.handleRangeStart(this.cursorIndex);\r\n        this.redraw();\r\n    }\r\n\r\n    private handleMouseMove(e) {\r\n        if(this.inDrag) {\r\n            const { x } = e.data.getLocalPosition(this);\r\n            this.handleRangeChange(this.getCursorIndexFromX(x));\r\n        }\r\n    }\r\n\r\n    private clearRange() {\r\n        this.dragIndexEnd = this.cursorIndex;\r\n        this.dragIndexStart = this.cursorIndex;\r\n    }\r\n\r\n    private handleRangeStart(startIndex) {\r\n        this.inDrag = true;\r\n        this.dragIndexStart = startIndex;\r\n        this.dragIndexEnd = startIndex;\r\n    }\r\n\r\n    private handleRangeChange(endIndex) {\r\n        if(endIndex !== this.dragIndexEnd) {\r\n            this.dragIndexEnd = endIndex;\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private handleRangeFinish() {\r\n        this.inDrag = false;\r\n    }\r\n\r\n    private getCursorXFromIndex(index) {\r\n        let leftChar;\r\n        // if theres no children in the text sprite that means our cursor should get x value for the beginning of the textfield\r\n        if(!this.textSprite.children || !this.textSprite.children.length || index <= 0) {\r\n            if(this.styleOptions.xPadding) {\r\n                return this.styleOptions.xPadding;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        if(index >= this.textSprite.children.length) {\r\n            leftChar = this.textSprite.children[this.textSprite.children.length - 1]\r\n        } else {\r\n            leftChar = this.textSprite.children[index - 1];\r\n        }\r\n        // get the position of character to left plus 1 pixel for padding\r\n        return leftChar.x + leftChar.width + 1 + this.styleOptions.xPadding;\r\n    }\r\n\r\n    private moveCursor(indexChange) {\r\n        const newCursorIndex = this.cursorIndex + indexChange;\r\n        if(newCursorIndex > -1 && newCursorIndex <= this.text.length) {\r\n            this.cursorIndex = newCursorIndex;\r\n            this.clearRange();\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private getCursorIndexFromX(x) : number {\r\n        x += this.overflowOffsetX;\r\n\r\n        if(x <= 0) {\r\n            return 0;\r\n        }\r\n\r\n        for(let i = 0; i < this.textSprite.children.length; i++) {\r\n            const charChild = this.textSprite.children[i] as any;\r\n            if(charChild.x + charChild.width > x) {\r\n                // click was on right side of character, current cursor index becomes i+1\r\n                if(charChild.x + (charChild.width / 2) < x) {\r\n                    return i+1;\r\n                } else {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return this.textSprite.children.length;\r\n    }\r\n\r\n    private getSelectedChars() {\r\n        const range = this.getSelectedRange();\r\n        if(!range) return \"\";\r\n\r\n         const { indexes } = range;\r\n         const { start, end } = indexes;\r\n         return this.text.substr(start, end - start);\r\n    }\r\n\r\n    private replaceSelectedWith(replaceWith) : string {\r\n        const replaceWithArray = replaceWith.split('');\r\n        \r\n        const replacedLength = replaceWithArray.length;\r\n\r\n        let oldTextValue = this.text;\r\n\r\n        const textArray = this.text.split('');\r\n        let start, end;\r\n        const range = this.getSelectedRangeIndexes();\r\n\r\n        if(range) {\r\n            ({ start, end } = range);\r\n        } else {\r\n            start = end = this.cursorIndex;\r\n        }\r\n        const deleteCount = end - start;\r\n\r\n        textArray.splice(start, deleteCount, ...replaceWithArray);\r\n        if(this.change(textArray.join(''))) {\r\n            this.cursorIndex = start + replacedLength;\r\n            this.clearRange();\r\n            this.redraw();\r\n            return this.text;\r\n        } else {\r\n            return this.text;\r\n        }\r\n    }\r\n\r\n    private getSelectedRangeIndexes() : {\r\n        start: number,\r\n        end: number\r\n    } {\r\n\r\n        const range = this.getSelectedRange();\r\n        if(!range) return null;\r\n\r\n        return { start: range.indexes.start, end: range.indexes.end };\r\n    }\r\n\r\n    private getSelectedRange() : {\r\n            indexes:\r\n                { start: number, end: number },\r\n            x:\r\n                { start: number, end: number }\r\n        } {\r\n\r\n\r\n        const start = Math.min(this.dragIndexStart, this.dragIndexEnd);\r\n        const end = Math.max(this.dragIndexStart, this.dragIndexEnd);\r\n\r\n        if(start === end) return null;\r\n\r\n        const startX = this.getCursorXFromIndex(start);\r\n        const endX = this.getCursorXFromIndex(end);\r\n\r\n        return {\r\n            indexes: { start, end },\r\n            x: { start: startX, end: endX }\r\n        }\r\n    }\r\n\r\n    public selectAll() {\r\n        this.setSelectedRange(0, this.text.length);\r\n    }\r\n    private setSelectedRange(start, end) {\r\n        this.dragIndexStart = start;\r\n        this.dragIndexEnd = end;\r\n        this.cursorIndex = end;\r\n        this.redraw();\r\n    }\r\n\r\n    private charFromPosition(position) : { left?: string, right?: string } {\r\n        return { left: null, right: null };\r\n    }\r\n\r\n    private removeLeftOfCursor() {\r\n        if(this.cursorIndex > 0) {\r\n            const array = this.text.split('');\r\n            array.splice(this.cursorIndex - 1, 1);\r\n            this.cursorIndex--;\r\n            this.change(array.join(''));\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    private removeRightOfCursor() {\r\n        const array = this.text.split('');\r\n        if(array.length && this.cursorIndex < array.length) {\r\n            array.splice(this.cursorIndex, 1);\r\n            this.change(array.join(''));\r\n            this.redraw();\r\n        }\r\n    }\r\n    public onCharLimit(handler) {\r\n        this.onCharLimitHandler = handler;\r\n    }\r\n    public onChange(handler) {\r\n        this.onChangeHandler = handler;\r\n    }\r\n    public onFocus(handler) {\r\n        this.onFocusHandler = handler;\r\n    }\r\n    public onBlur(handler) {\r\n        this.onBlurHandler = handler;\r\n    }\r\n    public onSubmit(handler) {\r\n        this.onSubmitHandler = handler;\r\n    }\r\n\r\n    public clear() {\r\n        this.text = \"\";\r\n        this.cursorIndex = 0;\r\n        this.clearRange();\r\n        this.redraw();\r\n    }\r\n\r\n    public submit() {\r\n        this.onSubmitHandler(this.text);\r\n    }\r\n\r\n    public focus() {\r\n        if(!this.inFocus) {\r\n            document.addEventListener('mousedown', this.checkForOutsideClick);\r\n            this.inFocus = true;\r\n            this.startCursorAnimation();\r\n            this.emit('focus');\r\n            this.onFocusHandler();\r\n        }\r\n    }\r\n\r\n    public blur() {\r\n        if(this.inFocus) {\r\n            document.removeEventListener('mousedown', this.checkForOutsideClick);\r\n            this.inFocus = false;\r\n            this.stopCursorAnimation();\r\n            this.clearRange();\r\n            this.redraw();\r\n            this.emit('blur');\r\n            this.onBlurHandler();\r\n        }\r\n    }\r\n\r\n    set maxCharacterLength(value: number) {\r\n        if(!isNaN(value)) {\r\n            if(value === null || value < 0) {\r\n                this._maxCharacterLength = null;\r\n            } else {\r\n                this._maxCharacterLength = value;\r\n            }\r\n        } else {\r\n            this._maxCharacterLength = null;\r\n        }\r\n    }\r\n\r\n    public change(value) : boolean {\r\n        if(value !== this.text) {\r\n            if(this._maxCharacterLength !== null && value.length > this._maxCharacterLength) {\r\n                this.onCharLimitHandler(value);\r\n                return false;\r\n            } else {\r\n                this._text = value;\r\n                this.textSprite.text = value;\r\n                if(this._text === \"\" && this.textSprite.children) {\r\n                    this.textSprite.children.forEach(child => {\r\n                        this.textSprite.removeChild(child);\r\n                    })\r\n                }\r\n                this.textSprite.updateTransform();\r\n                this.emit('change', value);\r\n                this.onChangeHandler(value);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private startCursorAnimation() {\r\n        if(this.cursorAnimationFrame) {\r\n            this.stopCursorAnimation();\r\n        }\r\n        this.blinkCursor();\r\n    }\r\n\r\n    private stopCursorAnimation() {\r\n        this.cursorSprite.visible = false;\r\n        if(this.cursorAnimationFrame) {\r\n            clearTimeout(this.cursorAnimationFrame);\r\n            this.cursorAnimationFrame = null;\r\n            this.accCursorTime = 0;\r\n        }\r\n    }\r\n\r\n    private blinkCursor() {\r\n        if(this.cursorIsVisible) {\r\n            this.cursorSprite.visible = !this.cursorSprite.visible;\r\n        }\r\n        this.cursorAnimationFrame = setTimeout(this.blinkCursor.bind(this), this.toggleCursorTime);\r\n    }\r\n\r\n    private checkForOutsideClick(e) {\r\n        if(e.timeStamp !== this.clickedTimestamp) {\r\n            this.blur();\r\n        }\r\n    }\r\n\r\n    get text() {\r\n        if(this.textSprite.text === \" \" && this._text !== \" \") {\r\n            return \"\";\r\n        }\r\n        return this.textSprite.text;\r\n    }\r\n\r\n    set text(value) {\r\n        this.change(value);\r\n    }\r\n\r\n    // @ts-ignore\r\n    set visible(value) {\r\n        // @ts-ignore\r\n        super.visible = value;\r\n        this._visible = value;\r\n        if(value) {\r\n            this.startCursorAnimation();\r\n        } else {\r\n            this.stopCursorAnimation();\r\n        }\r\n    }\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    public show() {\r\n        this.visible = true;\r\n    }\r\n\r\n    public hide() {\r\n        this.visible = false;\r\n    }\r\n}\r\n\r\nexport default KeyboardHandlerMixin(TextField);","type Constructor<T = any> = new (...args: any[]) => T;\r\n\r\nexport default function <TBase extends Constructor>(Base: TBase){\r\n    return class KeyboardHandledInput extends Base {\r\n\r\n        public copiedText: string = '';\r\n        public textStates: Array<string> = [];\r\n        public currentStateIndex: number = -1;\r\n        private stateInterval: any;\r\n\r\n        constructor(...args: any[]) {\r\n            super(...args);\r\n            this.registerHandlers = this.registerHandlers.bind(this);\r\n            this.unregisterHandlers = this.unregisterHandlers.bind(this);\r\n            this.onCopy = this.onCopy.bind(this);\r\n            this.onPaste = this.onPaste.bind(this);\r\n            this.onCut = this.onCut.bind(this);\r\n            this.onKeyPress = this.onKeyPress.bind(this);\r\n            this.onKeyDown = this.onKeyDown.bind(this);\r\n\r\n            super.on('focus', this.registerHandlers);\r\n            super.on('blur', this.unregisterHandlers);\r\n\r\n            this.stateInterval = null;\r\n        }\r\n\r\n        public changeStateIndex(change) {\r\n            const newIndex = this.currentStateIndex = change;\r\n            if(this.textStates[newIndex]) {\r\n                super.change(this.textStates[newIndex]);\r\n                this.currentStateIndex = change;\r\n            }\r\n        }\r\n\r\n        public registerHandlers() {\r\n            document.addEventListener(\"copy\", this.onCopy);\r\n            document.addEventListener(\"cut\", this.onCut);\r\n            document.addEventListener(\"paste\", this.onPaste);\r\n            document.addEventListener(\"keypress\", this.onKeyPress);\r\n            document.addEventListener(\"keydown\", this.onKeyDown);\r\n        }\r\n        public unregisterHandlers() {\r\n            document.removeEventListener(\"copy\", this.onCopy);\r\n            document.removeEventListener(\"cut\", this.onCut);\r\n            document.removeEventListener(\"paste\", this.onPaste);\r\n            document.removeEventListener(\"keypress\", this.onKeyPress);\r\n            document.removeEventListener(\"keydown\", this.onKeyDown);\r\n        }\r\n\r\n        public onPaste(event) {\r\n            const pastedText = event.clipboardData ? event.clipboardData.getData('text/plain') : this.copiedText;\r\n            const newText = super.replaceSelectedWith(pastedText);\r\n            if(newText !== null) {\r\n                this.addState(newText);\r\n            }\r\n        }\r\n\r\n        public onCopy(event) {\r\n            event.preventDefault();\r\n            const selected = super.getSelectedChars();\r\n            if(event.clipboardData) {\r\n                event.clipboardData.setData('text/plain', selected)\r\n            }\r\n            this.copiedText = selected;\r\n        }\r\n\r\n        public onCut(event){\r\n            event.preventDefault();\r\n            const selected = super.getSelectedChars();\r\n            if(event.clipboardData) {\r\n                event.clipboardData.setData('text/plain', selected);\r\n            }\r\n            this.copiedText = selected;\r\n            const newText = super.replaceSelectedWith(\"\");\r\n            if(newText !== null) {\r\n                this.addState(newText);\r\n            }\r\n        };\r\n\r\n        public onBackspace(){};\r\n        public onDelete(){};\r\n\r\n        public onKeyDown(event) {\r\n            const code = event.keyCode ? event.keyCode : event.code;\r\n            if(this.submitKeyCodes.includes(code)) {\r\n                super.submit();\r\n            } else if (code == 37) { // left\r\n                super.moveCursor(-1)\r\n            } else if (code == 39) { // right\r\n                super.moveCursor(1)\r\n            } else if(code == 8) { // backspace\r\n                if(super.getSelectedRange()) {\r\n                    super.replaceSelectedWith(\"\");\r\n                } else {\r\n                    super.removeLeftOfCursor();\r\n                }\r\n            } else if (code == 46) { //delete\r\n                if(super.getSelectedRange()) {\r\n                    super.replaceSelectedWith(\"\");\r\n                } else {\r\n                    super.removeRightOfCursor();\r\n                }\r\n            } else if(event.ctrlKey) {\r\n                if(code == 90) { // z\r\n                    const indexChange = event.shiftKey ? 1 : -1; // if shift is pressed we want to do redo behavior\r\n                    this.changeStateIndex(indexChange);\r\n                } else if(code == 65) { // a\r\n                    event.preventDefault();\r\n                    super.selectAll();\r\n                }\r\n            }\r\n        }\r\n\r\n        public onKeyPress(event) {\r\n            const code = event.keyCode ? event.keyCode : event.which;\r\n            if(this.submitKeyCodes.includes(code) || this.ignoreKeys.includes(code)) {\r\n                return;\r\n            }\r\n            const char = String.fromCharCode(code);\r\n            if(char) {\r\n                if(!event.ctrlKey) {\r\n                    event.preventDefault();\r\n                    super.replaceSelectedWith(char);\r\n                }\r\n            }\r\n        }\r\n\r\n        public addState(newText) {\r\n            this.textStates.push(newText);\r\n            this.currentStateIndex = this.textStates.length - 1;\r\n        }\r\n    }\r\n}\r\n","import {clamp, parseLengthMeasurements} from \"../../utils\";\r\nexport type ScrollItemOptions = {\r\n    container: PIXI.Container,\r\n    onClick?: Function,\r\n}\r\n\r\nconst tweenFunctions = require('tween-functions');\r\n\r\nimport { PixiElement } from \"../../Element\";\r\nimport { ValidMeasurement } from \"../../types\";\r\n\r\nimport {ScrollBar, ScrollBarStyleOptions} from './ScrollBar';\r\nimport {DestroyOptions} from \"pixi.js\";\r\n\r\nexport type ScrollStyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    backgroundColor: number,\r\n    dividerColor: number,\r\n    dividerPixelHeight: number,\r\n    dividerPercentWidth: number,\r\n    dividerTopPadding: number,\r\n    dividerBottomPadding: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n    scrollBarOptions?: ScrollBarStyleOptions,\r\n}\r\n\r\nexport type ScrolllPerformanceOptions = {\r\n    disableScrollWheelScroll: boolean;\r\n    disableTouchScroll : boolean;\r\n    visibilityBuffer: number;\r\n    adjustVisibilityTime: number;\r\n}\r\nconst defaultPerformanceOptions = {\r\n    disableTouchScroll: false,\r\n    disableScrollWheelScroll: false,\r\n    visibilityBuffer: 200,\r\n    adjustVisibilityTime: 130,\r\n}\r\n\r\nexport class ScrollList extends PIXI.Container {\r\n    private scrollStyleOptions: ScrollStyleOptions;\r\n    private scrollItemsById: any = {};\r\n    private options: Array<PIXI.Container> = [];\r\n    private po: PixiElement = new PixiElement();\r\n\r\n    private scrollBar: ScrollBar;\r\n    private scrollbarScroll: PIXI.Graphics;\r\n    private scrollRect: PixiElement = new PixiElement();\r\n    private scrollDuration: number = 0;\r\n\r\n    private scrollMask: PIXI.Graphics;\r\n\r\n    private _currentScroll: number = 0;\r\n    private lastScroll: number = 0;\r\n    private __width: number;\r\n    private __height: number;\r\n\r\n    private pointerdownStart: number = 0;\r\n    private startingVisibleChildIndex: number = 0;\r\n    private endingVisibleChildIndex: number = 0;\r\n\r\n    private scrollCurrentDur: number = 0;\r\n    private currentAdjustVisibilityDelta: number = 0;\r\n    private animationFrame: any = null;\r\n    private nextItemY: number = 0;\r\n    private scrollToDest: number = 0;\r\n    private listContainer: PixiElement = new PixiElement();\r\n    private listRect: PIXI.Graphics = new PIXI.Graphics();\r\n    private scrollLength: number = 0;\r\n    private adjustedIndex: number = 0;\r\n    maxHeight: number = 0;\r\n    private lastOverOption: PIXI.Container = null;\r\n    private lastDownOption: PIXI.Container = null;\r\n    public freezeScroll: boolean = false;\r\n    private tweenFunc: Function;\r\n    private _needsUpdateScoller : boolean = true;\r\n    private _registeredScrollEvent : boolean = false;\r\n\r\n    readonly performanceOptions: ScrolllPerformanceOptions;\r\n    constructor(scrollStyleOptions: ScrollStyleOptions, scrollItemOptions: Array<ScrollItemOptions>, scrollPerformanceOptions?: ScrolllPerformanceOptions) {\r\n        super();\r\n        this.handleScrollWheelScroll = this.handleScrollWheelScroll.bind(this);\r\n\r\n        this.interactive = true;\r\n        this.interactiveChildren = true;\r\n        this.__width = parseLengthMeasurements(scrollStyleOptions.width).value;\r\n        this.__height = parseLengthMeasurements(scrollStyleOptions.height).value;\r\n\r\n        this.performanceOptions = scrollPerformanceOptions ? scrollPerformanceOptions : { ...defaultPerformanceOptions };\r\n        if(scrollPerformanceOptions) {\r\n            for(let key in defaultPerformanceOptions) {\r\n                if(!scrollPerformanceOptions.hasOwnProperty(key)) {\r\n                    this.performanceOptions[key] = defaultPerformanceOptions[key];\r\n                }\r\n            }\r\n        }\r\n        this.scrollbarScroll = new PIXI.Graphics();\r\n        this.scrollStyleOptions = scrollStyleOptions;\r\n        this.scrollLength = 0;\r\n        this.scrollMask = new PIXI.Graphics();\r\n        this.scrollMask.beginFill(0xFFFFFF);\r\n        this.scrollMask.drawRect(0, 0, this.__width, this.__height);\r\n        this.scrollMask.endFill();\r\n\r\n        this.listRect.beginFill(0xFFFFFF, 0);\r\n        this.listRect.drawRect(0, 0, this.__width, this.__height);\r\n        this.listRect.endFill();\r\n        this.scrollRect.addChild(this.listRect);\r\n\r\n     //   this.scrollMask.hitArea = new PIXI.Rectangle(0, 0, this.__width, this.__height);\r\n\r\n        this.addChild(this.scrollMask);\r\n        this.addChild(this.po);\r\n        this.po.interactive = true;\r\n        this.po.mask = this.scrollMask;\r\n\r\n     //   this.addChild(this.scrollRect);\r\n\r\n        let lastScrollY;\r\n        let heldTimeout = null;\r\n\r\n        if(!this.performanceOptions.disableScrollWheelScroll) {\r\n            this.registerScrollEvents();\r\n        }\r\n\r\n     //   this.initializeEventPropogation();\r\n        if(!this.performanceOptions.disableTouchScroll) {\r\n            this.scrollRect.onSwipe(this.applySwipe.bind(this));\r\n\r\n            this.on('pointerdown', (event) => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.performanceOptions.disableTouchScroll) return;\r\n                if(this.animationFrame !== null) {\r\n                    cancelAnimationFrame(this.animationFrame);\r\n                    if(!this.po.inDrag) {\r\n                        this.po.emit('dragstart', event);\r\n                    }\r\n                    this.animationFrame = null;\r\n                }\r\n            });\r\n            this.on('pointerup', () => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.performanceOptions.disableTouchScroll) return;\r\n                if(heldTimeout) {\r\n                    clearTimeout(heldTimeout);\r\n                    heldTimeout = null;\r\n                }\r\n            });\r\n\r\n            this.po.onSwipe(this.applySwipe.bind(this));\r\n            this.po.onDragStart(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.freezeScroll) return;\r\n                this.tweenFunc = tweenFunctions.easeOutElastic;\r\n                this.scrollLength = 0;\r\n                this.scrollCurrentDur = 0;\r\n                this.scrollDuration = 0;\r\n                this.currentAdjustVisibilityDelta = 0;\r\n                lastScrollY = event.data.global.y;\r\n            });\r\n            this.po.onDragMove(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                if(this.freezeScroll) return;\r\n                const diff =  event.data.global.y - lastScrollY;\r\n                lastScrollY = event.data.global.y;\r\n                this.applyDrag(diff);\r\n            });\r\n            this.po.onDragEnd(event => {\r\n                if(this.scrollBar && this.scrollBar.scrolling) return;\r\n                this.adjustVisibility(null, true);\r\n            });\r\n        }\r\n        if(scrollStyleOptions.scrollBarOptions) {\r\n            this.scrollBar = new ScrollBar(this, scrollStyleOptions.scrollBarOptions);\r\n            this.addChild(this.scrollBar);\r\n            this.scrollBar.on('scrolled', (percent) => {\r\n                this._needsUpdateScoller = false;\r\n                this.setScrollPercent(percent);\r\n                this._needsUpdateScoller = true;\r\n            });\r\n        }\r\n\r\n       // this.po.mask = this.scrollMask;\r\n        this.redraw();\r\n    }\r\n\r\n    private handleScrollWheelScroll(event : WheelEvent) {\r\n        this.currentScroll += event.deltaY;\r\n        this.adjustVisibility(null, true);\r\n    }\r\n\r\n    public destroy(options?: DestroyOptions | boolean) {\r\n        if(this._registeredScrollEvent) {\r\n            document.removeEventListener('wheel', this.handleScrollWheelScroll);\r\n            this._registeredScrollEvent = false;\r\n        }\r\n        super.destroy(options)\r\n    }\r\n\r\n    get utilizedLength() : number {\r\n        return this.maxHeight - this.__height;\r\n    }\r\n\r\n    get scrollPercent() : number {\r\n        return this.currentScroll / this.utilizedLength\r\n    }\r\n\r\n    private registerScrollEvents() {\r\n        this.once('pointerover', () => {\r\n            this._registeredScrollEvent = true;\r\n            document.addEventListener('wheel', this.handleScrollWheelScroll);\r\n            this.once('pointerout', () => {\r\n                document.removeEventListener('wheel', this.handleScrollWheelScroll);\r\n                this._registeredScrollEvent = false;\r\n                this.registerScrollEvents();\r\n            })\r\n        })\r\n    }\r\n\r\n    public setScrollPercent(n : number) {\r\n        n = clamp(n, 0, 1);\r\n        const prev = this.currentScroll;\r\n        this.currentScroll = this.utilizedLength * n;\r\n        if(prev !== this.currentScroll) {\r\n            this.adjustVisibility(null, true);\r\n        }\r\n    }\r\n\r\n    private findVisible() {\r\n\r\n    }\r\n\r\n    public freeze() {\r\n        this.toggleFreezeScroll(true)\r\n    }\r\n    public unfreeze() {\r\n        this.toggleFreezeScroll(false);\r\n    }\r\n    public toggleFreezeScroll(freeze: boolean) {\r\n        this.freezeScroll = freeze;\r\n    }\r\n\r\n    private _containsPoint(container: PIXI.Container, p) {\r\n        p = this.toLocal(p);\r\n        const ix = 0;\r\n        const ax = this.__width;\r\n        const iy = container.y - this.currentScroll;\r\n        const ay = iy + container.height;\r\n\r\n        return (ix <= p.x && p.x <= ax && iy <= p.y && p.y <= ay)\r\n    }\r\n\r\n    public resize(w, h) {\r\n        this.__width = w;\r\n        this.__height = h;\r\n        this.scrollMask.clear();\r\n        this.scrollMask\r\n            .beginFill(0xFFFFFF)\r\n            .drawRect(0, 0, this.__width, this.__height)\r\n            .endFill();\r\n\r\n        this.listRect.clear();\r\n        this.listRect\r\n            .beginFill(this.scrollStyleOptions.backgroundColor)\r\n            .drawRect(0, 0, this.__width, this.__height)\r\n            .endFill();\r\n\r\n        this.adjustVisibility(null, true);\r\n        this.scrollBar && this.scrollBar.redraw();\r\n    }\r\n\r\n    private redraw() {\r\n        this.adjustOptions();\r\n        if(this.scrollBar) {\r\n            this.scrollBar.redraw();\r\n            this.scrollBar.x = this.po.width;\r\n        }\r\n    }\r\n\r\n\r\n    private repositionOptions() {\r\n        let y = 0;\r\n        for(let i = 0; i < this.options.length; i++) {\r\n            this.options[i].y = y;\r\n            y += this.options[i].height\r\n        }\r\n    }\r\n\r\n    private adjustVisibility(delta, force=false) {\r\n        if(force) {\r\n            this.currentAdjustVisibilityDelta = 0;\r\n        } else {\r\n            this.currentAdjustVisibilityDelta += delta;\r\n            if(!force && this.currentAdjustVisibilityDelta >= this.performanceOptions.adjustVisibilityTime) {\r\n                this.currentAdjustVisibilityDelta = 0;\r\n                return;\r\n            }\r\n        }\r\n        let setFirstVisible = false;\r\n        for(let i = 0; i < this.options.length; i++) {\r\n            const option = this.options[i];\r\n            const canSeeFromTop = option.y + option.height + this.performanceOptions.visibilityBuffer >= this.currentScroll;\r\n            const canSeeFromBottom = this.__height + this.currentScroll >= option.y - this.performanceOptions.visibilityBuffer;\r\n            const wasVisible = option.visible;\r\n            option.visible = canSeeFromBottom && canSeeFromTop;\r\n            if(option.visible && !setFirstVisible) {\r\n                this.startingVisibleChildIndex = i;\r\n                setFirstVisible = true;\r\n            }\r\n            if(!option.visible && setFirstVisible) {\r\n                this.endingVisibleChildIndex = Math.min(i + 1, this.options.length - 1);\r\n            }\r\n\r\n            if(wasVisible !== option.visible) {\r\n                if(wasVisible) {\r\n                    option.emit('hide');\r\n                } else {\r\n                    option.emit('show');\r\n                }\r\n                if(option['just_added']) {\r\n                    delete option['just_added'];\r\n                }\r\n            } else if (option['just_added']) {\r\n                if(option.visible) {\r\n                    option.emit('show');\r\n                } else {\r\n                    option.emit('hide');\r\n                }\r\n                delete option['just_added'];\r\n            }\r\n\r\n            if(!option.visible && !wasVisible && setFirstVisible) {\r\n                // dont need to check any more\r\n               // console.log('adjust visibility took', Date.now() - start);\r\n                return;\r\n            }\r\n        }\r\n        // if it gets here it didnt run into an ending visible which means the last item is visible.\r\n        this.endingVisibleChildIndex = this.options.length - 1;\r\n    //    console.log('adjust visibility took', Date.now() - start);\r\n    }\r\n\r\n    private adjustOptions() {\r\n      //  console.log('adjust options', this.currentScroll);\r\n        if(this.po && this.po.parent === this) {\r\n            this.po.y = -this.currentScroll;\r\n            this.adjustedIndex++;\r\n        }\r\n    }\r\n\r\n    private animateScroll(ts: number) {\r\n        const now = Date.now();\r\n        const delta = now - ts;\r\n        this.currentAdjustVisibilityDelta += delta;\r\n        this.scrollCurrentDur += delta;\r\n\r\n        if(this.scrollCurrentDur >= this.scrollDuration) {\r\n            this.animationFrame = null;\r\n            this.currentScroll = this.scrollToDest;\r\n            this.currentAdjustVisibilityDelta = 0;\r\n            this.adjustVisibility(null, true);\r\n            return null;\r\n        }\r\n        this.currentScroll = this.tweenFunc(this.scrollCurrentDur, this.lastScroll, this.scrollToDest, this.scrollDuration);\r\n\r\n        this.adjustVisibility(delta);\r\n\r\n        return requestAnimationFrame(() => {\r\n            if(this.animationFrame !== null) {\r\n                this.animationFrame = this.animateScroll(now);\r\n            }\r\n        });\r\n    }\r\n\r\n    private applyDrag(difference) {\r\n        if(this.animationFrame) return;\r\n\r\n        // scroll height is less than total height.. no need to scroll anything.\r\n        if(this.maxHeight <= this.__height) {\r\n            return;\r\n        }\r\n        if(difference > 0 && this._currentScroll === 0) {\r\n            this.adjustVisibility(null, true);\r\n            return;\r\n        } else if (difference < 0 && this._currentScroll === this.maxHeight - this.__height) {\r\n            this.adjustVisibility(null, true);\r\n            return;\r\n        }\r\n\r\n        this.lastScroll = this._currentScroll;\r\n        this.scrollLength += difference;\r\n\r\n        this.scrollToDest = this.scrollLength >= 0 ?\r\n            Math.min(this.maxHeight - this.__height, this._currentScroll - difference) :\r\n            Math.max(0, this._currentScroll - difference);\r\n\r\n        this.scrollDuration += Math.abs(difference);\r\n        const distanceToTraverse = Math.abs(this._currentScroll - this.scrollToDest);\r\n        const maxTime = distanceToTraverse > 1000 ? 4000 : distanceToTraverse > 700 ? 3000 : distanceToTraverse > 500  ? 2000 : distanceToTraverse > 200 ? 1000 : 400;\r\n\r\n        this.scrollDuration = Math.min(this.scrollDuration, maxTime);\r\n        this.animationFrame = this.animateScroll(Date.now());\r\n    }\r\n\r\n    private applySwipe(power) {\r\n        if(Math.abs(power) < 1) return;\r\n\r\n        if(this.animationFrame) {\r\n            cancelAnimationFrame(this.animationFrame);\r\n            this.animationFrame = null;\r\n        }\r\n\r\n        this.tweenFunc = tweenFunctions.easeOutCubic;\r\n        this.lastScroll = this._currentScroll;\r\n        this.scrollCurrentDur = 0;\r\n        const absPower = Math.abs(power);\r\n        const multiplier = absPower < 10 ? 25 : absPower < 25 ? 30 : absPower < 30 ? 35 : absPower < 35 ? 55 : absPower < 40 ? 60 : absPower < 60 ? 65 : 80;\r\n        const diff = power * multiplier;\r\n        // scroll height is less than total height.. no need to scroll anything.\r\n        if(this.maxHeight <= this.__height) {\r\n            return;\r\n        }\r\n\r\n        this.scrollToDest = power >= 0 ?\r\n            Math.min( this.maxHeight - this.__height, this._currentScroll + diff) :\r\n            Math.max(0, this._currentScroll + diff);\r\n\r\n     //   if(this.scrollToDest === this.maxHeight - this.__height || this.scrollToDest === 0) {}\r\n\r\n        const distanceToTraverse = Math.abs(this._currentScroll - this.scrollToDest);\r\n        let maxTime;\r\n        if(this.scrollToDest === 0 || this.scrollToDest === this.maxHeight - this.__height + 0) {\r\n            maxTime = distanceToTraverse > 1000 ? 1000 : distanceToTraverse > 500 ? 500 : 200;\r\n        } else {\r\n            maxTime = distanceToTraverse > 2700 ? 4000 : distanceToTraverse > 2300 ? 3500 : distanceToTraverse > 1500 ? 3000 : distanceToTraverse > 1000 ? 2700 : distanceToTraverse > 700 ? 2300 : distanceToTraverse > 500 ? 2000 : distanceToTraverse > 300 ? 1500 : distanceToTraverse > 100 ? 1000 : 700;\r\n        }\r\n        this.scrollDuration = Math.min(maxTime);\r\n        this.animationFrame = this.animateScroll(Date.now());\r\n    }\r\n\r\n    set currentScroll(value) {\r\n        if(value < 0) {\r\n            value = 0;\r\n        } else if (value > this.maxHeight - this.__height) {\r\n            value = this.maxHeight - this.__height\r\n        }\r\n        this._currentScroll = value;\r\n        if (this.scrollBar && this._needsUpdateScoller) {\r\n            this.scrollBar.setScrollPercent(this.scrollPercent);\r\n        }\r\n        this.adjustOptions();\r\n    }\r\n\r\n    get currentScroll() {\r\n        return this._currentScroll;\r\n    }\r\n\r\n    public addScrollItems(containers: Array<PIXI.Container>) {\r\n        containers.forEach(c => {\r\n            c['just_added'] = true;\r\n            c.visible = true;\r\n            this.po.addChild(c);\r\n            if(c.interactive) {\r\n                c.hitArea = new PIXI.Rectangle(0, 0, c.width, c.height);\r\n            }\r\n            this.options.push(c);\r\n        });\r\n        this.recalculateHeight();\r\n        this.repositionOptions();\r\n        this.adjustVisibility(null, true);\r\n        this.redraw();\r\n    }\r\n    public addScrollItem(container: PIXI.Container) {\r\n        this.addScrollItems([container])\r\n    }\r\n\r\n    private recalculateHeight() {\r\n        let height = 0;\r\n        this.options.forEach(c => {\r\n            height += c.height;\r\n        });\r\n        this.maxHeight = height;\r\n    }\r\n\r\n    public spliceScrollItems(fromIndex, toIndex?, destroyItem=true) {\r\n        toIndex = toIndex >= 0 ? toIndex : this.options.length;\r\n        const indexArray = [];\r\n        for(let i = fromIndex; i < toIndex; i++) {\r\n            indexArray.push(i);\r\n        }\r\n        this.removeScrollItems(indexArray, destroyItem);\r\n    }\r\n\r\n    public removeScrollItems(indexOrContainer, destroyItem=true) {\r\n        if(!(Array.isArray(indexOrContainer))) {\r\n            indexOrContainer = [indexOrContainer]\r\n        }\r\n\r\n        const indexesToRemove = [];\r\n        indexOrContainer.forEach(i => {\r\n            let container;\r\n            if (!isNaN(i)) {\r\n                container = this.options[i];\r\n            } else {\r\n                container = indexOrContainer;\r\n            }\r\n            const foundOption = this.options.find(o => o === container);\r\n            if (foundOption) {\r\n                indexesToRemove.push(this.options.indexOf(foundOption));\r\n\r\n                if(foundOption && foundOption.parent === this.po) {\r\n                    this.po.removeChild(foundOption);\r\n                }\r\n                if(destroyItem) {\r\n                    foundOption.destroy({ children: true })\r\n                }\r\n            }\r\n        });\r\n        if(indexesToRemove.length) {\r\n            this.options = this.options.filter((o, i) => {\r\n                return !(indexesToRemove.includes(i));\r\n            });\r\n\r\n            if(this._currentScroll > this.maxHeight - this.__height) {\r\n                this.currentScroll = this.maxHeight - this.__height;\r\n            }\r\n            this.recalculateHeight();\r\n            this.repositionOptions();\r\n            this.adjustVisibility(null, true);\r\n            this.redraw();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    private findOptionAtPoint(p) : PIXI.Container {\r\n        for(let i = this.startingVisibleChildIndex; i <= this.endingVisibleChildIndex; i++) {\r\n            const opt : PIXI.Container = this.options[i];\r\n            if(opt.visible && this._containsPoint(opt, p)) {\r\n                return opt;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    private recurseChildren(el, point, foundChildren) {\r\n        if(el.interactive || el.interactiveChildren) {\r\n            if(this._containsPoint(el, point)) {\r\n                if(el.interactive) {\r\n                    foundChildren.push(el);\r\n                }\r\n                if(el.interactiveChildren && el.children) {\r\n                    el.children.forEach(child => {\r\n                        this.recurseChildren(child, point, foundChildren);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        return foundChildren;\r\n    }\r\n}\r\n","'use strict';\n\n// t: current time, b: beginning value, _c: final value, d: total duration\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * t / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    } else {\n      return -c / 2 * ((--t) * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t + b;\n    } else {\n      return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n","import color = Mocha.reporters.Base.color;\r\nimport { string2hex } from \"../utils\";\r\n\r\nconst ColorTween = require('gotti-color-tween/dist/color-tween.js');\r\nconst circlePadding = 2;\r\n\r\nimport { ToggleOptions, AnimationType, OutlineOptions, LabelOptions, AnimationOptions, ToggleAnimationExclusions } from \"../types\";\r\n\r\nexport class Toggle extends PIXI.Container {\r\n    private _toggled: boolean = true;\r\n    private backgroundGraphic: PIXI.Graphics;\r\n    private circleGraphic: PIXI.Graphics;\r\n    private options: ToggleOptions;\r\n    private circleRadius: number;\r\n    private computedBorderRadius: number;\r\n\r\n    private onText: PIXI.extras.BitmapText;\r\n    private offText: PIXI.extras.BitmapText;\r\n    private usingLabels: boolean = false;\r\n    private updateToggle: Function;\r\n\r\n    private _activeBackgroundColor;\r\n    private _inactiveBackgroundColor;\r\n    private _activeCircleColor;\r\n    private _inactiveCircleColor;\r\n    private _travelToX;\r\n\r\n    private tween: any;\r\n\r\n    private backgroundColorsArrayIndex: number = null;\r\n    private circleColorsArrayIndex: number = null;\r\n\r\n    private toggleCircleTravelDistance: number = 0;\r\n\r\n    constructor(options: ToggleOptions, isToggled?: boolean) {\r\n        super();\r\n        this.options = options;\r\n        this.backgroundGraphic = new PIXI.Graphics();\r\n        const borderRadius = options.borderRadius ? options.borderRadius : 50;\r\n        options.borderRadius = borderRadius;\r\n        this.computedBorderRadius = (options.borderRadius / 100) * options.height;\r\n\r\n        this.backgroundGraphic.drawRoundedRect(0, 0, options.width, options.height, this.computedBorderRadius);\r\n        this.addChild(this.backgroundGraphic);\r\n\r\n        if(options.labelOptions) {\r\n            const { fontName, onLabel, offLabel, onColor, offColor } = options.labelOptions;\r\n            this.onText = new PIXI.extras.BitmapText(onLabel, { font: fontName, align: \"left\" });\r\n            this.offText = new PIXI.extras.BitmapText(offLabel, { font: fontName, align: \"left\" });\r\n            this.addChild(this.onText);\r\n            this.addChild(this.offText);\r\n\r\n            this.onText.visible = false;\r\n            this.offText.visible = false;\r\n\r\n            const offXDiff = (options.width / 2) - this.offText.width;\r\n            if(offXDiff < 0) {throw new Error('Label for off text was too long')}\r\n            this.offText.x = ((options.width / 2)  + offXDiff / 2) - circlePadding;\r\n            this.offText.tint = offColor;\r\n\r\n            const offYDiff = options.height - this.offText.height;\r\n            if(offYDiff < 0) { throw new Error('Label font is too large to fit within height of toggle, either increase height or use smaller font')};\r\n            this.offText.y = offYDiff / 2;\r\n\r\n            const onXDiff = (options.width / 2) - this.onText.width;\r\n            if(onXDiff < 0) {throw new Error('Label for on text was too long')}\r\n            this.onText.x = circlePadding + onXDiff / 2;\r\n            this.onText.tint = onColor;\r\n\r\n            const onYDiff = options.height - this.onText.height;\r\n            if(onYDiff < 0) { throw new Error('Label font is too large to fit within height of toggle, either increase height or use smaller font')};\r\n            this.onText.y = offYDiff / 2;\r\n            this.usingLabels = true;\r\n        }\r\n\r\n        this.circleRadius = (this.options.height / 2) - circlePadding;\r\n        this.circleGraphic = new PIXI.Graphics();\r\n        this.circleGraphic.drawCircle(0, 0, this.circleRadius);\r\n\r\n        this.circleGraphic.y = circlePadding;\r\n\r\n        this.addChild(this.circleGraphic);\r\n\r\n        this.toggleCircleTravelDistance = Math.abs((circlePadding) -  (this.options.width - this.circleGraphic.width - circlePadding));\r\n\r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n        this.on('pointerdown', () => {\r\n            this.toggled = !this.toggled;\r\n        });\r\n        this.updateToggle = this.staticToggleUpdate.bind(this);\r\n        this.toggled = !!isToggled;\r\n        this.updateToggle = options.animationOptions ? this.animatedToggleUpdate.bind(this) : this.staticToggleUpdate.bind(this);\r\n    }\r\n\r\n    get activeBackgroundColor() {\r\n        return this.toggled ? this.options.onBackgroundColor : this.options.offBackgroundColor;\r\n    }\r\n\r\n    get inactiveBackgroundColor() {\r\n        return this.toggled ? this.options.offBackgroundColor : this.options.onBackgroundColor;\r\n    }\r\n\r\n    get activeCircleColor() {\r\n        return this.toggled ? this.options.onCircleColor : this.options.offCircleColor;\r\n    }\r\n\r\n    get inactiveCircleColor() {\r\n        return this.toggled ? this.options.offCircleColor : this.options.onCircleColor;\r\n    }\r\n\r\n    get activeTextLabel() {\r\n        return this.toggled ? this.onText : this.offText;\r\n    }\r\n\r\n    get inactiveTextLabel() {\r\n        return this.toggled ? this.offText : this.onText;\r\n    }\r\n\r\n    get travelToX() {\r\n        return this.toggled ? circlePadding : this.options.width - this.circleGraphic.width - circlePadding;\r\n    }\r\n\r\n    set toggled(val) {\r\n        this.emit('toggle-change', val);\r\n        this._toggled = val;\r\n\r\n        this.updateToggle();\r\n\r\n        //TODO: tween colors in interval with a delta\r\n    }\r\n\r\n    get toggled() {\r\n        return this._toggled;\r\n    }\r\n\r\n    public onToggle(callback) {\r\n        this.on('toggle-change', callback);\r\n    }\r\n\r\n    private animateToggle(delta) {\r\n        if(this.tween.update()) {\r\n            requestAnimationFrame(this.animateToggle.bind(this));\r\n        }\r\n    }\r\n\r\n    private midAnimationToggleUpdate(colors, progress) {\r\n        const traveledDistance = this.toggleCircleTravelDistance * progress;\r\n        const { exclude } = this.options.animationOptions;\r\n\r\n        if(this.usingLabels && (!exclude || !exclude.includes(ToggleAnimationExclusions.label))) {\r\n            this.activeTextLabel.visible = true;\r\n            this.inactiveTextLabel.visible = true;\r\n            this.inactiveTextLabel.alpha = 1 - progress;\r\n            this.activeTextLabel.alpha = progress;\r\n        }\r\n\r\n        if (this.backgroundColorsArrayIndex !== null) {\r\n            this.backgroundGraphic.clear();\r\n            if (this.options.hasOwnProperty('backgroundOutline')) {\r\n                const {width, color} = this.options.backgroundOutline;\r\n                this.backgroundGraphic.lineStyle(width, color);\r\n            }\r\n            this.backgroundGraphic.beginFill(string2hex(colors[this.backgroundColorsArrayIndex].hex()));\r\n            this.backgroundGraphic.drawRoundedRect(0, 0, this.options.width, this.options.height, this.computedBorderRadius);\r\n            this.backgroundGraphic.endFill();\r\n        }\r\n\r\n        if (!exclude || !exclude.includes(ToggleAnimationExclusions.circle_position)) {\r\n            if (this.toggled) {\r\n                this.circleGraphic.x = this.travelToX + traveledDistance;\r\n            } else {\r\n                this.circleGraphic.x = this.travelToX - traveledDistance;\r\n            }\r\n        };\r\n\r\n        if (this.circleColorsArrayIndex !== null) {\r\n            this.circleGraphic.clear();\r\n            this.circleGraphic.beginFill(string2hex(colors[this.circleColorsArrayIndex].hex()));\r\n            this.circleGraphic.drawCircle(this.circleRadius, this.circleRadius, this.circleRadius);\r\n            this.circleGraphic.endFill();\r\n        };\r\n    }\r\n\r\n    private animatedToggleUpdate() {\r\n        const activeColorsArray = [];\r\n        const inactiveColorsArray = [];\r\n        const { exclude } = this.options.animationOptions;\r\n\r\n        if(!exclude || !exclude.includes(ToggleAnimationExclusions.background)) {\r\n            activeColorsArray.push(PIXI.utils.hex2string(this.activeBackgroundColor));\r\n            inactiveColorsArray.push(PIXI.utils.hex2string(this.inactiveBackgroundColor));\r\n            this.backgroundColorsArrayIndex = 0;\r\n        }\r\n        if(!exclude || !exclude.includes(ToggleAnimationExclusions.circle_color)) {\r\n            activeColorsArray.push(PIXI.utils.hex2string(this.activeCircleColor));\r\n            inactiveColorsArray.push(PIXI.utils.hex2string(this.inactiveCircleColor));\r\n            this.circleColorsArrayIndex = activeColorsArray.length - 1;\r\n        }\r\n        this.tween = new ColorTween(inactiveColorsArray, activeColorsArray)\r\n            .duration(this.options.animationOptions.duration)\r\n            .easing(this.options.animationOptions.type)\r\n            .onUpdate(this.midAnimationToggleUpdate.bind(this))\r\n            .onEnd(this.staticToggleUpdate.bind(this))\r\n            .start(this.animateToggle.bind(this));\r\n    }\r\n\r\n    private staticToggleUpdate() {\r\n        this.backgroundGraphic.clear();\r\n        if(this.options.hasOwnProperty('backgroundOutline')) {\r\n            const { width, color } = this.options.backgroundOutline;\r\n            this.backgroundGraphic.lineStyle(width, color);\r\n        }\r\n        // when its to the right were toggled/on so use options/width to calculate for now\\\r\n        let xPosition;\r\n        let circleColor;\r\n        let backgroundColor;\r\n\r\n        if(this._toggled) {\r\n            backgroundColor = this.options.onBackgroundColor;\r\n            xPosition = this.options.width - this.circleGraphic.width - circlePadding;\r\n            circleColor =  this.options.onCircleColor;\r\n            this._showOnText();\r\n        } else {\r\n            backgroundColor =  this.options.offBackgroundColor;\r\n            xPosition =  0 + circlePadding;\r\n            circleColor = this.options.offCircleColor;\r\n            this._showOffText();\r\n        }\r\n\r\n        this.backgroundGraphic.beginFill(backgroundColor);\r\n        this.backgroundGraphic.drawRoundedRect(0, 0, this.options.width, this.options.height, this.computedBorderRadius);\r\n        this.backgroundGraphic.endFill();\r\n\r\n        this.circleGraphic.clear();\r\n        this.circleGraphic.beginFill(circleColor);\r\n        this.circleGraphic.drawCircle(this.circleRadius, this.circleRadius, this.circleRadius);\r\n        this.circleGraphic.endFill();\r\n        this.circleGraphic.x = xPosition;\r\n    }\r\n\r\n    private _showOnText() {\r\n        if(this.usingLabels) {\r\n            this.onText.visible = true;\r\n            this.offText.visible = false;\r\n        }\r\n    }\r\n\r\n    private _showOffText() {\r\n        if(this.usingLabels) {\r\n            this.onText.visible = false;\r\n            this.offText.visible = true;\r\n        }\r\n    }\r\n}","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ColorTween\"] = factory();\n\telse\n\t\troot[\"ColorTween\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar Easing = __webpack_require__(2);\r\n\tvar Color = __webpack_require__(4);\r\n\tvar now = Date.now;\r\n\r\n\tmodule.exports = function (startColorStrings, endColorStrings) {\r\n\t  var startColors = startColorStrings.map(function(s) {return Color(s).rgb().array()});\r\n\t  var endColors = endColorStrings.map(function(s) { return Color(s).rgb().array() });\r\n\t  var tween = this;\r\n\t  params = {\r\n\t    updater: function(){},\r\n\t    ender: function(){},\r\n\t    length: 1000,\r\n\t    startTime: undefined,\r\n\t    easing: Easing('linear')\r\n\t  }\r\n\r\n\t// Public API\r\n\t  tween.onUpdate = overwrite('updater');\r\n\t  tween.onEnd = overwrite('ender');\r\n\t  tween.start = start;\r\n\t  tween.duration = overwrite('length');\r\n\t  tween.stop = stop;\r\n\t  tween.update = update;\r\n\t  tween.easing = setEasing;\r\n\r\n\t  return tween;\r\n\r\n\t/* --------------- */\r\n\r\n\t  function setEasing(name) {\r\n\t    params.easing = Easing(name) || Easing('linear');\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function start(cb) {\r\n\t    params.startTime = now();\r\n\t    if (typeof(cb) === 'function'){\r\n\t      setTimeout(cb);\r\n\t    }\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function update() {\r\n\t    if (params.startTime) {\r\n\t      var frame = renderFrame();\r\n\t      if (frame.progress > 1) {\r\n\t        done();\r\n\t      } else {\r\n\t        params.updater(frame.frames, frame.progress);\r\n\t      }\r\n\t      return frame.frames;\r\n\t    }\r\n\t    return null;\r\n\t  }\r\n\r\n\t  function renderFrame() {\r\n\t    var pos = now() - params.startTime\r\n\t    var percent = pos / params.length;\r\n\t    const frames = endColors.map(function(endColor, i) {\r\n\t      return Color.rgb(endColor.map(function(val, j) {\r\n\t        return startColors[i][j] + (val - startColors[i][j]) * params.easing(percent);\r\n\t      }));\r\n\t    });\r\n\t    return {\r\n\t      frames: frames,\r\n\t      progress: percent\r\n\t    }\r\n\t  }\r\n\r\n\t  function done() {\r\n\t    params.updater(endColors.map(function(e) { return Color.rgb(e) }), 1);\r\n\t    stop();\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function stop() {\r\n\t    params.startTime = undefined;\r\n\t    params.ender(endColors.map(function(e) { Color.rgb(e) }), 1);\r\n\t    return tween;\r\n\t  }\r\n\r\n\t  function overwrite(key) {\r\n\t    return function(val) {\r\n\t      params[key] = val;\r\n\t      return tween;\r\n\t    }\r\n\t  }\r\n\t}\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar easingFunctions = __webpack_require__(3);\r\n\r\n\t// Rewrite API with shorthand\r\n\teasingFunctions = Object.keys(easingFunctions).reduce(function(acc, key, index){\r\n\t  acc[key] = shorthand(easingFunctions[key]);\r\n\t  return acc;\r\n\t}, {})\r\n\r\n\tmodule.exports = function(name) {\r\n\t  // return easing function given a name like 'quibicInOut'\r\n\t\tvar path = parseName(name);\r\n\t\tif (path.length === 1) {\r\n\t\t\treturn easingFunctions[path[0]];\r\n\t\t}\r\n\t\treturn easingFunctions[path[0]][path[1]];\r\n\t}\r\n\r\n\r\n\tfunction parseName(name) {\r\n\t\t// parse easing name into array\r\n\t\t// example: `qubic` becomes ['quibic']\r\n\t\t// example: `qubicInOut' becomes ['qubic', 'InOut'];\r\n\r\n\t\tvar tests = [/InOut$/, /In$/, /Out$/];\r\n\t\tvar found = tests.reduce(function(acc, reg, i) {\r\n\t    var match = reg.exec(name);\r\n\t    if (match && !acc) {\r\n\t    \tacc = match;\r\n\t    }\r\n\t    return acc;\r\n\t  }, undefined);\r\n\t  if (!found) {\r\n\t  \treturn [name];\r\n\t  }\r\n\t  return [name.substr(0, found.index), found[0]];\r\n\t}\r\n\r\n\tfunction shorthand(ease){\r\n\t\t// Rewrites easing definition so that name() === name.InOut();\r\n\t\tvar subject = ease.InOut;\r\n\t\tsubject.In = ease.In;\r\n\t\tsubject.Out = ease.Out;\r\n\t\tsubject.InOut = ease.InOut;\r\n\t\treturn subject;\r\n\t}\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t/*\r\n\tEasing Types extracted from tween.js\r\n\thttps://github.com/tweenjs/tween.js\r\n\r\n\tAvailable funcation all can be referenced by name, or by name.In, name.Out, and name.InOut);\r\n\r\n\t linear, quadratic, cubic, quartic, quintic, sinusoidal, exponential, circular, elastic, back, bounce\r\n\r\n\t*/\r\n\tmodule.exports = {\r\n\t  linear: {\r\n\t    In: function(k) {\r\n\t      return k;\r\n\t    },\r\n\t\t\tOut: function(k) {\r\n\t      return k;\r\n\t    },\r\n\t\t\tInOut: function(k) {\r\n\t      return k;\r\n\t    }\r\n\t  },\r\n\t  quadratic: {\r\n\t    In: function(k) {\r\n\t      return k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return k * (2 - k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k;\r\n\t      }\r\n\t      return -0.5 * (--k * (k - 2) - 1);\r\n\t    }\r\n\t  },\r\n\t  cubic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return --k * k * k + 1;\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k;\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * k + 2);\r\n\t    }\r\n\t  },\r\n\t  quartic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return 1 - (--k * k * k * k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k * k;\r\n\t      }\r\n\t      return -0.5 * ((k -= 2) * k * k * k - 2);\r\n\t    }\r\n\t  },\r\n\t  quintic: {\r\n\t    In: function(k) {\r\n\t      return k * k * k * k * k;\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return --k * k * k * k * k + 1;\r\n\t    },\r\n\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * k * k * k * k * k;\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * k * k * k + 2);\r\n\t    }\r\n\t  },\r\n\t  sinusoidal: {\r\n\t    In: function(k) {\r\n\t      return 1 - Math.cos(k * Math.PI / 2);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return Math.sin(k * Math.PI / 2);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      return 0.5 * (1 - Math.cos(Math.PI * k));\r\n\t    }\r\n\t  },\r\n\t  exponential: {\r\n\t    In: function(k) {\r\n\t      return k === 0 ? 0 : Math.pow(1024, k - 1);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * Math.pow(1024, k - 1);\r\n\t      }\r\n\t      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\r\n\t    }\r\n\t  },\r\n\t  circular: {\r\n\t    In: function(k) {\r\n\t      return 1 - Math.sqrt(1 - k * k);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      return Math.sqrt(1 - (--k * k));\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if ((k *= 2) < 1) {\r\n\t        return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n\t      }\r\n\t      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\r\n\t    }\r\n\t  },\r\n\t  elastic: {\r\n\t    In: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\r\n\t    },\r\n\r\n\t    InOut: function(k) {\r\n\t      if (k === 0) {\r\n\t        return 0;\r\n\t      }\r\n\t      if (k === 1) {\r\n\t        return 1;\r\n\t      }\r\n\t      k *= 2;\r\n\t      if (k < 1) {\r\n\t        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\r\n\t      }\r\n\t      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\r\n\t    }\r\n\t  },\r\n\t  back: {\r\n\t    In: function(k) {\r\n\t      var s = 1.70158;\r\n\t      return k * k * ((s + 1) * k - s);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      var s = 1.70158;\r\n\t      return --k * k * ((s + 1) * k + s) + 1;\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      var s = 1.70158 * 1.525;\r\n\t      if ((k *= 2) < 1) {\r\n\t        return 0.5 * (k * k * ((s + 1) * k - s));\r\n\t      }\r\n\t      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\r\n\t    }\r\n\t  },\r\n\t  bounce: {\r\n\t    In: function(k) {\r\n\t      return 1 - Easing.Bounce.Out(1 - k);\r\n\t    },\r\n\t    Out: function(k) {\r\n\t      if (k < (1 / 2.75)) {\r\n\t        return 7.5625 * k * k;\r\n\t      } else if (k < (2 / 2.75)) {\r\n\t        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\r\n\t      } else if (k < (2.5 / 2.75)) {\r\n\t        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\r\n\t      } else {\r\n\t        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\r\n\t      }\r\n\t    },\r\n\t    InOut: function(k) {\r\n\t      if (k < 0.5) {\r\n\t        return Easing.Bounce.In(k * 2) * 0.5;\r\n\t      }\r\n\t      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\r\n\t    }\r\n\t  }\r\n\t};\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar colorString = __webpack_require__(5);\n\tvar convert = __webpack_require__(9);\n\n\tvar _slice = [].slice;\n\n\tvar skippedModels = [\n\t\t// to be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t\t'keyword',\n\n\t\t// gray conflicts with some method names, and has its own method defined.\n\t\t'gray',\n\n\t\t// shouldn't really be in color-convert either...\n\t\t'hex'\n\t];\n\n\tvar hashedModelKeys = {};\n\tObject.keys(convert).forEach(function (model) {\n\t\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n\t});\n\n\tvar limiters = {};\n\n\tfunction Color(obj, model) {\n\t\tif (!(this instanceof Color)) {\n\t\t\treturn new Color(obj, model);\n\t\t}\n\n\t\tif (model && model in skippedModels) {\n\t\t\tmodel = null;\n\t\t}\n\n\t\tif (model && !(model in convert)) {\n\t\t\tthrow new Error('Unknown model: ' + model);\n\t\t}\n\n\t\tvar i;\n\t\tvar channels;\n\n\t\tif (!obj) {\n\t\t\tthis.model = 'rgb';\n\t\t\tthis.color = [0, 0, 0];\n\t\t\tthis.valpha = 1;\n\t\t} else if (obj instanceof Color) {\n\t\t\tthis.model = obj.model;\n\t\t\tthis.color = obj.color.slice();\n\t\t\tthis.valpha = obj.valpha;\n\t\t} else if (typeof obj === 'string') {\n\t\t\tvar result = colorString.get(obj);\n\t\t\tif (result === null) {\n\t\t\t\tthrow new Error('Unable to parse color from string: ' + obj);\n\t\t\t}\n\n\t\t\tthis.model = result.model;\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tthis.color = result.value.slice(0, channels);\n\t\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t\t} else if (obj.length) {\n\t\t\tthis.model = model || 'rgb';\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tvar newArr = _slice.call(obj, 0, channels);\n\t\t\tthis.color = zeroArray(newArr, channels);\n\t\t\tthis.valpha = typeof obj[channels] === 'number' ? obj[channels] : 1;\n\t\t} else if (typeof obj === 'number') {\n\t\t\t// this is always RGB - can be converted later on.\n\t\t\tobj &= 0xFFFFFF;\n\t\t\tthis.model = 'rgb';\n\t\t\tthis.color = [\n\t\t\t\t(obj >> 16) & 0xFF,\n\t\t\t\t(obj >> 8) & 0xFF,\n\t\t\t\tobj & 0xFF\n\t\t\t];\n\t\t\tthis.valpha = 1;\n\t\t} else {\n\t\t\tthis.valpha = 1;\n\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tif ('alpha' in obj) {\n\t\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\t\tthis.valpha = typeof obj.alpha === 'number' ? obj.alpha : 0;\n\t\t\t}\n\n\t\t\tvar hashedKeys = keys.sort().join('');\n\t\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(obj));\n\t\t\t}\n\n\t\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\t\tvar labels = convert[this.model].labels;\n\t\t\tvar color = [];\n\t\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\t\tcolor.push(obj[labels[i]]);\n\t\t\t}\n\n\t\t\tthis.color = zeroArray(color);\n\t\t}\n\n\t\t// perform limitations (clamping, etc.)\n\t\tif (limiters[this.model]) {\n\t\t\tchannels = convert[this.model].channels;\n\t\t\tfor (i = 0; i < channels; i++) {\n\t\t\t\tvar limit = limiters[this.model][i];\n\t\t\t\tif (limit) {\n\t\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\t\tif (Object.freeze) {\n\t\t\tObject.freeze(this);\n\t\t}\n\t}\n\n\tColor.prototype = {\n\t\ttoString: function () {\n\t\t\treturn this.string();\n\t\t},\n\n\t\ttoJSON: function () {\n\t\t\treturn this[this.model]();\n\t\t},\n\n\t\tstring: function (places) {\n\t\t\tvar self = this.model in colorString.to ? this : this.rgb();\n\t\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\t\treturn colorString.to[self.model](args);\n\t\t},\n\n\t\tpercentString: function (places) {\n\t\t\tvar self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\t\tvar args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\t\treturn colorString.to.rgb.percent(args);\n\t\t},\n\n\t\tarray: function () {\n\t\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t\t},\n\n\t\tobject: function () {\n\t\t\tvar result = {};\n\t\t\tvar channels = convert[this.model].channels;\n\t\t\tvar labels = convert[this.model].labels;\n\n\t\t\tfor (var i = 0; i < channels; i++) {\n\t\t\t\tresult[labels[i]] = this.color[i];\n\t\t\t}\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\tresult.alpha = this.valpha;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\tunitArray: function () {\n\t\t\tvar rgb = this.rgb().color;\n\t\t\trgb[0] /= 255;\n\t\t\trgb[1] /= 255;\n\t\t\trgb[2] /= 255;\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\trgb.push(this.valpha);\n\t\t\t}\n\n\t\t\treturn rgb;\n\t\t},\n\n\t\tunitObject: function () {\n\t\t\tvar rgb = this.rgb().object();\n\t\t\trgb.r /= 255;\n\t\t\trgb.g /= 255;\n\t\t\trgb.b /= 255;\n\n\t\t\tif (this.valpha !== 1) {\n\t\t\t\trgb.alpha = this.valpha;\n\t\t\t}\n\n\t\t\treturn rgb;\n\t\t},\n\n\t\tround: function (places) {\n\t\t\tplaces = Math.max(places || 0, 0);\n\t\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t\t},\n\n\t\talpha: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, val))), this.model);\n\t\t\t}\n\n\t\t\treturn this.valpha;\n\t\t},\n\n\t\t// rgb\n\t\tred: getset('rgb', 0, maxfn(255)),\n\t\tgreen: getset('rgb', 1, maxfn(255)),\n\t\tblue: getset('rgb', 2, maxfn(255)),\n\n\t\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (val) { return ((val % 360) + 360) % 360; }), // eslint-disable-line brace-style\n\n\t\tsaturationl: getset('hsl', 1, maxfn(100)),\n\t\tlightness: getset('hsl', 2, maxfn(100)),\n\n\t\tsaturationv: getset('hsv', 1, maxfn(100)),\n\t\tvalue: getset('hsv', 2, maxfn(100)),\n\n\t\tchroma: getset('hcg', 1, maxfn(100)),\n\t\tgray: getset('hcg', 2, maxfn(100)),\n\n\t\twhite: getset('hwb', 1, maxfn(100)),\n\t\twblack: getset('hwb', 2, maxfn(100)),\n\n\t\tcyan: getset('cmyk', 0, maxfn(100)),\n\t\tmagenta: getset('cmyk', 1, maxfn(100)),\n\t\tyellow: getset('cmyk', 2, maxfn(100)),\n\t\tblack: getset('cmyk', 3, maxfn(100)),\n\n\t\tx: getset('xyz', 0, maxfn(100)),\n\t\ty: getset('xyz', 1, maxfn(100)),\n\t\tz: getset('xyz', 2, maxfn(100)),\n\n\t\tl: getset('lab', 0, maxfn(100)),\n\t\ta: getset('lab', 1),\n\t\tb: getset('lab', 2),\n\n\t\tkeyword: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(val);\n\t\t\t}\n\n\t\t\treturn convert[this.model].keyword(this.color);\n\t\t},\n\n\t\thex: function (val) {\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(val);\n\t\t\t}\n\n\t\t\treturn colorString.to.hex(this.rgb().round().color);\n\t\t},\n\n\t\trgbNumber: function () {\n\t\t\tvar rgb = this.rgb().color;\n\t\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t\t},\n\n\t\tluminosity: function () {\n\t\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\t\tvar rgb = this.rgb().color;\n\n\t\t\tvar lum = [];\n\t\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\t\tvar chan = rgb[i] / 255;\n\t\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t\t}\n\n\t\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t\t},\n\n\t\tcontrast: function (color2) {\n\t\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\t\tvar lum1 = this.luminosity();\n\t\t\tvar lum2 = color2.luminosity();\n\n\t\t\tif (lum1 > lum2) {\n\t\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t\t}\n\n\t\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t\t},\n\n\t\tlevel: function (color2) {\n\t\t\tvar contrastRatio = this.contrast(color2);\n\t\t\tif (contrastRatio >= 7.1) {\n\t\t\t\treturn 'AAA';\n\t\t\t}\n\n\t\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t\t},\n\n\t\tdark: function () {\n\t\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\t\tvar rgb = this.rgb().color;\n\t\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\t\treturn yiq < 128;\n\t\t},\n\n\t\tlight: function () {\n\t\t\treturn !this.dark();\n\t\t},\n\n\t\tnegate: function () {\n\t\t\tvar rgb = this.rgb();\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t\t}\n\t\t\treturn rgb;\n\t\t},\n\n\t\tlighten: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tdarken: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tsaturate: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tdesaturate: function (ratio) {\n\t\t\tvar hsl = this.hsl();\n\t\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\t\treturn hsl;\n\t\t},\n\n\t\twhiten: function (ratio) {\n\t\t\tvar hwb = this.hwb();\n\t\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\t\treturn hwb;\n\t\t},\n\n\t\tblacken: function (ratio) {\n\t\t\tvar hwb = this.hwb();\n\t\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\t\treturn hwb;\n\t\t},\n\n\t\tgrayscale: function () {\n\t\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\t\tvar rgb = this.rgb().color;\n\t\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\t\treturn Color.rgb(val, val, val);\n\t\t},\n\n\t\tfade: function (ratio) {\n\t\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t\t},\n\n\t\topaquer: function (ratio) {\n\t\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t\t},\n\n\t\trotate: function (degrees) {\n\t\t\tvar hsl = this.hsl();\n\t\t\tvar hue = hsl.color[0];\n\t\t\thue = (hue + degrees) % 360;\n\t\t\thue = hue < 0 ? 360 + hue : hue;\n\t\t\thsl.color[0] = hue;\n\t\t\treturn hsl;\n\t\t},\n\n\t\tmix: function (mixinColor, weight) {\n\t\t\t// ported from sass implementation in C\n\t\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\t\tvar color1 = this.rgb();\n\t\t\tvar color2 = mixinColor.rgb();\n\t\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\t\tvar w = 2 * p - 1;\n\t\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tvar w2 = 1 - w1;\n\n\t\t\treturn Color.rgb(\n\t\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t\t}\n\t};\n\n\t// model conversion methods and static constructors\n\tObject.keys(convert).forEach(function (model) {\n\t\tif (skippedModels.indexOf(model) !== -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\n\t\t// conversion methods\n\t\tColor.prototype[model] = function () {\n\t\t\tif (this.model === model) {\n\t\t\t\treturn new Color(this);\n\t\t\t}\n\n\t\t\tif (arguments.length) {\n\t\t\t\treturn new Color(arguments, model);\n\t\t\t}\n\n\t\t\tvar newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t\t};\n\n\t\t// 'static' construction methods\n\t\tColor[model] = function (color) {\n\t\t\tif (typeof color === 'number') {\n\t\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t\t}\n\t\t\treturn new Color(color, model);\n\t\t};\n\t});\n\n\tfunction roundTo(num, places) {\n\t\treturn Number(num.toFixed(places));\n\t}\n\n\tfunction roundToPlace(places) {\n\t\treturn function (num) {\n\t\t\treturn roundTo(num, places);\n\t\t};\n\t}\n\n\tfunction getset(model, channel, modifier) {\n\t\tmodel = Array.isArray(model) ? model : [model];\n\n\t\tmodel.forEach(function (m) {\n\t\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t\t});\n\n\t\tmodel = model[0];\n\n\t\treturn function (val) {\n\t\t\tvar result;\n\n\t\t\tif (arguments.length) {\n\t\t\t\tif (modifier) {\n\t\t\t\t\tval = modifier(val);\n\t\t\t\t}\n\n\t\t\t\tresult = this[model]();\n\t\t\t\tresult.color[channel] = val;\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tresult = this[model]().color[channel];\n\t\t\tif (modifier) {\n\t\t\t\tresult = modifier(result);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\t}\n\n\tfunction maxfn(max) {\n\t\treturn function (v) {\n\t\t\treturn Math.max(0, Math.min(max, v));\n\t\t};\n\t}\n\n\tfunction assertArray(val) {\n\t\treturn Array.isArray(val) ? val : [val];\n\t}\n\n\tfunction zeroArray(arr, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tif (typeof arr[i] !== 'number') {\n\t\t\t\tarr[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn arr;\n\t}\n\n\tmodule.exports = Color;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* MIT license */\n\tvar colorNames = __webpack_require__(6);\n\tvar swizzle = __webpack_require__(7);\n\n\tvar reverseNames = {};\n\n\t// create a list of reverse color names\n\tfor (var name in colorNames) {\n\t\tif (colorNames.hasOwnProperty(name)) {\n\t\t\treverseNames[colorNames[name]] = name;\n\t\t}\n\t}\n\n\tvar cs = module.exports = {\n\t\tto: {},\n\t\tget: {}\n\t};\n\n\tcs.get = function (string) {\n\t\tvar prefix = string.substring(0, 3).toLowerCase();\n\t\tvar val;\n\t\tvar model;\n\t\tswitch (prefix) {\n\t\t\tcase 'hsl':\n\t\t\t\tval = cs.get.hsl(string);\n\t\t\t\tmodel = 'hsl';\n\t\t\t\tbreak;\n\t\t\tcase 'hwb':\n\t\t\t\tval = cs.get.hwb(string);\n\t\t\t\tmodel = 'hwb';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tval = cs.get.rgb(string);\n\t\t\t\tmodel = 'rgb';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!val) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {model: model, value: val};\n\t};\n\n\tcs.get.rgb = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\t\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\t\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar keyword = /(\\D+)/;\n\n\t\tvar rgb = [0, 0, 0, 1];\n\t\tvar match;\n\t\tvar i;\n\t\tvar hexAlpha;\n\n\t\tif (match = string.match(hex)) {\n\t\t\thexAlpha = match[2];\n\t\t\tmatch = match[1];\n\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\t\tvar i2 = i * 2;\n\t\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t\t}\n\n\t\t\tif (hexAlpha) {\n\t\t\t\trgb[3] = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n\t\t\t}\n\t\t} else if (match = string.match(abbr)) {\n\t\t\tmatch = match[1];\n\t\t\thexAlpha = match[3];\n\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t\t}\n\n\t\t\tif (hexAlpha) {\n\t\t\t\trgb[3] = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n\t\t\t}\n\t\t} else if (match = string.match(rgba)) {\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t\t}\n\n\t\t\tif (match[4]) {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t} else if (match = string.match(per)) {\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t\t}\n\n\t\t\tif (match[4]) {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t} else if (match = string.match(keyword)) {\n\t\t\tif (match[1] === 'transparent') {\n\t\t\t\treturn [0, 0, 0, 0];\n\t\t\t}\n\n\t\t\trgb = colorNames[match[1]];\n\n\t\t\tif (!rgb) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\trgb[3] = 1;\n\n\t\t\treturn rgb;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t\t}\n\t\trgb[3] = clamp(rgb[3], 0, 1);\n\n\t\treturn rgb;\n\t};\n\n\tcs.get.hsl = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar match = string.match(hsl);\n\n\t\tif (match) {\n\t\t\tvar alpha = parseFloat(match[4]);\n\t\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\t\treturn [h, s, l, a];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tcs.get.hwb = function (string) {\n\t\tif (!string) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar hwb = /^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\t\tvar match = string.match(hwb);\n\n\t\tif (match) {\n\t\t\tvar alpha = parseFloat(match[4]);\n\t\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\t\treturn [h, w, b, a];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tcs.to.hex = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\treturn (\n\t\t\t'#' +\n\t\t\thexDouble(rgba[0]) +\n\t\t\thexDouble(rgba[1]) +\n\t\t\thexDouble(rgba[2]) +\n\t\t\t(rgba[3] < 1\n\t\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t\t: '')\n\t\t);\n\t};\n\n\tcs.to.rgb = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\treturn rgba.length < 4 || rgba[3] === 1\n\t\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n\t};\n\n\tcs.to.rgb.percent = function () {\n\t\tvar rgba = swizzle(arguments);\n\n\t\tvar r = Math.round(rgba[0] / 255 * 100);\n\t\tvar g = Math.round(rgba[1] / 255 * 100);\n\t\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\t\treturn rgba.length < 4 || rgba[3] === 1\n\t\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n\t};\n\n\tcs.to.hsl = function () {\n\t\tvar hsla = swizzle(arguments);\n\t\treturn hsla.length < 4 || hsla[3] === 1\n\t\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n\t};\n\n\t// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n\t// (hwb have alpha optional & 1 is default value)\n\tcs.to.hwb = function () {\n\t\tvar hwba = swizzle(arguments);\n\n\t\tvar a = '';\n\t\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\t\ta = ', ' + hwba[3];\n\t\t}\n\n\t\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n\t};\n\n\tcs.to.keyword = function (rgb) {\n\t\treturn reverseNames[rgb.slice(0, 3)];\n\t};\n\n\t// helpers\n\tfunction clamp(num, min, max) {\n\t\treturn Math.min(Math.max(min, num), max);\n\t}\n\n\tfunction hexDouble(num) {\n\t\tvar str = num.toString(16).toUpperCase();\n\t\treturn (str.length < 2) ? '0' + str : str;\n\t}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict'\r\n\r\n\tmodule.exports = {\r\n\t\t\"aliceblue\": [240, 248, 255],\r\n\t\t\"antiquewhite\": [250, 235, 215],\r\n\t\t\"aqua\": [0, 255, 255],\r\n\t\t\"aquamarine\": [127, 255, 212],\r\n\t\t\"azure\": [240, 255, 255],\r\n\t\t\"beige\": [245, 245, 220],\r\n\t\t\"bisque\": [255, 228, 196],\r\n\t\t\"black\": [0, 0, 0],\r\n\t\t\"blanchedalmond\": [255, 235, 205],\r\n\t\t\"blue\": [0, 0, 255],\r\n\t\t\"blueviolet\": [138, 43, 226],\r\n\t\t\"brown\": [165, 42, 42],\r\n\t\t\"burlywood\": [222, 184, 135],\r\n\t\t\"cadetblue\": [95, 158, 160],\r\n\t\t\"chartreuse\": [127, 255, 0],\r\n\t\t\"chocolate\": [210, 105, 30],\r\n\t\t\"coral\": [255, 127, 80],\r\n\t\t\"cornflowerblue\": [100, 149, 237],\r\n\t\t\"cornsilk\": [255, 248, 220],\r\n\t\t\"crimson\": [220, 20, 60],\r\n\t\t\"cyan\": [0, 255, 255],\r\n\t\t\"darkblue\": [0, 0, 139],\r\n\t\t\"darkcyan\": [0, 139, 139],\r\n\t\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\t\"darkgray\": [169, 169, 169],\r\n\t\t\"darkgreen\": [0, 100, 0],\r\n\t\t\"darkgrey\": [169, 169, 169],\r\n\t\t\"darkkhaki\": [189, 183, 107],\r\n\t\t\"darkmagenta\": [139, 0, 139],\r\n\t\t\"darkolivegreen\": [85, 107, 47],\r\n\t\t\"darkorange\": [255, 140, 0],\r\n\t\t\"darkorchid\": [153, 50, 204],\r\n\t\t\"darkred\": [139, 0, 0],\r\n\t\t\"darksalmon\": [233, 150, 122],\r\n\t\t\"darkseagreen\": [143, 188, 143],\r\n\t\t\"darkslateblue\": [72, 61, 139],\r\n\t\t\"darkslategray\": [47, 79, 79],\r\n\t\t\"darkslategrey\": [47, 79, 79],\r\n\t\t\"darkturquoise\": [0, 206, 209],\r\n\t\t\"darkviolet\": [148, 0, 211],\r\n\t\t\"deeppink\": [255, 20, 147],\r\n\t\t\"deepskyblue\": [0, 191, 255],\r\n\t\t\"dimgray\": [105, 105, 105],\r\n\t\t\"dimgrey\": [105, 105, 105],\r\n\t\t\"dodgerblue\": [30, 144, 255],\r\n\t\t\"firebrick\": [178, 34, 34],\r\n\t\t\"floralwhite\": [255, 250, 240],\r\n\t\t\"forestgreen\": [34, 139, 34],\r\n\t\t\"fuchsia\": [255, 0, 255],\r\n\t\t\"gainsboro\": [220, 220, 220],\r\n\t\t\"ghostwhite\": [248, 248, 255],\r\n\t\t\"gold\": [255, 215, 0],\r\n\t\t\"goldenrod\": [218, 165, 32],\r\n\t\t\"gray\": [128, 128, 128],\r\n\t\t\"green\": [0, 128, 0],\r\n\t\t\"greenyellow\": [173, 255, 47],\r\n\t\t\"grey\": [128, 128, 128],\r\n\t\t\"honeydew\": [240, 255, 240],\r\n\t\t\"hotpink\": [255, 105, 180],\r\n\t\t\"indianred\": [205, 92, 92],\r\n\t\t\"indigo\": [75, 0, 130],\r\n\t\t\"ivory\": [255, 255, 240],\r\n\t\t\"khaki\": [240, 230, 140],\r\n\t\t\"lavender\": [230, 230, 250],\r\n\t\t\"lavenderblush\": [255, 240, 245],\r\n\t\t\"lawngreen\": [124, 252, 0],\r\n\t\t\"lemonchiffon\": [255, 250, 205],\r\n\t\t\"lightblue\": [173, 216, 230],\r\n\t\t\"lightcoral\": [240, 128, 128],\r\n\t\t\"lightcyan\": [224, 255, 255],\r\n\t\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\t\"lightgray\": [211, 211, 211],\r\n\t\t\"lightgreen\": [144, 238, 144],\r\n\t\t\"lightgrey\": [211, 211, 211],\r\n\t\t\"lightpink\": [255, 182, 193],\r\n\t\t\"lightsalmon\": [255, 160, 122],\r\n\t\t\"lightseagreen\": [32, 178, 170],\r\n\t\t\"lightskyblue\": [135, 206, 250],\r\n\t\t\"lightslategray\": [119, 136, 153],\r\n\t\t\"lightslategrey\": [119, 136, 153],\r\n\t\t\"lightsteelblue\": [176, 196, 222],\r\n\t\t\"lightyellow\": [255, 255, 224],\r\n\t\t\"lime\": [0, 255, 0],\r\n\t\t\"limegreen\": [50, 205, 50],\r\n\t\t\"linen\": [250, 240, 230],\r\n\t\t\"magenta\": [255, 0, 255],\r\n\t\t\"maroon\": [128, 0, 0],\r\n\t\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\t\"mediumblue\": [0, 0, 205],\r\n\t\t\"mediumorchid\": [186, 85, 211],\r\n\t\t\"mediumpurple\": [147, 112, 219],\r\n\t\t\"mediumseagreen\": [60, 179, 113],\r\n\t\t\"mediumslateblue\": [123, 104, 238],\r\n\t\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\t\"mediumturquoise\": [72, 209, 204],\r\n\t\t\"mediumvioletred\": [199, 21, 133],\r\n\t\t\"midnightblue\": [25, 25, 112],\r\n\t\t\"mintcream\": [245, 255, 250],\r\n\t\t\"mistyrose\": [255, 228, 225],\r\n\t\t\"moccasin\": [255, 228, 181],\r\n\t\t\"navajowhite\": [255, 222, 173],\r\n\t\t\"navy\": [0, 0, 128],\r\n\t\t\"oldlace\": [253, 245, 230],\r\n\t\t\"olive\": [128, 128, 0],\r\n\t\t\"olivedrab\": [107, 142, 35],\r\n\t\t\"orange\": [255, 165, 0],\r\n\t\t\"orangered\": [255, 69, 0],\r\n\t\t\"orchid\": [218, 112, 214],\r\n\t\t\"palegoldenrod\": [238, 232, 170],\r\n\t\t\"palegreen\": [152, 251, 152],\r\n\t\t\"paleturquoise\": [175, 238, 238],\r\n\t\t\"palevioletred\": [219, 112, 147],\r\n\t\t\"papayawhip\": [255, 239, 213],\r\n\t\t\"peachpuff\": [255, 218, 185],\r\n\t\t\"peru\": [205, 133, 63],\r\n\t\t\"pink\": [255, 192, 203],\r\n\t\t\"plum\": [221, 160, 221],\r\n\t\t\"powderblue\": [176, 224, 230],\r\n\t\t\"purple\": [128, 0, 128],\r\n\t\t\"rebeccapurple\": [102, 51, 153],\r\n\t\t\"red\": [255, 0, 0],\r\n\t\t\"rosybrown\": [188, 143, 143],\r\n\t\t\"royalblue\": [65, 105, 225],\r\n\t\t\"saddlebrown\": [139, 69, 19],\r\n\t\t\"salmon\": [250, 128, 114],\r\n\t\t\"sandybrown\": [244, 164, 96],\r\n\t\t\"seagreen\": [46, 139, 87],\r\n\t\t\"seashell\": [255, 245, 238],\r\n\t\t\"sienna\": [160, 82, 45],\r\n\t\t\"silver\": [192, 192, 192],\r\n\t\t\"skyblue\": [135, 206, 235],\r\n\t\t\"slateblue\": [106, 90, 205],\r\n\t\t\"slategray\": [112, 128, 144],\r\n\t\t\"slategrey\": [112, 128, 144],\r\n\t\t\"snow\": [255, 250, 250],\r\n\t\t\"springgreen\": [0, 255, 127],\r\n\t\t\"steelblue\": [70, 130, 180],\r\n\t\t\"tan\": [210, 180, 140],\r\n\t\t\"teal\": [0, 128, 128],\r\n\t\t\"thistle\": [216, 191, 216],\r\n\t\t\"tomato\": [255, 99, 71],\r\n\t\t\"turquoise\": [64, 224, 208],\r\n\t\t\"violet\": [238, 130, 238],\r\n\t\t\"wheat\": [245, 222, 179],\r\n\t\t\"white\": [255, 255, 255],\r\n\t\t\"whitesmoke\": [245, 245, 245],\r\n\t\t\"yellow\": [255, 255, 0],\r\n\t\t\"yellowgreen\": [154, 205, 50]\r\n\t};\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar isArrayish = __webpack_require__(8);\n\n\tvar concat = Array.prototype.concat;\n\tvar slice = Array.prototype.slice;\n\n\tvar swizzle = module.exports = function swizzle(args) {\n\t\tvar results = [];\n\n\t\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\t\tvar arg = args[i];\n\n\t\t\tif (isArrayish(arg)) {\n\t\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t\t} else {\n\t\t\t\tresults.push(arg);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n\n\tswizzle.wrap = function (fn) {\n\t\treturn function () {\n\t\t\treturn fn(swizzle(arguments));\n\t\t};\n\t};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = function isArrayish(obj) {\n\t\tif (!obj || typeof obj === 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n\t};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar conversions = __webpack_require__(10);\n\tvar route = __webpack_require__(11);\n\n\tvar convert = {};\n\n\tvar models = Object.keys(conversions);\n\n\tfunction wrapRaw(fn) {\n\t\tvar wrappedFn = function (args) {\n\t\t\tif (args === undefined || args === null) {\n\t\t\t\treturn args;\n\t\t\t}\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t\t}\n\n\t\t\treturn fn(args);\n\t\t};\n\n\t\t// preserve .conversion property if there is one\n\t\tif ('conversion' in fn) {\n\t\t\twrappedFn.conversion = fn.conversion;\n\t\t}\n\n\t\treturn wrappedFn;\n\t}\n\n\tfunction wrapRounded(fn) {\n\t\tvar wrappedFn = function (args) {\n\t\t\tif (args === undefined || args === null) {\n\t\t\t\treturn args;\n\t\t\t}\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t\t}\n\n\t\t\tvar result = fn(args);\n\n\t\t\t// we're assuming the result is an array here.\n\t\t\t// see notice in conversions.js; don't use box types\n\t\t\t// in conversion functions.\n\t\t\tif (typeof result === 'object') {\n\t\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\t// preserve .conversion property if there is one\n\t\tif ('conversion' in fn) {\n\t\t\twrappedFn.conversion = fn.conversion;\n\t\t}\n\n\t\treturn wrappedFn;\n\t}\n\n\tmodels.forEach(function (fromModel) {\n\t\tconvert[fromModel] = {};\n\n\t\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\t\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\t\tvar routes = route(fromModel);\n\t\tvar routeModels = Object.keys(routes);\n\n\t\trouteModels.forEach(function (toModel) {\n\t\t\tvar fn = routes[toModel];\n\n\t\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t\t});\n\t});\n\n\tmodule.exports = convert;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* MIT license */\n\tvar cssKeywords = __webpack_require__(6);\n\n\t// NOTE: conversions should only return primitive values (i.e. arrays, or\n\t//       values that give correct `typeof` results).\n\t//       do not use box values types (i.e. Number(), String(), etc.)\n\n\tvar reverseKeywords = {};\n\tfor (var key in cssKeywords) {\n\t\tif (cssKeywords.hasOwnProperty(key)) {\n\t\t\treverseKeywords[cssKeywords[key]] = key;\n\t\t}\n\t}\n\n\tvar convert = module.exports = {\n\t\trgb: {channels: 3, labels: 'rgb'},\n\t\thsl: {channels: 3, labels: 'hsl'},\n\t\thsv: {channels: 3, labels: 'hsv'},\n\t\thwb: {channels: 3, labels: 'hwb'},\n\t\tcmyk: {channels: 4, labels: 'cmyk'},\n\t\txyz: {channels: 3, labels: 'xyz'},\n\t\tlab: {channels: 3, labels: 'lab'},\n\t\tlch: {channels: 3, labels: 'lch'},\n\t\thex: {channels: 1, labels: ['hex']},\n\t\tkeyword: {channels: 1, labels: ['keyword']},\n\t\tansi16: {channels: 1, labels: ['ansi16']},\n\t\tansi256: {channels: 1, labels: ['ansi256']},\n\t\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\t\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\t\tgray: {channels: 1, labels: ['gray']}\n\t};\n\n\t// hide .channels and .labels properties\n\tfor (var model in convert) {\n\t\tif (convert.hasOwnProperty(model)) {\n\t\t\tif (!('channels' in convert[model])) {\n\t\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t\t}\n\n\t\t\tif (!('labels' in convert[model])) {\n\t\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t\t}\n\n\t\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t\t}\n\n\t\t\tvar channels = convert[model].channels;\n\t\t\tvar labels = convert[model].labels;\n\t\t\tdelete convert[model].channels;\n\t\t\tdelete convert[model].labels;\n\t\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t\t}\n\t}\n\n\tconvert.rgb.hsl = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar min = Math.min(r, g, b);\n\t\tvar max = Math.max(r, g, b);\n\t\tvar delta = max - min;\n\t\tvar h;\n\t\tvar s;\n\t\tvar l;\n\n\t\tif (max === min) {\n\t\t\th = 0;\n\t\t} else if (r === max) {\n\t\t\th = (g - b) / delta;\n\t\t} else if (g === max) {\n\t\t\th = 2 + (b - r) / delta;\n\t\t} else if (b === max) {\n\t\t\th = 4 + (r - g) / delta;\n\t\t}\n\n\t\th = Math.min(h * 60, 360);\n\n\t\tif (h < 0) {\n\t\t\th += 360;\n\t\t}\n\n\t\tl = (min + max) / 2;\n\n\t\tif (max === min) {\n\t\t\ts = 0;\n\t\t} else if (l <= 0.5) {\n\t\t\ts = delta / (max + min);\n\t\t} else {\n\t\t\ts = delta / (2 - max - min);\n\t\t}\n\n\t\treturn [h, s * 100, l * 100];\n\t};\n\n\tconvert.rgb.hsv = function (rgb) {\n\t\tvar rdif;\n\t\tvar gdif;\n\t\tvar bdif;\n\t\tvar h;\n\t\tvar s;\n\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar v = Math.max(r, g, b);\n\t\tvar diff = v - Math.min(r, g, b);\n\t\tvar diffc = function (c) {\n\t\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t\t};\n\n\t\tif (diff === 0) {\n\t\t\th = s = 0;\n\t\t} else {\n\t\t\ts = diff / v;\n\t\t\trdif = diffc(r);\n\t\t\tgdif = diffc(g);\n\t\t\tbdif = diffc(b);\n\n\t\t\tif (r === v) {\n\t\t\t\th = bdif - gdif;\n\t\t\t} else if (g === v) {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\t\t\t} else if (b === v) {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\t\t\t}\n\t\t\tif (h < 0) {\n\t\t\t\th += 1;\n\t\t\t} else if (h > 1) {\n\t\t\t\th -= 1;\n\t\t\t}\n\t\t}\n\n\t\treturn [\n\t\t\th * 360,\n\t\t\ts * 100,\n\t\t\tv * 100\n\t\t];\n\t};\n\n\tconvert.rgb.hwb = function (rgb) {\n\t\tvar r = rgb[0];\n\t\tvar g = rgb[1];\n\t\tvar b = rgb[2];\n\t\tvar h = convert.rgb.hsl(rgb)[0];\n\t\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\t\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\t\treturn [h, w * 100, b * 100];\n\t};\n\n\tconvert.rgb.cmyk = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar c;\n\t\tvar m;\n\t\tvar y;\n\t\tvar k;\n\n\t\tk = Math.min(1 - r, 1 - g, 1 - b);\n\t\tc = (1 - r - k) / (1 - k) || 0;\n\t\tm = (1 - g - k) / (1 - k) || 0;\n\t\ty = (1 - b - k) / (1 - k) || 0;\n\n\t\treturn [c * 100, m * 100, y * 100, k * 100];\n\t};\n\n\t/**\n\t * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t * */\n\tfunction comparativeDistance(x, y) {\n\t\treturn (\n\t\t\tMath.pow(x[0] - y[0], 2) +\n\t\t\tMath.pow(x[1] - y[1], 2) +\n\t\t\tMath.pow(x[2] - y[2], 2)\n\t\t);\n\t}\n\n\tconvert.rgb.keyword = function (rgb) {\n\t\tvar reversed = reverseKeywords[rgb];\n\t\tif (reversed) {\n\t\t\treturn reversed;\n\t\t}\n\n\t\tvar currentClosestDistance = Infinity;\n\t\tvar currentClosestKeyword;\n\n\t\tfor (var keyword in cssKeywords) {\n\t\t\tif (cssKeywords.hasOwnProperty(keyword)) {\n\t\t\t\tvar value = cssKeywords[keyword];\n\n\t\t\t\t// Compute comparative distance\n\t\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t\t// Check if its less, if so set as closest\n\t\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn currentClosestKeyword;\n\t};\n\n\tconvert.keyword.rgb = function (keyword) {\n\t\treturn cssKeywords[keyword];\n\t};\n\n\tconvert.rgb.xyz = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\n\t\t// assume sRGB\n\t\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\t\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\t\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\t\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\t\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\t\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\t\treturn [x * 100, y * 100, z * 100];\n\t};\n\n\tconvert.rgb.lab = function (rgb) {\n\t\tvar xyz = convert.rgb.xyz(rgb);\n\t\tvar x = xyz[0];\n\t\tvar y = xyz[1];\n\t\tvar z = xyz[2];\n\t\tvar l;\n\t\tvar a;\n\t\tvar b;\n\n\t\tx /= 95.047;\n\t\ty /= 100;\n\t\tz /= 108.883;\n\n\t\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\t\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\t\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\t\tl = (116 * y) - 16;\n\t\ta = 500 * (x - y);\n\t\tb = 200 * (y - z);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.hsl.rgb = function (hsl) {\n\t\tvar h = hsl[0] / 360;\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar t1;\n\t\tvar t2;\n\t\tvar t3;\n\t\tvar rgb;\n\t\tvar val;\n\n\t\tif (s === 0) {\n\t\t\tval = l * 255;\n\t\t\treturn [val, val, val];\n\t\t}\n\n\t\tif (l < 0.5) {\n\t\t\tt2 = l * (1 + s);\n\t\t} else {\n\t\t\tt2 = l + s - l * s;\n\t\t}\n\n\t\tt1 = 2 * l - t2;\n\n\t\trgb = [0, 0, 0];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\t\tif (t3 < 0) {\n\t\t\t\tt3++;\n\t\t\t}\n\t\t\tif (t3 > 1) {\n\t\t\t\tt3--;\n\t\t\t}\n\n\t\t\tif (6 * t3 < 1) {\n\t\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t\t} else if (2 * t3 < 1) {\n\t\t\t\tval = t2;\n\t\t\t} else if (3 * t3 < 2) {\n\t\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t\t} else {\n\t\t\t\tval = t1;\n\t\t\t}\n\n\t\t\trgb[i] = val * 255;\n\t\t}\n\n\t\treturn rgb;\n\t};\n\n\tconvert.hsl.hsv = function (hsl) {\n\t\tvar h = hsl[0];\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar smin = s;\n\t\tvar lmin = Math.max(l, 0.01);\n\t\tvar sv;\n\t\tvar v;\n\n\t\tl *= 2;\n\t\ts *= (l <= 1) ? l : 2 - l;\n\t\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\t\tv = (l + s) / 2;\n\t\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\t\treturn [h, sv * 100, v * 100];\n\t};\n\n\tconvert.hsv.rgb = function (hsv) {\n\t\tvar h = hsv[0] / 60;\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\t\tvar hi = Math.floor(h) % 6;\n\n\t\tvar f = h - Math.floor(h);\n\t\tvar p = 255 * v * (1 - s);\n\t\tvar q = 255 * v * (1 - (s * f));\n\t\tvar t = 255 * v * (1 - (s * (1 - f)));\n\t\tv *= 255;\n\n\t\tswitch (hi) {\n\t\t\tcase 0:\n\t\t\t\treturn [v, t, p];\n\t\t\tcase 1:\n\t\t\t\treturn [q, v, p];\n\t\t\tcase 2:\n\t\t\t\treturn [p, v, t];\n\t\t\tcase 3:\n\t\t\t\treturn [p, q, v];\n\t\t\tcase 4:\n\t\t\t\treturn [t, p, v];\n\t\t\tcase 5:\n\t\t\t\treturn [v, p, q];\n\t\t}\n\t};\n\n\tconvert.hsv.hsl = function (hsv) {\n\t\tvar h = hsv[0];\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\t\tvar vmin = Math.max(v, 0.01);\n\t\tvar lmin;\n\t\tvar sl;\n\t\tvar l;\n\n\t\tl = (2 - s) * v;\n\t\tlmin = (2 - s) * vmin;\n\t\tsl = s * vmin;\n\t\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\t\tsl = sl || 0;\n\t\tl /= 2;\n\n\t\treturn [h, sl * 100, l * 100];\n\t};\n\n\t// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\n\tconvert.hwb.rgb = function (hwb) {\n\t\tvar h = hwb[0] / 360;\n\t\tvar wh = hwb[1] / 100;\n\t\tvar bl = hwb[2] / 100;\n\t\tvar ratio = wh + bl;\n\t\tvar i;\n\t\tvar v;\n\t\tvar f;\n\t\tvar n;\n\n\t\t// wh + bl cant be > 1\n\t\tif (ratio > 1) {\n\t\t\twh /= ratio;\n\t\t\tbl /= ratio;\n\t\t}\n\n\t\ti = Math.floor(6 * h);\n\t\tv = 1 - bl;\n\t\tf = 6 * h - i;\n\n\t\tif ((i & 0x01) !== 0) {\n\t\t\tf = 1 - f;\n\t\t}\n\n\t\tn = wh + f * (v - wh); // linear interpolation\n\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\t\tswitch (i) {\n\t\t\tdefault:\n\t\t\tcase 6:\n\t\t\tcase 0: r = v; g = n; b = wh; break;\n\t\t\tcase 1: r = n; g = v; b = wh; break;\n\t\t\tcase 2: r = wh; g = v; b = n; break;\n\t\t\tcase 3: r = wh; g = n; b = v; break;\n\t\t\tcase 4: r = n; g = wh; b = v; break;\n\t\t\tcase 5: r = v; g = wh; b = n; break;\n\t\t}\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.cmyk.rgb = function (cmyk) {\n\t\tvar c = cmyk[0] / 100;\n\t\tvar m = cmyk[1] / 100;\n\t\tvar y = cmyk[2] / 100;\n\t\tvar k = cmyk[3] / 100;\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\n\t\tr = 1 - Math.min(1, c * (1 - k) + k);\n\t\tg = 1 - Math.min(1, m * (1 - k) + k);\n\t\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.xyz.rgb = function (xyz) {\n\t\tvar x = xyz[0] / 100;\n\t\tvar y = xyz[1] / 100;\n\t\tvar z = xyz[2] / 100;\n\t\tvar r;\n\t\tvar g;\n\t\tvar b;\n\n\t\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\t\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\t\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t\t// assume sRGB\n\t\tr = r > 0.0031308\n\t\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t\t: r * 12.92;\n\n\t\tg = g > 0.0031308\n\t\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t\t: g * 12.92;\n\n\t\tb = b > 0.0031308\n\t\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t\t: b * 12.92;\n\n\t\tr = Math.min(Math.max(0, r), 1);\n\t\tg = Math.min(Math.max(0, g), 1);\n\t\tb = Math.min(Math.max(0, b), 1);\n\n\t\treturn [r * 255, g * 255, b * 255];\n\t};\n\n\tconvert.xyz.lab = function (xyz) {\n\t\tvar x = xyz[0];\n\t\tvar y = xyz[1];\n\t\tvar z = xyz[2];\n\t\tvar l;\n\t\tvar a;\n\t\tvar b;\n\n\t\tx /= 95.047;\n\t\ty /= 100;\n\t\tz /= 108.883;\n\n\t\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\t\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\t\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\t\tl = (116 * y) - 16;\n\t\ta = 500 * (x - y);\n\t\tb = 200 * (y - z);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.lab.xyz = function (lab) {\n\t\tvar l = lab[0];\n\t\tvar a = lab[1];\n\t\tvar b = lab[2];\n\t\tvar x;\n\t\tvar y;\n\t\tvar z;\n\n\t\ty = (l + 16) / 116;\n\t\tx = a / 500 + y;\n\t\tz = y - b / 200;\n\n\t\tvar y2 = Math.pow(y, 3);\n\t\tvar x2 = Math.pow(x, 3);\n\t\tvar z2 = Math.pow(z, 3);\n\t\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\t\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\t\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\t\tx *= 95.047;\n\t\ty *= 100;\n\t\tz *= 108.883;\n\n\t\treturn [x, y, z];\n\t};\n\n\tconvert.lab.lch = function (lab) {\n\t\tvar l = lab[0];\n\t\tvar a = lab[1];\n\t\tvar b = lab[2];\n\t\tvar hr;\n\t\tvar h;\n\t\tvar c;\n\n\t\thr = Math.atan2(b, a);\n\t\th = hr * 360 / 2 / Math.PI;\n\n\t\tif (h < 0) {\n\t\t\th += 360;\n\t\t}\n\n\t\tc = Math.sqrt(a * a + b * b);\n\n\t\treturn [l, c, h];\n\t};\n\n\tconvert.lch.lab = function (lch) {\n\t\tvar l = lch[0];\n\t\tvar c = lch[1];\n\t\tvar h = lch[2];\n\t\tvar a;\n\t\tvar b;\n\t\tvar hr;\n\n\t\thr = h / 360 * 2 * Math.PI;\n\t\ta = c * Math.cos(hr);\n\t\tb = c * Math.sin(hr);\n\n\t\treturn [l, a, b];\n\t};\n\n\tconvert.rgb.ansi16 = function (args) {\n\t\tvar r = args[0];\n\t\tvar g = args[1];\n\t\tvar b = args[2];\n\t\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\t\tvalue = Math.round(value / 50);\n\n\t\tif (value === 0) {\n\t\t\treturn 30;\n\t\t}\n\n\t\tvar ansi = 30\n\t\t\t+ ((Math.round(b / 255) << 2)\n\t\t\t| (Math.round(g / 255) << 1)\n\t\t\t| Math.round(r / 255));\n\n\t\tif (value === 2) {\n\t\t\tansi += 60;\n\t\t}\n\n\t\treturn ansi;\n\t};\n\n\tconvert.hsv.ansi16 = function (args) {\n\t\t// optimization here; we already know the value and don't need to get\n\t\t// it converted for us.\n\t\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n\t};\n\n\tconvert.rgb.ansi256 = function (args) {\n\t\tvar r = args[0];\n\t\tvar g = args[1];\n\t\tvar b = args[2];\n\n\t\t// we use the extended greyscale palette here, with the exception of\n\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\tif (r === g && g === b) {\n\t\t\tif (r < 8) {\n\t\t\t\treturn 16;\n\t\t\t}\n\n\t\t\tif (r > 248) {\n\t\t\t\treturn 231;\n\t\t\t}\n\n\t\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t\t}\n\n\t\tvar ansi = 16\n\t\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t\t+ Math.round(b / 255 * 5);\n\n\t\treturn ansi;\n\t};\n\n\tconvert.ansi16.rgb = function (args) {\n\t\tvar color = args % 10;\n\n\t\t// handle greyscale\n\t\tif (color === 0 || color === 7) {\n\t\t\tif (args > 50) {\n\t\t\t\tcolor += 3.5;\n\t\t\t}\n\n\t\t\tcolor = color / 10.5 * 255;\n\n\t\t\treturn [color, color, color];\n\t\t}\n\n\t\tvar mult = (~~(args > 50) + 1) * 0.5;\n\t\tvar r = ((color & 1) * mult) * 255;\n\t\tvar g = (((color >> 1) & 1) * mult) * 255;\n\t\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.ansi256.rgb = function (args) {\n\t\t// handle greyscale\n\t\tif (args >= 232) {\n\t\t\tvar c = (args - 232) * 10 + 8;\n\t\t\treturn [c, c, c];\n\t\t}\n\n\t\targs -= 16;\n\n\t\tvar rem;\n\t\tvar r = Math.floor(args / 36) / 5 * 255;\n\t\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\t\tvar b = (rem % 6) / 5 * 255;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.rgb.hex = function (args) {\n\t\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t\t+ (Math.round(args[2]) & 0xFF);\n\n\t\tvar string = integer.toString(16).toUpperCase();\n\t\treturn '000000'.substring(string.length) + string;\n\t};\n\n\tconvert.hex.rgb = function (args) {\n\t\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\t\tif (!match) {\n\t\t\treturn [0, 0, 0];\n\t\t}\n\n\t\tvar colorString = match[0];\n\n\t\tif (match[0].length === 3) {\n\t\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\t\treturn char + char;\n\t\t\t}).join('');\n\t\t}\n\n\t\tvar integer = parseInt(colorString, 16);\n\t\tvar r = (integer >> 16) & 0xFF;\n\t\tvar g = (integer >> 8) & 0xFF;\n\t\tvar b = integer & 0xFF;\n\n\t\treturn [r, g, b];\n\t};\n\n\tconvert.rgb.hcg = function (rgb) {\n\t\tvar r = rgb[0] / 255;\n\t\tvar g = rgb[1] / 255;\n\t\tvar b = rgb[2] / 255;\n\t\tvar max = Math.max(Math.max(r, g), b);\n\t\tvar min = Math.min(Math.min(r, g), b);\n\t\tvar chroma = (max - min);\n\t\tvar grayscale;\n\t\tvar hue;\n\n\t\tif (chroma < 1) {\n\t\t\tgrayscale = min / (1 - chroma);\n\t\t} else {\n\t\t\tgrayscale = 0;\n\t\t}\n\n\t\tif (chroma <= 0) {\n\t\t\thue = 0;\n\t\t} else\n\t\tif (max === r) {\n\t\t\thue = ((g - b) / chroma) % 6;\n\t\t} else\n\t\tif (max === g) {\n\t\t\thue = 2 + (b - r) / chroma;\n\t\t} else {\n\t\t\thue = 4 + (r - g) / chroma + 4;\n\t\t}\n\n\t\thue /= 6;\n\t\thue %= 1;\n\n\t\treturn [hue * 360, chroma * 100, grayscale * 100];\n\t};\n\n\tconvert.hsl.hcg = function (hsl) {\n\t\tvar s = hsl[1] / 100;\n\t\tvar l = hsl[2] / 100;\n\t\tvar c = 1;\n\t\tvar f = 0;\n\n\t\tif (l < 0.5) {\n\t\t\tc = 2.0 * s * l;\n\t\t} else {\n\t\t\tc = 2.0 * s * (1.0 - l);\n\t\t}\n\n\t\tif (c < 1.0) {\n\t\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t\t}\n\n\t\treturn [hsl[0], c * 100, f * 100];\n\t};\n\n\tconvert.hsv.hcg = function (hsv) {\n\t\tvar s = hsv[1] / 100;\n\t\tvar v = hsv[2] / 100;\n\n\t\tvar c = s * v;\n\t\tvar f = 0;\n\n\t\tif (c < 1.0) {\n\t\t\tf = (v - c) / (1 - c);\n\t\t}\n\n\t\treturn [hsv[0], c * 100, f * 100];\n\t};\n\n\tconvert.hcg.rgb = function (hcg) {\n\t\tvar h = hcg[0] / 360;\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tif (c === 0.0) {\n\t\t\treturn [g * 255, g * 255, g * 255];\n\t\t}\n\n\t\tvar pure = [0, 0, 0];\n\t\tvar hi = (h % 1) * 6;\n\t\tvar v = hi % 1;\n\t\tvar w = 1 - v;\n\t\tvar mg = 0;\n\n\t\tswitch (Math.floor(hi)) {\n\t\t\tcase 0:\n\t\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t\tcase 1:\n\t\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t\tcase 2:\n\t\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t\tcase 3:\n\t\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t\tcase 4:\n\t\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t\tdefault:\n\t\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\n\t\tmg = (1.0 - c) * g;\n\n\t\treturn [\n\t\t\t(c * pure[0] + mg) * 255,\n\t\t\t(c * pure[1] + mg) * 255,\n\t\t\t(c * pure[2] + mg) * 255\n\t\t];\n\t};\n\n\tconvert.hcg.hsv = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tvar v = c + g * (1.0 - c);\n\t\tvar f = 0;\n\n\t\tif (v > 0.0) {\n\t\t\tf = c / v;\n\t\t}\n\n\t\treturn [hcg[0], f * 100, v * 100];\n\t};\n\n\tconvert.hcg.hsl = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\n\t\tvar l = g * (1.0 - c) + 0.5 * c;\n\t\tvar s = 0;\n\n\t\tif (l > 0.0 && l < 0.5) {\n\t\t\ts = c / (2 * l);\n\t\t} else\n\t\tif (l >= 0.5 && l < 1.0) {\n\t\t\ts = c / (2 * (1 - l));\n\t\t}\n\n\t\treturn [hcg[0], s * 100, l * 100];\n\t};\n\n\tconvert.hcg.hwb = function (hcg) {\n\t\tvar c = hcg[1] / 100;\n\t\tvar g = hcg[2] / 100;\n\t\tvar v = c + g * (1.0 - c);\n\t\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n\t};\n\n\tconvert.hwb.hcg = function (hwb) {\n\t\tvar w = hwb[1] / 100;\n\t\tvar b = hwb[2] / 100;\n\t\tvar v = 1 - b;\n\t\tvar c = v - w;\n\t\tvar g = 0;\n\n\t\tif (c < 1) {\n\t\t\tg = (v - c) / (1 - c);\n\t\t}\n\n\t\treturn [hwb[0], c * 100, g * 100];\n\t};\n\n\tconvert.apple.rgb = function (apple) {\n\t\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n\t};\n\n\tconvert.rgb.apple = function (rgb) {\n\t\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n\t};\n\n\tconvert.gray.rgb = function (args) {\n\t\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n\t};\n\n\tconvert.gray.hsl = convert.gray.hsv = function (args) {\n\t\treturn [0, 0, args[0]];\n\t};\n\n\tconvert.gray.hwb = function (gray) {\n\t\treturn [0, 100, gray[0]];\n\t};\n\n\tconvert.gray.cmyk = function (gray) {\n\t\treturn [0, 0, 0, gray[0]];\n\t};\n\n\tconvert.gray.lab = function (gray) {\n\t\treturn [gray[0], 0, 0];\n\t};\n\n\tconvert.gray.hex = function (gray) {\n\t\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\t\tvar integer = (val << 16) + (val << 8) + val;\n\n\t\tvar string = integer.toString(16).toUpperCase();\n\t\treturn '000000'.substring(string.length) + string;\n\t};\n\n\tconvert.rgb.gray = function (rgb) {\n\t\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\t\treturn [val / 255 * 100];\n\t};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar conversions = __webpack_require__(10);\n\n\t/*\n\t\tthis function routes a model to all other models.\n\n\t\tall functions that are routed have a property `.conversion` attached\n\t\tto the returned synthetic function. This property is an array\n\t\tof strings, each with the steps in between the 'from' and 'to'\n\t\tcolor models (inclusive).\n\n\t\tconversions that are not possible simply are not included.\n\t*/\n\n\tfunction buildGraph() {\n\t\tvar graph = {};\n\t\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\t\tvar models = Object.keys(conversions);\n\n\t\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\t\tgraph[models[i]] = {\n\t\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t\t// micro-opt, but this is simple.\n\t\t\t\tdistance: -1,\n\t\t\t\tparent: null\n\t\t\t};\n\t\t}\n\n\t\treturn graph;\n\t}\n\n\t// https://en.wikipedia.org/wiki/Breadth-first_search\n\tfunction deriveBFS(fromModel) {\n\t\tvar graph = buildGraph();\n\t\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\t\tgraph[fromModel].distance = 0;\n\n\t\twhile (queue.length) {\n\t\t\tvar current = queue.pop();\n\t\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\t\tvar adjacent = adjacents[i];\n\t\t\t\tvar node = graph[adjacent];\n\n\t\t\t\tif (node.distance === -1) {\n\t\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\t\tnode.parent = current;\n\t\t\t\t\tqueue.unshift(adjacent);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn graph;\n\t}\n\n\tfunction link(from, to) {\n\t\treturn function (args) {\n\t\t\treturn to(from(args));\n\t\t};\n\t}\n\n\tfunction wrapConversion(toModel, graph) {\n\t\tvar path = [graph[toModel].parent, toModel];\n\t\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\t\tvar cur = graph[toModel].parent;\n\t\twhile (graph[cur].parent) {\n\t\t\tpath.unshift(graph[cur].parent);\n\t\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\t\tcur = graph[cur].parent;\n\t\t}\n\n\t\tfn.conversion = path;\n\t\treturn fn;\n\t}\n\n\tmodule.exports = function (fromModel) {\n\t\tvar graph = deriveBFS(fromModel);\n\t\tvar conversion = {};\n\n\t\tvar models = Object.keys(graph);\n\t\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\t\tvar toModel = models[i];\n\t\t\tvar node = graph[toModel];\n\n\t\t\tif (node.parent === null) {\n\t\t\t\t// no possible conversion, or this node is the source model.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t\t}\n\n\t\treturn conversion;\n\t};\n\n\n\n/***/ })\n/******/ ])\n});\n;","export const GLOBAL_PIXI_DTA_PROPERTY_KEY = \"__pixi-dom-dynamic-texture-atlas\";\r\n\r\nexport type ValidMeasurement = {\r\n    value: number,\r\n    type: string, // percent or pixel\r\n}\r\n\r\nexport type FlexOptions = {\r\n    flexDirection?: FlexDirection,\r\n    flexWrap?: FlexWrap,\r\n    justifyContent?: JustifyContent,\r\n}\r\n\r\nexport enum JustifyContent {\r\n    flexStart = \"flex-start\",\r\n    flexEnd = \"flex-end\",\r\n    center = \"center\",\r\n    spaceBetween = \"spaceBetween\",\r\n    spaceAround = \"spaceAround\",\r\n    spaceEvenly = \"spaceEvenly\",\r\n}\r\n\r\nexport enum FlexDirection {\r\n    row = \"row\",\r\n    row_reverse = \"row-reverse\",\r\n    column = \"column\",\r\n    column_reverse = \"column-reverse\"\r\n}\r\n\r\nexport enum FlexWrap {\r\n    nowrap = \"nowrap\",\r\n    wrap = \"wrap\",\r\n    wrap_reverse = \"wrap-reverse\"\r\n}\r\n\r\nexport type InputStyleOptions = {\r\n    width?: ValidMeasurement,\r\n    height?: ValidMeasurement,\r\n    cursorHeight: ValidMeasurement,\r\n    cursorWidth: number,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor: number,\r\n    highlightedFontColor: number,\r\n    cursorColor: number,\r\n    backgroundColor: number,\r\n    highlightedBackgroundColor: number,\r\n    borderOpacity: number,\r\n    xPadding: number,\r\n    yPadding: number,\r\n}\r\n\r\nexport type InputStyleOptionsParams = {\r\n    width?: number | string,\r\n    height?: number | string,\r\n    borderWidth?: number,\r\n    borderColor?: number,\r\n    fontColor?: number,\r\n    highlightedFontColor?: number,\r\n    cursorColor?: number,\r\n    cursorHeight?: number | string,\r\n    cursorWidth: number,\r\n    backgroundColor?: number,\r\n    highlightedBackgroundColor?: number,\r\n    borderOpacity?: number,\r\n    xPadding?: number,\r\n    yPadding?: number,\r\n}\r\n\r\nexport type LabelOptions = {\r\n    onLabel: string,\r\n    onColor: number,\r\n    offLabel: string,\r\n    offColor: number,\r\n    fontName: string,\r\n}\r\n\r\nexport enum AnimationType {\r\n    LINEAR = 'linear',\r\n    QUADRATIC = 'quadtratic',\r\n    CUBIC = 'cubic',\r\n    QUARTIC = \"quartic\",\r\n    QUINTIC = \"quintic\",\r\n    SINUSOIDAL = \"sinusoidal\",\r\n    EXPONENTIAL = \"exponential\",\r\n    CIRCULAR = \"circular\",\r\n    ELASTIC = \"elastic\",\r\n    BACK = \"back\",\r\n}\r\n\r\nexport type AnimationOptions = {\r\n    type: AnimationType,\r\n    duration: number,\r\n    exclude?: Array<string>\r\n}\r\n\r\nexport enum ToggleAnimationExclusions {\r\n    background = 'background',\r\n    circle_color = 'circle_color',\r\n    circle_position = 'circle_position',\r\n    label = 'label',\r\n}\r\n\r\nexport type OutlineOptions = {\r\n    width: number,\r\n    color: number,\r\n}\r\n\r\nexport type ToggleOptions = {\r\n    width: number,\r\n    height: number,\r\n    borderRadius: number,\r\n    onCircleColor: number,\r\n    offCircleColor: number,\r\n    onBackgroundColor: number,\r\n    offBackgroundColor: number,\r\n    onToggleColor: number,\r\n    offToggleColor: number,\r\n    backgroundOutline?: OutlineOptions,\r\n    labelOptions?: LabelOptions,\r\n    animationOptions?: AnimationOptions,\r\n}\r\n","import { ValidMeasurement } from \"../types\";\r\nimport {parseLengthMeasurements} from \"../utils\";\r\nimport {StyleOptionsParams} from \"./TextInput/TextField\";\r\n\r\nimport { PixiElement } from \"../Element\";\r\n\r\nexport interface ButtonStyleStateOptions {\r\n    width?: number,\r\n    height?: number,\r\n    textColor?: number,\r\n    backgroundTexture?: PIXI.Texture,\r\n    backgroundOpacity?: number,\r\n    backgroundColor?: number,\r\n    borderColor?: number,\r\n    borderWidth?: number,\r\n    borderOpacity?: number,\r\n    borderRadius?: number,\r\n}\r\n\r\nexport interface ButtonStyleOptions {\r\n    useBitmapText: boolean,\r\n    fontSize?: number,\r\n    defaultStyle: ButtonStyleStateOptions,\r\n    hoverStyle?: ButtonStyleStateOptions,\r\n    pressedStyle?: ButtonStyleStateOptions,\r\n    font: string,\r\n}\r\n\r\nconst stateStylesToValidate = [\"hoverStyle\", \"defaultStyle\", \"pressedStyle\"];\r\n\r\nenum BtnState {\r\n    NONE,\r\n    HOVER,\r\n    PRESSED,\r\n}\r\n\r\nexport class Button extends PixiElement {\r\n    private _text: string;\r\n    private bitmapTxtSprite: PIXI.extras.BitmapText;\r\n    private txtSprite: PIXI.Text;\r\n    private bgGraphic: PIXI.Graphics;\r\n    private bgSprite: PIXI.Sprite;\r\n    private styleOptions: ButtonStyleOptions = { defaultStyle: {}, font: '', useBitmapText: true };\r\n    private _currentStyleState: ButtonStyleStateOptions;\r\n    private _btnState: BtnState = BtnState.NONE;\r\n    constructor(text: string, styleOptions: ButtonStyleOptions) {\r\n        super();\r\n        this._text = text;\r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n        this.on('pointerdown', () => this.btnState = BtnState.PRESSED);\r\n        this.on('pointerup', () => this.btnState = BtnState.NONE);\r\n        this.on('pointerupoutside', () => this.btnState = BtnState.NONE);\r\n        this.on('pointerover', () => this.btnState = BtnState.HOVER);\r\n        this.on('pointerout', () => this.btnState = BtnState.NONE);\r\n        this.updateStyle(styleOptions);\r\n    }\r\n\r\n    set btnState(newState) {\r\n        if(newState !== this._btnState) {\r\n            this._btnState = newState;\r\n            this.redraw();\r\n        }\r\n    }\r\n\r\n    set text(value) {\r\n        this._text = value;\r\n        this.redrawText();\r\n    }\r\n\r\n    public updateStyle(styleOptions: ButtonStyleOptions) {\r\n        Object.keys(styleOptions).forEach(key => {\r\n            this.styleOptions[key] = styleOptions[key];\r\n        });\r\n        this.styleOptions.useBitmapText = this.styleOptions.useBitmapText || false;\r\n        this.redraw();\r\n    }\r\n\r\n    public redraw() {\r\n        this.clear();\r\n        this.redrawBg();\r\n        this.redrawText();\r\n    }\r\n\r\n\r\n    public redrawText() {\r\n        let sprite;\r\n        if(this.styleOptions.useBitmapText) {\r\n            if(!this.bitmapTxtSprite) {\r\n                this.bitmapTxtSprite = new PIXI.extras.BitmapText('', {font: this.styleOptions.font, align: 'center'});\r\n            }\r\n            if(this.txtSprite) {\r\n                this.txtSprite.destroy();\r\n                this.txtSprite = null;\r\n            }\r\n            this.bitmapTxtSprite.maxWidth = this.width;\r\n            sprite = this.bitmapTxtSprite;\r\n        } else {\r\n            if(!this.txtSprite) {\r\n                this.txtSprite = new PIXI.Text('', {fontFamily: this.styleOptions.font, align: 'center'});\r\n            }\r\n            if(this.styleOptions.fontSize) {\r\n                this.txtSprite.style.fontSize = this.styleOptions.fontSize;\r\n            }\r\n            if(this.bitmapTxtSprite) {\r\n                this.bitmapTxtSprite.destroy({ children: true });\r\n                this.bitmapTxtSprite = null;\r\n            }\r\n            sprite = this.txtSprite;\r\n        }\r\n        if(this.currentStyleState.textColor || this.currentStyleState.textColor == 0) {\r\n            if(this.styleOptions.useBitmapText) {\r\n                this.bitmapTxtSprite.tint = this.currentStyleState.textColor;\r\n            } else {\r\n                this.txtSprite.style.fill = this.currentStyleState.textColor\r\n            }\r\n        }\r\n        if(!sprite.parent) {\r\n            this.addChild(sprite);\r\n        }\r\n        sprite.text = this._text;\r\n        sprite.x = this.currentStyleState.width / 2 - sprite.width / 2;\r\n        sprite.y = this.currentStyleState.height / 2 - sprite.height / 2;\r\n    }\r\n\r\n    get textSpriteUtilized() {\r\n        if(this.styleOptions.useBitmapText) return this.bitmapTxtSprite;\r\n        return this.txtSprite;\r\n    }\r\n\r\n    public redrawBg() {\r\n        let {backgroundColor, borderRadius, borderColor, borderWidth, width, height, backgroundTexture, backgroundOpacity, borderOpacity} = this.currentStyleState;\r\n        if(backgroundColor || backgroundColor == 0) {\r\n            if(!this.bgGraphic) {\r\n                this.bgGraphic = new PIXI.Graphics();\r\n            } else {\r\n                this.bgGraphic.clear();\r\n            }\r\n            if(!this.bgGraphic.parent) {\r\n                this.addChild(this.bgGraphic);\r\n            }\r\n            backgroundOpacity = backgroundOpacity || backgroundOpacity == 0 ? backgroundOpacity : 1;\r\n            this.bgGraphic.beginFill(backgroundColor, backgroundOpacity);\r\n            if(borderWidth) {\r\n                borderOpacity = borderOpacity || borderOpacity == 0 ? borderOpacity : 1;\r\n                this.bgGraphic.lineStyle(borderWidth, borderColor, borderOpacity);\r\n            }\r\n\r\n            if(borderRadius) {\r\n                const computedBorderRadius =  borderRadius / 100 * height;\r\n                this.bgGraphic.drawRoundedRect(0, 0, width, height, computedBorderRadius);\r\n            } else {\r\n                this.bgGraphic.drawRect(0, 0, width, height);\r\n            }\r\n            this.bgGraphic.endFill();\r\n        }\r\n\r\n        if(backgroundTexture) {\r\n            if(!this.bgSprite) {\r\n                this.bgSprite = new PIXI.Sprite();\r\n            }\r\n            if(!this.bgSprite.parent) {\r\n                this.addChild(this.bgGraphic);\r\n            }\r\n            this.bgSprite.texture = backgroundTexture;\r\n            this.bgSprite.x = width / 2 - this.bgSprite.x / 2;\r\n            this.bgSprite.y = height / 2 - this.bgSprite.y / 2;\r\n        }\r\n        this.hitArea = new PIXI.Rectangle(0, 0, width, height);\r\n    }\r\n\r\n    private clear() {\r\n        if(this.textSpriteUtilized) {\r\n            this.removeChild(this.textSpriteUtilized);\r\n            this.textSpriteUtilized.destroy({ children: true });\r\n            this.bitmapTxtSprite = null;\r\n            this.txtSprite = null;\r\n        }\r\n        if(this.bgGraphic) {\r\n            this.removeChild(this.bgGraphic);\r\n            this.bgGraphic.destroy();\r\n            this.bgGraphic = null;\r\n        }\r\n        if(this.bgSprite) {\r\n            this.removeChild(this.bgSprite);\r\n            this.bgSprite.destroy();\r\n            this.bgSprite = null;\r\n        }\r\n    }\r\n\r\n    get currentStyleState() {\r\n        switch(this._btnState) {\r\n            case BtnState.NONE:\r\n                return this.styleOptions.defaultStyle;\r\n                break;\r\n            case BtnState.HOVER:\r\n                return this.styleOptions.hoverStyle ? this.styleOptions.hoverStyle : this.styleOptions.defaultStyle;\r\n                break;\r\n            case BtnState.PRESSED:\r\n                // cascade to check if we have pressedStyle defined, if so use it, otherwise use hover, otherwise use default\r\n                return this.styleOptions.pressedStyle ? this.styleOptions.pressedStyle :\r\n                    this.styleOptions.hoverStyle ? this.styleOptions.hoverStyle :\r\n                        this.styleOptions.defaultStyle;\r\n                break;\r\n        }\r\n    }\r\n}","\r\ntype SliderOptions = {\r\n  startingValue: number;\r\n  minValue: number;\r\n  maxValue: number;\r\n  width: number;\r\n  height: number;\r\n  circleRadius: number;\r\n  preventScaleAdjustment?: boolean;\r\n  circleOpacity?: number;\r\n  down?: {\r\n      circleOpacity?: number;\r\n      circleRadius?: number;\r\n      circleColor?: number;\r\n      circleOutlineWidth?: number;\r\n      circleOutlineColor?: number;\r\n      circleOutlineOpacity?: number;\r\n  };\r\n  hover?: {\r\n      circleOpacity?: number;\r\n      circleRadius?: number;\r\n      circleColor?: number;\r\n      circleOutlineWidth?: number;\r\n      circleOutlineColor?: number;\r\n      circleOutlineOpacity?: number;\r\n  };\r\n  activeColor: number;\r\n  inactiveColor: number;\r\n  opacity?: number;\r\n  circleColor?: number;\r\n  circleOutlineWidth?: number;\r\n  circleOutlineColor?: number;\r\n  circleOutlineOpacity?: number;\r\n}\r\n\r\nclass Slider extends PIXI.Container {\r\n  isDragging: boolean;\r\n  isHovered: boolean;\r\n  curOutlineWidth: number;\r\n  lastX: number;\r\n  resolvedScale: { x: number; y: number; } | null;\r\n  options: SliderOptions;\r\n  currentValue: number;\r\n  backgroundGraphic: PIXI.Graphics;\r\n  circleRadius: number;\r\n  circleGraphic: PIXI.Graphics;\r\n\r\n  constructor(t: SliderOptions) { // You need to define the type of 't'\r\n      super();\r\n      this.isDragging = false;\r\n      this.isHovered = false;\r\n      this.curOutlineWidth = 0;\r\n      this.lastX = 0;\r\n      this.resolvedScale = null;\r\n      this.options = t;\r\n      this.currentValue = this.options.startingValue;\r\n\r\n      this.backgroundGraphic = new PIXI.Graphics();\r\n      super.addChild(this.backgroundGraphic);\r\n\r\n      this.circleRadius = this.options.circleRadius;\r\n\r\n      this.circleGraphic = new PIXI.Graphics();\r\n      this.circleGraphic.drawCircle(0, 0, this.circleRadius);\r\n      this.circleGraphic.y = 0;\r\n      this.circleGraphic.buttonMode = true;\r\n      super.addChild(this.circleGraphic);\r\n      this.circleGraphic.interactive = true;\r\n      console.log(this.options.maxValue - this.options.minValue);\r\n      \r\n\r\n      const e = (this.currentValue - this.options.minValue) / (this.options.maxValue - this.options.minValue);\r\n      console.log('e was', e)\r\n    console.log('and x would become', this.options.width * e);\r\n      this.circleGraphic.x = e * this.options.width;\r\n\r\n      this.redrawCircle();\r\n      this.redrawBar();\r\n\r\n      this.circleGraphic.on(\"pointerover\", t => {\r\n          this.isHovered = true;\r\n          this.redrawCircle();\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointerout\", () => {\r\n          if (this.isHovered) {\r\n              this.isHovered = false;\r\n              if (!this.isDragging) {\r\n                  this.redrawCircle();\r\n              }\r\n          }\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointerdown\", t => {\r\n          this.resolvedScale = null;\r\n          this.resolveScale();\r\n          this.isDragging = true;\r\n          this.lastX = t.data.global.x;\r\n          this.redrawCircle();\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointercancel\", () => {\r\n          if (this.isDragging) {\r\n              this.resolvedScale = null;\r\n              this.isDragging = false;\r\n              this.redrawCircle();\r\n          }\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointerup\", () => {\r\n          if (this.isDragging) {\r\n              this.resolvedScale = null;\r\n              this.isDragging = false;\r\n              this.redrawCircle();\r\n          }\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointerupoutside\", () => {\r\n          if (this.isDragging) {\r\n              this.resolvedScale = null;\r\n              this.isDragging = false;\r\n              this.redrawCircle();\r\n          }\r\n      });\r\n\r\n      this.circleGraphic.on(\"pointermove\", t => {\r\n          if (!this.isDragging) return;\r\n\r\n          let e = t.data.global.x - this.lastX;\r\n          const i = this.options.preventScaleAdjustment ? 1 : this.resolveScale().x;\r\n\r\n          e *= i;\r\n\r\n          if ((e < 0 && t.data.global.x * i < this.x && this.circleGraphic.x === 0) || (e > 0 && t.data.global.x * i > this.options.width && this.circleGraphic.x === this.options.width)) return;\r\n\r\n          this.lastX = t.data.global.x;\r\n\r\n          const r = this.circleGraphic.x;\r\n          this.circleGraphic.x += e;\r\n          this.circleGraphic.x = Math.max(0, Math.min(this.circleGraphic.x, this.options.width));\r\n\r\n          if (this.circleGraphic.x - r) {\r\n              this.currentValue = this.calculateValue();\r\n              this.redrawBar();\r\n              super.emit(\"slider-change\", this.currentValue);\r\n          }\r\n      });\r\n  }\r\n\r\n  resolveScale() {\r\n      if (this.resolvedScale) return this.resolvedScale;\r\n\r\n      let t = 1 / this.scale.x, e = 1 / this.scale.y, i = this.parent;\r\n\r\n      for (; i;) {\r\n          t /= i.scale.x;\r\n          e /= i.scale.y;\r\n          i = i.parent;\r\n      }\r\n\r\n      return this.resolvedScale = { x: t, y: e };\r\n  }\r\n\r\n  calculateValue() {\r\n      const { maxValue, minValue, width } = this.options;\r\n      const s = this.circleGraphic.x / width;\r\n      return lerp(minValue, maxValue, s);\r\n  }\r\n\r\n  redrawCircle() {\r\n    this.circleGraphic.clear();\r\n    let circleOpacity = this.options.circleOpacity || 1;\r\n    if (this.isDragging && this.options.down?.circleOpacity) {\r\n        circleOpacity = this.options.down.circleOpacity;\r\n    } else if (this.isHovered && this.options.hover?.circleOpacity) {\r\n        circleOpacity = this.options.hover.circleOpacity;\r\n    }\r\n    let circleRadius = this.options.circleRadius;\r\n    if (this.isDragging && this.options.down?.circleRadius) {\r\n        circleRadius = this.options.down.circleRadius;\r\n    } else if (this.isHovered && this.options.hover?.circleRadius) {\r\n        circleRadius = this.options.hover.circleRadius;\r\n    }\r\n    let circleColor = this.options.circleColor;\r\n    if (this.isDragging && this.options.down?.circleColor) {\r\n        circleColor = this.options.down.circleColor;\r\n    } else if (this.isHovered && this.options.hover?.circleColor) {\r\n        circleColor = this.options.hover.circleColor;\r\n    }\r\n    let circleOutlineWidth = 0;\r\n    if (this.isDragging && this.options.down?.circleOutlineWidth) {\r\n        circleOutlineWidth = this.options.down.circleOutlineWidth;\r\n    } else if (this.isHovered && this.options.hover?.circleOutlineWidth) {\r\n        circleOutlineWidth = this.options.hover.circleOutlineWidth;\r\n    } else if (this.options.circleOutlineWidth) {\r\n        circleOutlineWidth = this.options.circleOutlineWidth;\r\n    }\r\n    let circleOutlineColor = this.options.circleOutlineColor || 0x000000;\r\n    if (this.isDragging && this.options.down?.circleOutlineColor) {\r\n        circleOutlineColor = this.options.down.circleOutlineColor;\r\n    } else if (this.isHovered && this.options.hover?.circleOutlineColor) {\r\n        circleOutlineColor = this.options.hover.circleOutlineColor;\r\n    }\r\n    let circleOutlineOpacity = this.options.circleOutlineOpacity || 1;\r\n    if (this.isDragging && this.options.down?.circleOutlineOpacity) {\r\n        circleOutlineOpacity = this.options.down.circleOutlineOpacity;\r\n    } else if (this.isHovered && this.options.hover?.circleOutlineOpacity) {\r\n        circleOutlineOpacity = this.options.hover.circleOutlineOpacity;\r\n    }\r\n\r\n    this.circleGraphic.lineStyle(circleOutlineWidth, circleOutlineColor, circleOutlineOpacity);\r\n    this.circleGraphic.beginFill(circleColor, circleOpacity);\r\n    this.circleGraphic.drawCircle(0, 0, circleRadius);\r\n    this.circleGraphic.endFill();\r\n}\r\n\r\nredrawBar() {\r\n    const t = this.circleGraphic.x;\r\n    console.log('t was', t);\r\n    const e = this.options.width - t;\r\n    console.log('e was', e);\r\n    console.log('width was', this.options.width)\r\n    this.backgroundGraphic.clear();\r\n    const i = this.options.opacity || 1;\r\n    this.backgroundGraphic.beginFill(this.options.activeColor, i);\r\n    this.backgroundGraphic.drawRect(0, 0, t, this.options.height);\r\n    this.backgroundGraphic.endFill();\r\n    this.backgroundGraphic.beginFill(this.options.inactiveColor, i);\r\n    this.backgroundGraphic.drawRect(t, 0, e, this.options.height);\r\n    this.backgroundGraphic.endFill();\r\n}\r\n  redraw() {\r\n      // Implement redraw method\r\n  }\r\n\r\n  offChange(t: (v: number) => void) {\r\n    super.off(\"slider-change\", t);\r\n  }\r\n\r\n  onChange(t: (v: number) => void) {\r\n    super.on(\"slider-change\", t);\r\n  }\r\n}\r\nfunction lerp(a: number, b: number, t: number): number {\r\n    return (1 - t) * a + t * b;\r\n}\r\nexport { Slider, SliderOptions };"],"sourceRoot":""}